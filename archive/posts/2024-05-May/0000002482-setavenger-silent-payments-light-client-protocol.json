{
  "id": 2482,
  "name": "",
  "username": "setavenger",
  "avatar_template": "/user_avatar/delvingbitcoin.org/setavenger/{size}/573_2.png",
  "created_at": "2024-05-21T09:15:50.167Z",
  "cooked": "<p>During the development of a couple light clients I jotted down some notes and created a very early draft for a <a href=\"https://github.com/setavenger/BIP0352-light-client-specification\" rel=\"noopener nofollow ugc\">Light Client Specification</a>. The appendix of the SP BIP was used as a basis for this. The specification was designed with two goals in mind. (1) Reduce the computational burden for light clients, and (2) Minimise the bandwidth requirements. Both goals have to be achieved without compromising privacy for the user. The protocol is designed such that a light client can connect to any public indexing server without giving out more information than \u201cI\u2019m interested in this block\u201d.</p>\n<p>There have been a couple short discussions around this Light Client Protocol. Now that an early draft exists I would like to get more people involved in the process. The draft can be found here: <a href=\"https://github.com/setavenger/BIP0352-light-client-specification\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">GitHub - setavenger/BIP0352-light-client-specification: This repo has the goal to define a spec for a BIP0352 Silent Payment light client</a></p>\n<p>The computational burden is reduced by generating a tweak index. To further reduce the required computations (and also bandwidth) we can apply cut-through to the transactions. So pruning tweaks for transactions where all taproot UTXOs are spent. Bandwidth is reduced through various measures which mainly revolve around only providing the data necessary for a light client to find and spend a UTXO.</p>\n<p>The basic flow for a client to receive is as follows:</p>\n<p>Per block:</p>\n<ol>\n<li>Fetch the tweaks (possibly filtered for dust limit)</li>\n<li>Compute the possible pubKeys for n = 0</li>\n<li>Fetch taproot-only filter (BIP 158)</li>\n<li>Compare the pubKeys against a taproot-only filter\n<ul>\n<li>If no match: go to 1. with block_height + 1</li>\n<li>Else: continue with 5.</li>\n</ul>\n</li>\n<li>Fetch simplified UTXOs</li>\n<li>Scan according to the BIP (one could reuse pubKeys from 2. here)</li>\n<li>Collect all matched UTXOs and add to wallet</li>\n<li>Go to 1. with block_height + 1</li>\n</ol>\n<p>As mentioned in the specification a scriptPubKey that has already received funds should be tracked as well. The reasoning can be found in the specification.</p>",
  "post_number": 1,
  "post_type": 1,
  "updated_at": "2024-05-21T09:15:50.167Z",
  "reply_count": 1,
  "reply_to_post_number": null,
  "quote_count": 0,
  "incoming_link_count": 56,
  "reads": 24,
  "readers_count": 23,
  "score": 319.8,
  "yours": false,
  "topic_id": 891,
  "topic_slug": "silent-payments-light-client-protocol",
  "topic_title": "Silent Payments: Light Client Protocol",
  "topic_html_title": "Silent Payments: Light Client Protocol",
  "category_id": 12,
  "display_username": "",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "During the development of a couple light clients I jotted down some notes and created a very early draft for a [Light Client Specification](https://github.com/setavenger/BIP0352-light-client-specification). The appendix of the SP BIP was used as a basis for this. The specification was designed with two goals in mind. (1) Reduce the computational burden for light clients, and (2) Minimise the bandwidth requirements. Both goals have to be achieved without compromising privacy for the user. The protocol is designed such that a light client can connect to any public indexing server without giving out more information than \"I'm interested in this block\".\n\nThere have been a couple short discussions around this Light Client Protocol. Now that an early draft exists I would like to get more people involved in the process. The draft can be found here: https://github.com/setavenger/BIP0352-light-client-specification\n\nThe computational burden is reduced by generating a tweak index. To further reduce the required computations (and also bandwidth) we can apply cut-through to the transactions. So pruning tweaks for transactions where all taproot UTXOs are spent. Bandwidth is reduced through various measures which mainly revolve around only providing the data necessary for a light client to find and spend a UTXO.\n\nThe basic flow for a client to receive is as follows:\n\nPer block:\n\n1. Fetch the tweaks (possibly filtered for dust limit)\n2. Compute the possible pubKeys for n = 0\n3. Fetch taproot-only filter (BIP 158)\n4. Compare the pubKeys against a taproot-only filter\n    - If no match: go to 1. with block_height + 1\n    - Else: continue with 5.\n5. Fetch simplified UTXOs\n6. Scan according to the BIP (one could reuse pubKeys from 2. here)\n7. Collect all matched UTXOs and add to wallet\n8. Go to 1. with block_height + 1\n\nAs mentioned in the specification a scriptPubKey that has already received funds should be tracked as well. The reasoning can be found in the specification.",
  "actions_summary": [
    {
      "id": 2,
      "count": 2
    }
  ],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 435,
  "hidden": false,
  "trust_level": 0,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "reactions": [
    {
      "id": "+1",
      "type": "emoji",
      "count": 1
    },
    {
      "id": "heart",
      "type": "emoji",
      "count": 1
    }
  ],
  "current_user_reaction": null,
  "reaction_users_count": 2,
  "current_user_used_main_reaction": false
}