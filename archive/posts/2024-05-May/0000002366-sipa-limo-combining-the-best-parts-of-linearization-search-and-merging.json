{
  "id": 2366,
  "name": "Pieter Wuille",
  "username": "sipa",
  "avatar_template": "/user_avatar/delvingbitcoin.org/sipa/{size}/102_2.png",
  "created_at": "2024-05-04T14:30:41.478Z",
  "cooked": "<p>Actually, there is an even simpler formulation of this. If you want to find a subset <span class=\"math\">S</span> that, which when moved to the front is not incompatible with reaching the cumulative size/fee point corresponding to each set of transactions <span class=\"math\">P = \\{p_1, p_2, \\ldots, p_n\\}</span>, then <span class=\"math\">S</span> needs to have a feerate at least as high as every <span class=\"math\">p_i</span>, and no intersection <span class=\"math\">S \\cap p_i</span> can have a higher feerate.</p>\n<p>In the case of Double LIMO, <span class=\"math\">P</span> consists of all prefixes of chunks of <span class=\"math\">L</span>, plus <span class=\"math\">S_1</span> and <span class=\"math\">S_2</span>.</p>\n<p>The LIMO theorem:</p>\n<p>Given a set <span class=\"math\">P = \\{p_1, p_2, \\ldots, p_n\\}</span> of topological subsets of transactions of a graph <span class=\"math\">G</span>, a topological subset <span class=\"math\">S</span> of transactions of <span class=\"math\">G</span>, and a linearization <span class=\"math\">L_S</span> for <span class=\"math\">S</span> such that:</p>\n<ul>\n<li>For all <span class=\"math\">i</span>, <span class=\"math\">\\operatorname{feerate}(S) \\geq \\operatorname{feerate}(p_i)</span></li>\n<li>For all <span class=\"math\">i</span>, <span class=\"math\">\\operatorname{feerate}(S) \\geq \\operatorname{feerate}(S \\cap p_i)</span> or <span class=\"math\">S \\cap p_i = \\varnothing</span></li>\n</ul>\n<p>Then there always exists a linearization <span class=\"math\">L</span> of <span class=\"math\">G</span> for which:</p>\n<ul>\n<li><span class=\"math\">L_S</span> is a prefix of <span class=\"math\">L</span></li>\n<li>For all <span class=\"math\">i</span>, <span class=\"math\">\\operatorname{diag}_L(\\operatorname{size}(p_i)) \\geq \\operatorname{fee}(p_i)</span></li>\n</ul>\n<p>Such an <span class=\"math\">S</span> necessarily exists, e.g. the highest-feerate subset of all combinations of intersections between the <span class=\"math\">p_i</span> sets, though more efficient approaches exist.</p>",
  "post_number": 9,
  "post_type": 1,
  "updated_at": "2024-05-04T14:55:55.227Z",
  "reply_count": 0,
  "reply_to_post_number": null,
  "quote_count": 0,
  "incoming_link_count": 0,
  "reads": 3,
  "readers_count": 2,
  "score": 0.6,
  "yours": false,
  "topic_id": 825,
  "topic_slug": "limo-combining-the-best-parts-of-linearization-search-and-merging",
  "topic_title": "LIMO: combining the best parts of linearization search and merging",
  "topic_html_title": "LIMO: combining the best parts of linearization search and merging",
  "category_id": 8,
  "display_username": "Pieter Wuille",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "version": 4,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "Actually, there is an even simpler formulation of this. If you want to find a subset $S$ that, which when moved to the front is not incompatible with reaching the cumulative size/fee point corresponding to each set of transactions $P = \\{p_1, p_2, \\ldots, p_n\\}$, then $S$ needs to have a feerate at least as high as every $p_i$, and no intersection $S \\cap p_i$ can have a higher feerate.\n\nIn the case of Double LIMO, $P$ consists of all prefixes of chunks of $L$, plus $S_1$ and $S_2$.\n\nThe LIMO theorem:\n\nGiven a set $P = \\{p_1, p_2, \\ldots, p_n\\}$ of topological subsets of transactions of a graph $G$, a topological subset $S$ of transactions of $G$, and a linearization $L_S$ for $S$ such that:\n* For all $i$, $\\operatorname{feerate}(S) \\geq \\operatorname{feerate}(p_i)$\n* For all $i$, $\\operatorname{feerate}(S) \\geq \\operatorname{feerate}(S \\cap p_i)$ or $S \\cap p_i = \\varnothing$\n\nThen there always exists a linearization $L$ of $G$ for which:\n* $L_S$ is a prefix of $L$\n* For all $i$, $\\operatorname{diag}_L(\\operatorname{size}(p_i)) \\geq \\operatorname{fee}(p_i)$\n\nSuch an $S$ necessarily exists, e.g. the highest-feerate subset of all combinations of intersections between the $p_i$ sets, though more efficient approaches exist.",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 96,
  "hidden": false,
  "trust_level": 3,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false
}