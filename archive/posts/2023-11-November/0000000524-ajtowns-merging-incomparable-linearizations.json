{
  "id": 524,
  "name": "Anthony Towns",
  "username": "ajtowns",
  "avatar_template": "/user_avatar/delvingbitcoin.org/ajtowns/{size}/3_2.png",
  "created_at": "2023-11-30T18:45:15.537Z",
  "cooked": "<aside class=\"quote no-group\" data-username=\"sipa\" data-post=\"28\" data-topic=\"209\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/sipa/48/102_2.png\" class=\"avatar\"> sipa:</div>\n<blockquote>\n<p>In what follows, we will show that every point on <span class=\"math\">N</span> lies on or above a line making up <span class=\"math\">D</span>. If that holds, it follows that <span class=\"math\">N</span> in its entirety lies on or above <span class=\"math\">D</span>:</p>\n</blockquote>\n</aside>\n<p>I think the intuition for this is that you\u2019re constructing a (possibly non-optimal) feerate diagram for <span class=\"math\">L_G+L_B</span> by taking the subsets <span class=\"math\">L_G + \\sum_{i=1}^j d_i</span> and showing this is a better diagram than that of <span class=\"math\">L</span>. Because you can\u2019t say anything about <span class=\"math\">d_i</span> (the bad parts of each chunk), you\u2019re instead taking the first <span class=\"math\">j</span> chunks as a whole, which have a feerate of <span class=\"math\">f</span> or lower, and then the suffix of <span class=\"math\">L_G</span> that was missed, which has a feerate of <span class=\"math\">f</span> or high, which kinks the diagram up. Kinking the diagram up means this subset has a better diagram than the chunks up to and including <span class=\"math\">c_j</span>.</p>\n<p>FWIW, I think this was the argument I was trying to make in <a href=\"https://delvingbitcoin.org/t/merging-incomparable-linearizations/209/9\">my earlier comment</a> but couldn\u2019t quite get a hold of.</p>\n<p>I think the general point is just: <span class=\"math\">L^* \\ge L</span> if (and only if?) for each <span class=\"math\">\\gamma_i</span> (prefixes matching the optimal chunking of <span class=\"math\">L</span>) there exists a set of txs <span class=\"math\">\\zeta_i</span> where <span class=\"math\">\\gamma_i \\cup \\zeta_i</span> is a prefix of <span class=\"math\">L^*</span> and <span class=\"math\">R(\\zeta_i) \\ge R(\\gamma_i)</span>.</p>\n<p>Ah! Actually, isn\u2019t a better \u201cdiagram\u201d to consider the ray from the origin to these <span class=\"math\">P(\\gamma_i)</span> points in general, ie, for <span class=\"math\">x=0...c_1</span> plot the y value as <span class=\"math\">R(\\gamma_1)</span>, for <span class=\"math\">x=c_1..c_2</span> plot <span class=\"math\">R(\\gamma_2)</span> etc. Then (I think) you still compare two diagrams by seeing if all the points on one are below all the points on the other; but have the result that for an optimal chunking, the line is monotonic decreasing, rather than concave.</p>\n<p>Also, with that approach, to figure out the diagram for the optimal chunking, you just do the diagram for every tx chunked individually, it\u2019s just <span class=\"math\">f_{opt}(x) = \\max(f(x^\\prime), x^\\prime \\ge x)</span>.</p>",
  "post_number": 30,
  "post_type": 1,
  "updated_at": "2023-11-30T19:01:40.070Z",
  "reply_count": 2,
  "reply_to_post_number": 28,
  "quote_count": 1,
  "incoming_link_count": 0,
  "reads": 4,
  "readers_count": 3,
  "score": 10.8,
  "yours": false,
  "topic_id": 209,
  "topic_slug": "merging-incomparable-linearizations",
  "topic_title": "Merging incomparable linearizations",
  "topic_html_title": "Merging incomparable linearizations",
  "category_id": 9,
  "display_username": "Anthony Towns",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "version": 2,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "[quote=\"sipa, post:28, topic:209\"]\nIn what follows, we will show that every point on $N$ lies on or above a line making up $D$. If that holds, it follows that $N$ in its entirety lies on or above $D$:\n[/quote]\n\nI think the intuition for this is that you're constructing a (possibly non-optimal) feerate diagram for $L_G+L_B$ by taking the subsets $L_G + \\sum_{i=1}^j d_i$ and showing this is a better diagram than that of $L$. Because you can't say anything about $d_i$ (the bad parts of each chunk), you're instead taking the first $j$ chunks as a whole, which have a feerate of $f$ or lower, and then the suffix of $L_G$ that was missed, which has a feerate of $f$ or high, which kinks the diagram up. Kinking the diagram up means this subset has a better diagram than the chunks up to and including $c_j$.\n\nFWIW, I think this was the argument I was trying to make in [my earlier comment](https://delvingbitcoin.org/t/merging-incomparable-linearizations/209/9) but couldn't quite get a hold of.\n\nI think the general point is just: $L^* \\ge L$ if (and only if?) for each $\\gamma_i$ (prefixes matching the optimal chunking of $L$) there exists a set of txs $\\zeta_i$ where $\\gamma_i \\cup \\zeta_i$ is a prefix of $L^*$ and $R(\\zeta_i) \\ge R(\\gamma_i)$.\n\nAh! Actually, isn't a better \"diagram\" to consider the ray from the origin to these $P(\\gamma_i)$ points in general, ie, for $x=0...c_1$ plot the y value as $R(\\gamma_1)$, for $x=c_1..c_2$ plot $R(\\gamma_2)$ etc. Then (I think) you still compare two diagrams by seeing if all the points on one are below all the points on the other; but have the result that for an optimal chunking, the line is monotonic decreasing, rather than concave.\n\nAlso, with that approach, to figure out the diagram for the optimal chunking, you just do the diagram for every tx chunked individually, it's just $f_{opt}(x) = \\max(f(x^\\prime), x^\\prime \\ge x)$.",
  "actions_summary": [],
  "moderator": true,
  "admin": true,
  "staff": true,
  "user_id": 3,
  "hidden": false,
  "trust_level": 4,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false
}