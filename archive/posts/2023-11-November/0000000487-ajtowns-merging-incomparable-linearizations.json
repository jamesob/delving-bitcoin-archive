{
  "id": 487,
  "name": "Anthony Towns",
  "username": "ajtowns",
  "avatar_template": "/user_avatar/delvingbitcoin.org/ajtowns/{size}/417_2.png",
  "created_at": "2023-11-26T04:58:04.816Z",
  "cooked": "<p>(I\u2019m finding it hard to work out a decent way of comparing diagrams that doesn\u2019t get lost in details really quickly. Perhaps the problem is that I really only want to compare orderings of a given set of transactions after chunking them, not compare two orderings of potentially two different sets of transactions with arbitrary groupings)</p>\n<p>Anyway, I guess the general case I\u2019m going for here is</p>\n<div class=\"math\">\n\\epsilon_n + \\delta_j \\ge \\gamma_j + \\zeta_j\n</div>\n<p>Those are comprised of the exact same txs, ie <span class=\"math\">d_1, .., d_j</span> and <span class=\"math\">e_1, .., e_n</span>, but in different orders. The QED step is setting <span class=\"math\">j=n</span> giving <span class=\"math\">\\zeta_j=\\emptyset</span>, and thus <span class=\"math\">R_1 + (L_2 - R_1) = \\epsilon_n + \\delta_n \\ge \\gamma_n = L_2</span>. <span class=\"math\">\\ge</span> is a diagram comparison after chunking the txs, and <span class=\"math\">+, \\sum</span> are concatenation.</p>\n<p>The initial step for <span class=\"math\">j=0</span> is easy: <span class=\"math\">\\delta_0 = \\gamma_0 = \\emptyset</span> and <span class=\"math\">\\epsilon_n = \\zeta_0</span> by construction.</p>\n<p>The inductive step is to show <span class=\"math\">\\epsilon_n + \\delta_{j+1} \\ge \\gamma_{j+1} + \\zeta_{j+1}</span>. To show that, we have:</p>\n<div class=\"math\">\n\\begin{align}\n\\epsilon_n + \\delta_{j+1} &amp;= (\\epsilon_n + \\delta_j) + d_{j+1} \\\\\n &amp;\\ge (\\gamma_j + \\zeta_j) + d_{j+1} \\\\\n &amp;= \\gamma_j + (e_{j+1} + \\zeta_{j+1}) + d_{j+1} \\\\\n &amp;\\ge \\gamma_j + e_{j+1} + (d_{j+1}) + \\zeta_{j+1} \\\\\n &amp;\\ge \\gamma_j + (c_{j+1}) + \\zeta_{j+1} \\\\\n &amp;= \\gamma_{j+1} + \\zeta_{j+1}\n\\end{align}\n</div>\n<p>Note that this chain is from best linearisation to worse. Steps are:</p>\n<ul>\n<li>inductive hypothesis</li>\n<li>moving <span class=\"math\">d_{j+1}</span> after <span class=\"math\">\\zeta_{j+1}</span> improves things (observe that <span class=\"math\">\\zeta_{j+1}</span> has a higher feerate than any chunk)</li>\n<li>reordering the chunk <span class=\"math\">c_{j+1}</span> into <span class=\"math\">e_{j+1} + d_{j+1}</span> doesn\u2019t make things worse</li>\n</ul>\n<p>Not sure how to properly formalise those steps yet, but I think they\u2019re okay.</p>",
  "post_number": 16,
  "post_type": 1,
  "posts_count": 46,
  "updated_at": "2023-11-26T05:10:37.058Z",
  "reply_count": 1,
  "reply_to_post_number": 15,
  "quote_count": 0,
  "incoming_link_count": 0,
  "reads": 27,
  "readers_count": 26,
  "score": 10.4,
  "yours": false,
  "topic_id": 209,
  "topic_slug": "merging-incomparable-linearizations",
  "topic_title": "Merging incomparable linearizations",
  "topic_html_title": "Merging incomparable linearizations",
  "category_id": 8,
  "display_username": "Anthony Towns",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "badges_granted": [],
  "version": 2,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "reply_to_user": {
    "id": 96,
    "username": "sipa",
    "name": "Pieter Wuille",
    "avatar_template": "/user_avatar/delvingbitcoin.org/sipa/{size}/1100_2.png"
  },
  "bookmarked": false,
  "raw": "(I'm finding it hard to work out a decent way of comparing diagrams that doesn't get lost in details really quickly. Perhaps the problem is that I really only want to compare orderings of a given set of transactions after chunking them, not compare two orderings of potentially two different sets of transactions with arbitrary groupings)\n\nAnyway, I guess the general case I'm going for here is\n\n$$\n\\epsilon_n + \\delta_j \\ge \\gamma_j + \\zeta_j\n$$\n\nThose are comprised of the exact same txs, ie $d_1, .., d_j$ and $e_1, .., e_n$, but in different orders. The QED step is setting $j=n$ giving $\\zeta_j=\\emptyset$, and thus $R_1 + (L_2 - R_1) = \\epsilon_n + \\delta_n \\ge \\gamma_n = L_2$. $\\ge$ is a diagram comparison after chunking the txs, and $+, \\sum$ are concatenation.\n\nThe initial step for $j=0$ is easy: $\\delta_0 = \\gamma_0 = \\emptyset$ and $\\epsilon_n = \\zeta_0$ by construction.\n\nThe inductive step is to show $\\epsilon_n + \\delta_{j+1} \\ge \\gamma_{j+1} + \\zeta_{j+1}$. To show that, we have:\n\n$$\n\\begin{align}\n\\epsilon_n + \\delta_{j+1} &= (\\epsilon_n + \\delta_j) + d_{j+1} \\\\\n &\\ge (\\gamma_j + \\zeta_j) + d_{j+1} \\\\\n &= \\gamma_j + (e_{j+1} + \\zeta_{j+1}) + d_{j+1} \\\\\n &\\ge \\gamma_j + e_{j+1} + (d_{j+1}) + \\zeta_{j+1} \\\\\n &\\ge \\gamma_j + (c_{j+1}) + \\zeta_{j+1} \\\\\n &= \\gamma_{j+1} + \\zeta_{j+1}\n\\end{align}\n$$\n\nNote that this chain is from best linearisation to worse. Steps are:\n\n * inductive hypothesis\n * moving $d_{j+1}$ after $\\zeta_{j+1}$ improves things (observe that $\\zeta_{j+1}$ has a higher feerate than any chunk)\n * reordering the chunk $c_{j+1}$ into $e_{j+1} + d_{j+1}$ doesn't make things worse\n\nNot sure how to properly formalise those steps yet, but I think they're okay.",
  "actions_summary": [],
  "moderator": true,
  "admin": true,
  "staff": true,
  "user_id": 3,
  "hidden": false,
  "trust_level": 4,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "excerpt": "(I\u2019m finding it hard to work out a decent way of comparing diagrams that doesn\u2019t get lost in details really quickly. Perhaps the problem is that I really only want to compare orderings of a given set of transactions after chunking them, not compare two orderings of potentially two different sets of &hellip;",
  "truncated": true,
  "post_url": "/t/merging-incomparable-linearizations/209/16",
  "reactions": [
    {
      "id": "rocket",
      "type": "emoji",
      "count": 1
    }
  ],
  "current_user_reaction": null,
  "reaction_users_count": 1,
  "current_user_used_main_reaction": false,
  "can_accept_answer": false,
  "can_unaccept_answer": false,
  "accepted_answer": false,
  "topic_accepted_answer": null
}