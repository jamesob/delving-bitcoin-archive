{
  "id": 1519,
  "name": "Fabian",
  "username": "fjahr",
  "avatar_template": "/letter_avatar_proxy/v4/letter/f/ea5d25/{size}.png",
  "created_at": "2024-02-12T13:21:31.730Z",
  "cooked": "<p>(Cross-posting here for further discussion what I posted in the bitcoin-core-dev IRC meeting last week)</p>\n<p>I want to share the progress we have made on the data collection and processing steps that can lead to an ASMap file that we trust enough to include it in releases.</p>\n<p><a href=\"https://gist.github.com/fjahr/f879769228f4f1c49b49d348f80d7635\" rel=\"noopener nofollow ugc\">A rough draft of the ASMap creation process was shared about a year ago</a>, now the tools have finally improved enough and the ideas of the process have matured that now we can show what it looks like in action.</p>\n<p>The tools used are Kartograf (<a href=\"https://github.com/fjahr/kartograf\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">GitHub - fjahr/kartograf</a>) and sipa\u2019s asmap-tool (<a href=\"https://github.com/bitcoin/bitcoin/pull/28793\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">contrib: Add asmap-tool by fjahr \u00b7 Pull Request #28793 \u00b7 bitcoin/bitcoin \u00b7 GitHub</a>), the repository for the actual data is at <a href=\"https://github.com/fjahr/asmap-data\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">GitHub - fjahr/asmap-data: Demo repository for how a similar repository could be used in Bitcoin Core</a> for now, this should probably move into the org at some point if people are happy with this process.</p>\n<p>Step 1: Data collection, demoed here: <a href=\"https://github.com/fjahr/asmap-data/issues/9\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Collaborative Launch 1706536800 (2024-01-29 14:00 GMT, Kartograf v0.4.4) \u00b7 Issue #9 \u00b7 fjahr/asmap-data \u00b7 GitHub</a> Multiple contributors first agree to launch the Kartograf mapping process at a specific timestamp, coordinated via an issue. Kartograf now has a feature that makes this comfortable (<code>-wait</code>), you just set it and it launches the process when the timestamp is hit. In testing so far we have found that there is a good chance that within a group of 5 or more the majority of participants will have the same result. That is the threshold I am proposing as well for the start: 5+ participants and &gt;50% match in result. This will not work every time but maybe 4/5 and we can simply have a redo when there is a failure to agree on a result. We can also adjust the values over time as we get more practice. This process can be initiated by anyone, very similar to a Core PR. Participants that have a matching result could be interpreted as ACKs. If anyone sees something weird in the result or they simply didn\u2019t get a match, they can ask for the raw data to be shared to investigate further.</p>\n<p>Step 2: Compression, demoed here: <a href=\"https://github.com/fjahr/asmap-data/pull/10\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Add 1706536800_asmap.dat by fjahr \u00b7 Pull Request #10 \u00b7 fjahr/asmap-data \u00b7 GitHub</a> Based on the result file a PR can be created that adds the compressed asmap.dat of the previous result to the repo. Similar to our normal PRs, 2-3 reviewers should ensure they get the same result before the file gets merged.</p>\n<p>Step 3: Using the asmap.dat files: Users that want to run their node with an asmap file can get regular updates from there. When we decide to include a default asmap.dat file in a release, we can pick one of the recent ones from the repo.</p>\n<p>I would be happy to receive further feedback on the process itself and the tooling. I will announce the next dates for creations here as well.</p>",
  "post_number": 1,
  "post_type": 1,
  "updated_at": "2024-02-12T13:21:31.730Z",
  "reply_count": 0,
  "reply_to_post_number": null,
  "quote_count": 0,
  "incoming_link_count": 0,
  "reads": 5,
  "readers_count": 4,
  "score": 1.0,
  "yours": false,
  "topic_id": 548,
  "topic_slug": "asmap-creation-process",
  "topic_title": "ASMap creation process",
  "topic_html_title": "ASMap creation process",
  "category_id": 8,
  "display_username": "Fabian",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "(Cross-posting here for further discussion what I posted in the bitcoin-core-dev IRC meeting last week)\n\nI want to share the progress we have made on the data collection and processing steps that can lead to an ASMap file that we trust enough to include it in releases.\n\n[A rough draft of the ASMap creation process was shared about a year ago](https://gist.github.com/fjahr/f879769228f4f1c49b49d348f80d7635), now the tools have finally improved enough and the ideas of the process have matured that now we can show what it looks like in action.\n\nThe tools used are Kartograf (https://github.com/fjahr/kartograf) and sipa\u2019s asmap-tool (https://github.com/bitcoin/bitcoin/pull/28793), the repository for the actual data is at https://github.com/fjahr/asmap-data for now, this should probably move into the org at some point if people are happy with this process.\n\nStep 1: Data collection, demoed here: https://github.com/fjahr/asmap-data/issues/9 Multiple contributors first agree to launch the Kartograf mapping process at a specific timestamp, coordinated via an issue. Kartograf now has a feature that makes this comfortable (`-wait`), you just set it and it launches the process when the timestamp is hit. In testing so far we have found that there is a good chance that within a group of 5 or more the majority of participants will have the same result. That is the threshold I am proposing as well for the start: 5+ participants and >50% match in result. This will not work every time but maybe 4/5 and we can simply have a redo when there is a failure to agree on a result. We can also adjust the values over time as we get more practice. This process can be initiated by anyone, very similar to a Core PR. Participants that have a matching result could be interpreted as ACKs. If anyone sees something weird in the result or they simply didn\u2019t get a match, they can ask for the raw data to be shared to investigate further.\n\nStep 2: Compression, demoed here: https://github.com/fjahr/asmap-data/pull/10 Based on the result file a PR can be created that adds the compressed asmap.dat of the previous result to the repo. Similar to our normal PRs, 2-3 reviewers should ensure they get the same result before the file gets merged.\n\nStep 3: Using the asmap.dat files: Users that want to run their node with an asmap file can get regular updates from there. When we decide to include a default asmap.dat file in a release, we can pick one of the recent ones from the repo.\n\nI would be happy to receive further feedback on the process itself and the tooling. I will announce the next dates for creations here as well.",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 205,
  "hidden": false,
  "trust_level": 1,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false
}