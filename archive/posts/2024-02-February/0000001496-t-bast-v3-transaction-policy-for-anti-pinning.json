{
  "id": 1496,
  "name": "Bastien Teinturier",
  "username": "t-bast",
  "avatar_template": "/user_avatar/delvingbitcoin.org/t-bast/{size}/98_2.png",
  "created_at": "2024-02-09T09:59:39.658Z",
  "cooked": "<p>It\u2019s very tempting to reduce the 1000 vbytes value, but past data only shows honest attempts (with very few pending HTLCs) as we haven\u2019t seen any widespread attacks on the network yet, so it\u2019s hard to figure out what value would be \u201cbetter\u201d.</p>\n<p>The issue is that commitment transaction may be very large when filled with pending HTLCs. I believe that lnd for example allows up to 483 HTLCs in each direction in the commitment. When filled with 2 * 483 HTLCs, it already costs a bit more than 800 000 sats in fees to reach 20 sat/byte! I would expect such a fee bump to require multiple wallet inputs (even though we have no idea what the utxo set of node operators looks like).</p>\n<p>It probably doesn\u2019t make sense to pay that much fees though: node operators who don\u2019t have a large utxo set should limit the maximum value of pending HTLCs and the maximum number of pending HTLCs to something that matches the on-chain fees they\u2019re ready to pay. But we\u2019ve seen that default values are sticky, so people may be at risk if we don\u2019t allow some leeway here.</p>\n<p>I honestly don\u2019t know what value would make sense here, as any value will be too risky for some, and too safe for others.</p>",
  "post_number": 37,
  "post_type": 1,
  "updated_at": "2024-02-09T09:59:39.658Z",
  "reply_count": 0,
  "reply_to_post_number": 36,
  "quote_count": 0,
  "incoming_link_count": 0,
  "reads": 4,
  "readers_count": 3,
  "score": 0.8,
  "yours": false,
  "topic_id": 340,
  "topic_slug": "v3-transaction-policy-for-anti-pinning",
  "topic_title": "V3 transaction policy for anti-pinning",
  "topic_html_title": "V3 transaction policy for anti-pinning",
  "category_id": 7,
  "display_username": "Bastien Teinturier",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "reply_to_user": {
    "username": "sdaftuar",
    "name": "Suhas Daftuar",
    "avatar_template": "/letter_avatar_proxy/v4/letter/s/0ea827/{size}.png"
  },
  "bookmarked": false,
  "raw": "It's very tempting to reduce the 1000 vbytes value, but past data only shows honest attempts (with very few pending HTLCs) as we haven't seen any widespread attacks on the network yet, so it's hard to figure out what value would be \"better\".\n\nThe issue is that commitment transaction may be very large when filled with pending HTLCs. I believe that lnd for example allows up to 483 HTLCs in each direction in the commitment. When filled with 2 * 483 HTLCs, it already costs a bit more than 800 000 sats in fees to reach 20 sat/byte! I would expect such a fee bump to require multiple wallet inputs (even though we have no idea what the utxo set of node operators looks like).\n\nIt probably doesn't make sense to pay that much fees though: node operators who don't have a large utxo set should limit the maximum value of pending HTLCs and the maximum number of pending HTLCs to something that matches the on-chain fees they're ready to pay. But we've seen that default values are sticky, so people may be at risk if we don't allow some leeway here.\n\nI honestly don't know what value would make sense here, as any value will be too risky for some, and too safe for others.",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 101,
  "hidden": false,
  "trust_level": 3,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false
}