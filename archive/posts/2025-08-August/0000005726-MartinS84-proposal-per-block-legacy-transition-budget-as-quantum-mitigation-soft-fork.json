{
  "id": 5726,
  "name": "Martin",
  "username": "MartinS84",
  "avatar_template": "/letter_avatar_proxy/v4/letter/m/c2a13f/{size}.png",
  "created_at": "2025-08-17T02:03:40.679Z",
  "cooked": "<p>Hi,</p>\n<p>with ongoing discussions about post-quantum (PQ) migration strategies (see recent BIPs around freezing legacy outputs), I\u2019d like to outline an alternative approach that aims for a <em>softer</em> migration path.</p>\n<h3><a name=\"p-5726-problem-1\" class=\"anchor\" href=\"#p-5726-problem-1\"></a>Problem</h3>\n<p>If large-scale quantum attacks on ECDSA/Schnorr become practical, adversaries could rapidly drain exposed legacy UTXOs (public keys revealed, reused addresses, etc.). Proposals to outright freeze legacy coins after a deadline are simple, but they risk orphaning honest users who migrate late, and may cause political controversy over \u201clost\u201d coins, censorship etc.</p>\n<h3><a name=\"p-5726-idea-transition-budget-2\" class=\"anchor\" href=\"#p-5726-idea-transition-budget-2\"></a>Idea: Transition Budget</h3>\n<p>Instead of freezing, introduce a <strong>per-block budget</strong> that limits how much value can move <strong>out of legacy cryptography</strong> per block:</p>\n<ul>\n<li>\n<p>Define <strong>Legacy inputs</strong> = any input validated with ECDSA/Schnorr.</p>\n</li>\n<li>\n<p>Define <strong>Transition(tx)</strong> =\n<code>sum(value of legacy inputs) \u2212 sum(value of legacy outputs)</code>\n(i.e., the amount leaving Legacy: going to PQ outputs, OP_RETURN/burn, or fees).</p>\n</li>\n<li>\n<p>Require that for every block:\n<code>\u03a3 Transition(tx) \u2264 LEGACY_TRANSITION_LIMIT(height)</code></p>\n</li>\n<li>\n<p>Additionally, for each tx with Legacy inputs, require at least one <strong>PQ output \u2265 1 sat</strong>.</p>\n</li>\n<li>\n<p>Fees count as \u201cleaving Legacy\u201d, so miners cannot bypass the limit by self-paying fees.</p>\n</li>\n<li>\n<p>Legacy change outputs remain allowed; only the <em>net exit</em> from Legacy consumes budget.</p>\n</li>\n</ul>\n<h3><a name=\"p-5726-rationale-3\" class=\"anchor\" href=\"#p-5726-rationale-3\"></a>Rationale</h3>\n<ul>\n<li>\n<p><strong>Soft Fork</strong>: This is a tightening rule (forbids blocks that spend too much Legacy at once).</p>\n</li>\n<li>\n<p><strong>Gradual migration</strong>: Users can still move funds, but the system rate-limits overall Legacy outflow.</p>\n</li>\n<li>\n<p><strong>Miner loophole closed</strong>: Fees are included in the budget.</p>\n</li>\n<li>\n<p><strong>Minimal fairness</strong>: Every Legacy spend contributes at least 1 satoshi to PQ migration.</p>\n</li>\n<li>\n<p><strong>Analogy</strong>: Similar to block-wide sigop/weight limits, but applied to Legacy-to-PQ transition value.</p>\n</li>\n</ul>\n<h3><a name=\"p-5726-example-4\" class=\"anchor\" href=\"#p-5726-example-4\"></a>Example</h3>\n<ul>\n<li>\n<p>Spend 10 BTC Legacy \u2192 9.99999999 BTC Legacy + 1 sat PQ, fees 0 \u2192 Transition = 1 sat.</p>\n</li>\n<li>\n<p>Spend 50 BTC Legacy \u2192 no outputs (all fees) \u2192 Transition = 50 BTC.</p>\n</li>\n<li>\n<p>Spend 2 BTC Legacy \u2192 2 BTC PQ \u2192 Transition = 2 BTC.</p>\n</li>\n</ul>\n<h3><a name=\"p-5726-open-questions-5\" class=\"anchor\" href=\"#p-5726-open-questions-5\"></a>Open Questions</h3>\n<ul>\n<li>\n<p>What parameters for <code>LEGACY_TRANSITION_LIMIT(h)</code>? (1 BTC/block floor? Decay schedule?)</p>\n</li>\n<li>\n<p>Should a minimum <code>Transition(tx)</code> (dust-like threshold) be enforced by consensus or left to policy?</p>\n</li>\n<li>\n<p>Which PQ scheme(s) to standardize first (SPHINCS+, Dilithium, LMS/HSS, etc.)?</p>\n</li>\n<li>\n<p>How to coordinate deployment with the PQ-BIP introducing new verification rules?</p>\n</li>\n</ul>\n<h3><a name=\"p-5726-goal-6\" class=\"anchor\" href=\"#p-5726-goal-6\"></a>Goal</h3>\n<p>The intention is to discuss whether a <strong>rate-limited migration</strong> offers a reasonable middle ground between \u201cfreeze all legacy coins\u201d and \u201cdo nothing until quantum arrives.\u201d</p>\n<p>Feedback on feasibility, risks, and whether this approach could fit within Bitcoin\u2019s consensus philosophy would be very welcome.</p>\n<p>Thanks!</p>",
  "post_number": 1,
  "post_type": 1,
  "posts_count": 1,
  "updated_at": "2025-08-17T02:03:40.679Z",
  "reply_count": 0,
  "reply_to_post_number": null,
  "quote_count": 0,
  "incoming_link_count": 5,
  "reads": 21,
  "readers_count": 20,
  "score": 29.2,
  "yours": false,
  "topic_id": 1929,
  "topic_slug": "proposal-per-block-legacy-transition-budget-as-quantum-mitigation-soft-fork",
  "topic_title": "Proposal: Per-Block Legacy Transition Budget as Quantum Mitigation (Soft Fork)",
  "topic_html_title": "Proposal: Per-Block Legacy Transition Budget as Quantum Mitigation (Soft Fork)",
  "category_id": 7,
  "display_username": "Martin",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "badges_granted": [],
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "Hi,\n\nwith ongoing discussions about post-quantum (PQ) migration strategies (see recent BIPs around freezing legacy outputs), I\u2019d like to outline an alternative approach that aims for a *softer* migration path.\n\n### Problem\n\nIf large-scale quantum attacks on ECDSA/Schnorr become practical, adversaries could rapidly drain exposed legacy UTXOs (public keys revealed, reused addresses, etc.). Proposals to outright freeze legacy coins after a deadline are simple, but they risk orphaning honest users who migrate late, and may cause political controversy over \u201clost\u201d coins, censorship etc.\n\n### Idea: Transition Budget\n\nInstead of freezing, introduce a **per-block budget** that limits how much value can move **out of legacy cryptography** per block:\n\n* Define **Legacy inputs** = any input validated with ECDSA/Schnorr.\n\n* Define **Transition(tx)** =\n  `sum(value of legacy inputs) \u2212 sum(value of legacy outputs)`\n  (i.e., the amount leaving Legacy: going to PQ outputs, OP_RETURN/burn, or fees).\n\n* Require that for every block:\n  `\u03a3 Transition(tx) \u2264 LEGACY_TRANSITION_LIMIT(height)`\n\n* Additionally, for each tx with Legacy inputs, require at least one **PQ output \u2265 1 sat**.\n\n* Fees count as \u201cleaving Legacy\u201d, so miners cannot bypass the limit by self-paying fees.\n\n* Legacy change outputs remain allowed; only the *net exit* from Legacy consumes budget.\n\n### Rationale\n\n* **Soft Fork**: This is a tightening rule (forbids blocks that spend too much Legacy at once).\n\n* **Gradual migration**: Users can still move funds, but the system rate-limits overall Legacy outflow.\n\n* **Miner loophole closed**: Fees are included in the budget.\n\n* **Minimal fairness**: Every Legacy spend contributes at least 1 satoshi to PQ migration.\n\n* **Analogy**: Similar to block-wide sigop/weight limits, but applied to Legacy-to-PQ transition value.\n\n### Example\n\n* Spend 10 BTC Legacy \u2192 9.99999999 BTC Legacy + 1 sat PQ, fees 0 \u2192 Transition = 1 sat.\n\n* Spend 50 BTC Legacy \u2192 no outputs (all fees) \u2192 Transition = 50 BTC.\n\n* Spend 2 BTC Legacy \u2192 2 BTC PQ \u2192 Transition = 2 BTC.\n\n### Open Questions\n\n* What parameters for `LEGACY_TRANSITION_LIMIT(h)`? (1 BTC/block floor? Decay schedule?)\n\n* Should a minimum `Transition(tx)` (dust-like threshold) be enforced by consensus or left to policy?\n\n* Which PQ scheme(s) to standardize first (SPHINCS+, Dilithium, LMS/HSS, etc.)?\n\n* How to coordinate deployment with the PQ-BIP introducing new verification rules?\n\n### Goal\n\nThe intention is to discuss whether a **rate-limited migration** offers a reasonable middle ground between \u201cfreeze all legacy coins\u201d and \u201cdo nothing until quantum arrives.\u201d\n\nFeedback on feasibility, risks, and whether this approach could fit within Bitcoin\u2019s consensus philosophy would be very welcome.\n\nThanks!",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 891,
  "hidden": false,
  "trust_level": 0,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "excerpt": "Hi, \nwith ongoing discussions about post-quantum (PQ) migration strategies (see recent BIPs around freezing legacy outputs), I\u2019d like to outline an alternative approach that aims for a softer migration path. \n<a name=\"p-5726-problem-1\" class=\"anchor\" href=\"#p-5726-problem-1\"></a>Problem\nIf large-scale quantum attacks on ECDSA/Schnorr become practical, adversaries could&hellip;",
  "truncated": true,
  "post_url": "/t/proposal-per-block-legacy-transition-budget-as-quantum-mitigation-soft-fork/1929/1",
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false,
  "can_accept_answer": false,
  "can_unaccept_answer": false,
  "accepted_answer": false,
  "topic_accepted_answer": null,
  "can_vote": false
}