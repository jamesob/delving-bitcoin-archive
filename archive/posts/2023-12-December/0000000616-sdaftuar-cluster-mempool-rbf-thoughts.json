{
  "id": 616,
  "name": "Suhas Daftuar",
  "username": "sdaftuar",
  "avatar_template": "/letter_avatar_proxy/v4/letter/s/0ea827/{size}.png",
  "created_at": "2023-12-05T14:05:13.335Z",
  "cooked": "<p>I\u2019m working on a feerate diagram comparison implementation for (single transaction) RBF and thinking through the constant factors:</p>\n<p>The number of different clusters that a single transaction can conflict with will govern how many chunks we have to consider in the feerate diagram comparison.</p>\n<p>In theory, the number of such chunks is bounded by # of clusters * # of transactions in each cluster, and the feerate diagram comparison test is linear in the number of chunks that form the two diagrams.</p>\n<p>So if we permit a transaction to conflict with 100 in-mempool transactions, and if we permit each cluster to have up to 100 transactions, then we\u2019re looking at 10000 potential chunks to iterate.  That seems like it could be slow.</p>\n<p>We\u2019ve also previously discussed getting rid of this limit on number of conflicts, and replacing it with the number of clusters that would need to be relinearized.  I\u2019m no longer sure we\u2019ll be able to do that, given this new proposed validation logic.</p>\n<p>Are there any tricks we can perform to bring these numbers down?</p>",
  "post_number": 7,
  "post_type": 1,
  "updated_at": "2023-12-05T14:05:54.908Z",
  "reply_count": 2,
  "reply_to_post_number": null,
  "quote_count": 0,
  "incoming_link_count": 0,
  "reads": 9,
  "readers_count": 8,
  "score": 11.8,
  "yours": false,
  "topic_id": 156,
  "topic_slug": "cluster-mempool-rbf-thoughts",
  "topic_title": "Cluster Mempool RBF Thoughts",
  "topic_html_title": "Cluster Mempool RBF Thoughts",
  "category_id": 9,
  "display_username": "Suhas Daftuar",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "I'm working on a feerate diagram comparison implementation for (single transaction) RBF and thinking through the constant factors:\n\nThe number of different clusters that a single transaction can conflict with will govern how many chunks we have to consider in the feerate diagram comparison.\n\nIn theory, the number of such chunks is bounded by # of clusters * # of transactions in each cluster, and the feerate diagram comparison test is linear in the number of chunks that form the two diagrams.\n\nSo if we permit a transaction to conflict with 100 in-mempool transactions, and if we permit each cluster to have up to 100 transactions, then we're looking at 10000 potential chunks to iterate.  That seems like it could be slow.\n\nWe've also previously discussed getting rid of this limit on number of conflicts, and replacing it with the number of clusters that would need to be relinearized.  I'm no longer sure we'll be able to do that, given this new proposed validation logic.\n\nAre there any tricks we can perform to bring these numbers down?",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 95,
  "hidden": false,
  "trust_level": 3,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false
}