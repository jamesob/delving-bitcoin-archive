{
  "id": 4759,
  "name": "Steven Roose",
  "username": "stevenroose",
  "avatar_template": "/user_avatar/delvingbitcoin.org/stevenroose/{size}/1087_2.png",
  "created_at": "2025-04-14T12:24:36.269Z",
  "cooked": "<p>They are two different considerations here. One is the risk to DoS the round (to the detriment of all other round participants) and the other is liquidity lockup (to the detriment of the server).</p>\n<p>You are right that in either case, there is a liquidity lockup issue: an incoming pending payment is no guarantee that the user will eventually reveal the preimage and in that case the server locks up liquidity until the round expires. Mitigations are hard, but could be only servicing users with some record of good behavior (using blinded tokens), but that obviously has a catch-22 issue if you only take LN receive as a reference. Proving ownership of other existing vtxos that can be a solution but also comes with a catch-22. In the end, some servers might just be willing to take the liquidity lockup risk for certain amounts and not for others.</p>\n<p>In either case, these are considerations entirely to the server to consider. While the DoS issue in question is about making rounds fail and causing a series of round retries which means that all users have to restart the round.</p>\n<p>With CTV, the server can simply issue the HTLC leaf in the new round, while without CTV, the HTLC receiver has to join the round and can refuse to sign and cause a round retry, while the  server has no way to slash the user. As opposed to refreshes where the server can slash the input vtxo for failing to sign.</p>\n<p>Totally independent of this post, we have recently come up with new ways to structure Ark to have entirely no more interaction between users in a round, we are polishing up the ideas and preparing a write-up soon.</p>",
  "post_number": 9,
  "post_type": 1,
  "posts_count": 9,
  "updated_at": "2025-04-14T12:24:36.269Z",
  "reply_count": 0,
  "reply_to_post_number": 8,
  "quote_count": 0,
  "incoming_link_count": 1,
  "reads": 11,
  "readers_count": 10,
  "score": 7.2,
  "yours": false,
  "topic_id": 1528,
  "topic_slug": "the-ark-case-for-ctv",
  "topic_title": "The Ark case for CTV",
  "topic_html_title": "The Ark case for CTV",
  "category_id": 7,
  "display_username": "Steven Roose",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "badges_granted": [],
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "reply_to_user": {
    "username": "harding",
    "name": "David A. Harding",
    "avatar_template": "/user_avatar/delvingbitcoin.org/harding/{size}/925_2.png"
  },
  "bookmarked": false,
  "raw": "They are two different considerations here. One is the risk to DoS the round (to the detriment of all other round participants) and the other is liquidity lockup (to the detriment of the server).\n\nYou are right that in either case, there is a liquidity lockup issue: an incoming pending payment is no guarantee that the user will eventually reveal the preimage and in that case the server locks up liquidity until the round expires. Mitigations are hard, but could be only servicing users with some record of good behavior (using blinded tokens), but that obviously has a catch-22 issue if you only take LN receive as a reference. Proving ownership of other existing vtxos that can be a solution but also comes with a catch-22. In the end, some servers might just be willing to take the liquidity lockup risk for certain amounts and not for others.\n\nIn either case, these are considerations entirely to the server to consider. While the DoS issue in question is about making rounds fail and causing a series of round retries which means that all users have to restart the round.\n\nWith CTV, the server can simply issue the HTLC leaf in the new round, while without CTV, the HTLC receiver has to join the round and can refuse to sign and cause a round retry, while the  server has no way to slash the user. As opposed to refreshes where the server can slash the input vtxo for failing to sign.\n\nTotally independent of this post, we have recently come up with new ways to structure Ark to have entirely no more interaction between users in a round, we are polishing up the ideas and preparing a write-up soon.",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 76,
  "hidden": false,
  "trust_level": 2,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "excerpt": "They are two different considerations here. One is the risk to DoS the round (to the detriment of all other round participants) and the other is liquidity lockup (to the detriment of the server). \nYou are right that in either case, there is a liquidity lockup issue: an incoming pending payment is no&hellip;",
  "truncated": true,
  "post_url": "/t/the-ark-case-for-ctv/1528/9",
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false
}