{
  "id": 3706,
  "name": "jungly",
  "username": "jungly",
  "avatar_template": "/user_avatar/delvingbitcoin.org/jungly/{size}/289_2.png",
  "created_at": "2024-12-03T14:36:07.186Z",
  "cooked": "<p>Maybe I wasn\u2019t clear how the MSP to Miner communication plays a role in the design. Each MSP is a full blown mining pool service. It runs stratum servers and validates incoming shares from miners and other MSPs.</p>\n<p>Given that we can address the concerns you highlighted.</p>\n<h2><a name=\"p-3706-rate-limiting-share-broadcast-1\" class=\"anchor\" href=\"#p-3706-rate-limiting-share-broadcast-1\"></a>Rate Limiting Share Broadcast</h2>\n<p>Given the MSP builds blocktemplates for all the miners working with it. The MSP receives stratum work.submit messages from the miner, verifies they are valid PoW shares and only then forwards them to other MSPs.</p>\n<p>If an MSP is flooding the network with invalid shares, all others will drop the connection to it, and if it was one of the parties of the DKG/TSS goup, it will be removed in the next signing/dkg round by the rest of the parties. Remember they have consistent views thanks to BFT Broadcast.</p>\n<h2><a name=\"p-3706-difficulty-adjustment-2\" class=\"anchor\" href=\"#p-3706-difficulty-adjustment-2\"></a>Difficulty Adjustment</h2>\n<p>Each MSP runs a stratum server, so it is responsible for making sure each miner is sending enough shares to the pool - about 1 share per 15 seconds from each of it\u2019s miners, and not too many more.</p>\n<p>The above leads to the question how do we value all shares equally. That isn\u2019t hard either, each share is PoW for a blocktemplate that has already been reliably broadcast to the network. Knowing the blocktemplate and thus the fees, we can normalise the shares. I think Ocean and Demand are both doing this too.</p>\n<p>Each MSP essentially does what centralised pools do to keep their processing needs under control, and MSPs monitor each other  for bad behaviour that can cause ddos like attacks.</p>",
  "post_number": 13,
  "post_type": 1,
  "updated_at": "2024-12-03T14:36:07.186Z",
  "reply_count": 0,
  "reply_to_post_number": 12,
  "quote_count": 0,
  "incoming_link_count": 0,
  "reads": 12,
  "readers_count": 11,
  "score": 2.4,
  "yours": false,
  "topic_id": 1262,
  "topic_slug": "radpool-decentralised-mining-pool-with-futures-contracts-for-payouts",
  "topic_title": "Radpool: Decentralised Mining Pool With Futures Contracts For Payouts",
  "topic_html_title": "Radpool: Decentralised Mining Pool With Futures Contracts For Payouts",
  "category_id": 7,
  "display_username": "jungly",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "reply_to_user": {
    "username": "mcelrath",
    "name": "Bob McElrath",
    "avatar_template": "/user_avatar/delvingbitcoin.org/mcelrath/{size}/521_2.png"
  },
  "bookmarked": false,
  "raw": "Maybe I wasn't clear how the MSP to Miner communication plays a role in the design. Each MSP is a full blown mining pool service. It runs stratum servers and validates incoming shares from miners and other MSPs.\n\nGiven that we can address the concerns you highlighted.\n\n## Rate Limiting Share Broadcast\n\nGiven the MSP builds blocktemplates for all the miners working with it. The MSP receives stratum work.submit messages from the miner, verifies they are valid PoW shares and only then forwards them to other MSPs.\n\nIf an MSP is flooding the network with invalid shares, all others will drop the connection to it, and if it was one of the parties of the DKG/TSS goup, it will be removed in the next signing/dkg round by the rest of the parties. Remember they have consistent views thanks to BFT Broadcast.\n\n## Difficulty Adjustment\n\nEach MSP runs a stratum server, so it is responsible for making sure each miner is sending enough shares to the pool - about 1 share per 15 seconds from each of it's miners, and not too many more.\n\nThe above leads to the question how do we value all shares equally. That isn't hard either, each share is PoW for a blocktemplate that has already been reliably broadcast to the network. Knowing the blocktemplate and thus the fees, we can normalise the shares. I think Ocean and Demand are both doing this too.\n\nEach MSP essentially does what centralised pools do to keep their processing needs under control, and MSPs monitor each other  for bad behaviour that can cause ddos like attacks.",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 102,
  "hidden": false,
  "trust_level": 2,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false
}