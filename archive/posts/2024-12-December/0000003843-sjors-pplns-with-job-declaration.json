{
  "id": 3843,
  "name": "Sjors Provoost",
  "username": "sjors",
  "avatar_template": "/user_avatar/delvingbitcoin.org/sjors/{size}/59_2.png",
  "created_at": "2024-12-21T10:25:32.011Z",
  "cooked": "<aside class=\"quote no-group\" data-username=\"sjors\" data-post=\"50\" data-topic=\"1099\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/sjors/48/59_2.png\" class=\"avatar\"> sjors:</div>\n<blockquote>\n<p>The best way to fully check if the proposed block is valid is by having the node verify it just like any other block, but without checking the PoW. There\u2019s currently no RPC method to do this, e.g. <code>submitblock</code> requires proof-of-work. It may be useful to introduce such a method though.</p>\n</blockquote>\n</aside>\n<p>Here\u2019s a proof-of-concept implantation of a <code>checkblock</code> RPC for Bitcoin Core:</p>\n<aside class=\"onebox githubpullrequest\" data-onebox-src=\"https://github.com/Sjors/bitcoin/pull/75\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/Sjors/bitcoin/pull/75\" target=\"_blank\" rel=\"noopener\">github.com/Sjors/bitcoin</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"github-row\" data-github-private-repo=\"false\">\n\n\n\n    <div class=\"github-icon-container\" title=\"Pull Request\">\n      <svg width=\"60\" height=\"60\" class=\"github-icon\" viewBox=\"0 0 12 16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z\"></path></svg>\n    </div>\n\n  <div class=\"github-info-container\">\n\n\n\n      <h4>\n        <a href=\"https://github.com/Sjors/bitcoin/pull/75\" target=\"_blank\" rel=\"noopener\">rpc: checkblock</a>\n      </h4>\n\n    <div class=\"branches\">\n      <code>Sjors:master</code> \u2190 <code>Sjors:2024/12/check-block</code>\n    </div>\n\n      <div class=\"github-info\">\n        <div class=\"date\">\n          opened <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2024-12-21\" data-time=\"10:23:03\" data-timezone=\"UTC\">10:23AM - 21 Dec 24 UTC</span>\n        </div>\n\n        <div class=\"user\">\n          <a href=\"https://github.com/Sjors\" target=\"_blank\" rel=\"noopener\">\n            <img alt=\"\" src=\"https://delvingbitcoin.org/uploads/default/original/1X/37e9679d22884392534900d6028f1cc537512e9b.png\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\" data-dominant-color=\"6C6963\">\n            Sjors\n          </a>\n        </div>\n\n        <div class=\"lines\" title=\"4 commits changed 9 files with 470 additions and 3 deletions\">\n          <a href=\"https://github.com/Sjors/bitcoin/pull/75/files\" target=\"_blank\" rel=\"noopener\">\n            <span class=\"added\">+470</span>\n            <span class=\"removed\">-3</span>\n          </a>\n        </div>\n      </div>\n  </div>\n</div>\n\n  <div class=\"github-row\">\n    <p class=\"github-body-container\">RPC for checking weak blocks (reduced proof of work) and block templates (no pro<span class=\"show-more-container\"><a href=\"https://github.com/Sjors/bitcoin/pull/75\" target=\"_blank\" rel=\"noopener\" class=\"show-more\">\u2026</a></span><span class=\"excerpt hidden\">of of work) against all consensus rules.\n\nVery much not production ready.</span></p>\n  </div>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<p>It can be used with block templates, which don\u2019t have any proof-of-work. But it also has <code>multiplier</code> argument that can be used to raise the target for weak blocks, inspired by <a class=\"mention\" href=\"/u/instagibbs\">@instagibbs</a> work in <a href=\"https://delvingbitcoin.org/t/second-look-at-weak-blocks/805\" class=\"inline-onebox\">Second Look at Weak Blocks</a> (though a different use case).</p>",
  "post_number": 54,
  "post_type": 1,
  "updated_at": "2024-12-21T10:26:28.178Z",
  "reply_count": 0,
  "reply_to_post_number": null,
  "quote_count": 1,
  "incoming_link_count": 0,
  "reads": 5,
  "readers_count": 4,
  "score": 0.6,
  "yours": false,
  "topic_id": 1099,
  "topic_slug": "pplns-with-job-declaration",
  "topic_title": "PPLNS with job declaration",
  "topic_html_title": "PPLNS with job declaration",
  "category_id": 7,
  "display_username": "Sjors Provoost",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "badges_granted": [],
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "[quote=\"sjors, post:50, topic:1099\"]\nThe best way to fully check if the proposed block is valid is by having the node verify it just like any other block, but without checking the PoW. There\u2019s currently no RPC method to do this, e.g. `submitblock` requires proof-of-work. It may be useful to introduce such a method though.\n[/quote]\n\nHere's a proof-of-concept implantation of a `checkblock` RPC for Bitcoin Core:\n\nhttps://github.com/Sjors/bitcoin/pull/75\n\nIt can be used with block templates, which don't have any proof-of-work. But it also has `multiplier` argument that can be used to raise the target for weak blocks, inspired by @instagibbs work in https://delvingbitcoin.org/t/second-look-at-weak-blocks/805 (though a different use case).",
  "actions_summary": [
    {
      "id": 2,
      "count": 1
    }
  ],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 71,
  "hidden": false,
  "trust_level": 3,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "reactions": [
    {
      "id": "+1",
      "type": "emoji",
      "count": 1
    }
  ],
  "current_user_reaction": null,
  "reaction_users_count": 1,
  "current_user_used_main_reaction": false
}