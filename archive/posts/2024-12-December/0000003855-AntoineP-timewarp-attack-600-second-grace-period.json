{
  "id": 3855,
  "name": "Antoine Poinsot",
  "username": "AntoineP",
  "avatar_template": "/user_avatar/delvingbitcoin.org/antoinep/{size}/483_2.png",
  "created_at": "2024-12-24T15:18:03.662Z",
  "cooked": "<aside class=\"quote no-group\" data-username=\"sjors\" data-post=\"14\" data-topic=\"1326\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/sjors/48/59_2.png\" class=\"avatar\"> sjors:</div>\n<blockquote>\n<p>We shouldn\u2019t introduce a soft fork rule that can be broken by accident, unless there\u2019s a really good reason to.</p>\n</blockquote>\n</aside>\n<p>This is a truism. I don\u2019t think it\u2019s necessary to say i agree.</p>\n<aside class=\"quote no-group\" data-username=\"sjors\" data-post=\"14\" data-topic=\"1326\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/sjors/48/59_2.png\" class=\"avatar\"> sjors:</div>\n<blockquote>\n<p>The original motivation for the timewarp attack was to prevent a very destructive attack that could happen in a matter of weeks.</p>\n</blockquote>\n</aside>\n<p>Again you only give one of the multiple motivations for fixing timewarp. I already called you up on that in a previous post. As i\u2019ve <a href=\"https://delvingbitcoin.org/t/great-consensus-cleanup-revival/710#should-we-really-fix-it-3\">described in my writeup</a> as well as in private discussions i don\u2019t think it is the most likely scenario. It\u2019d make more sense for miners to artificially increase the block rate thereby bringing available block space up and, all other things equal, fee rates down. With the current concentration of mining we shouldn\u2019t underestimate the odds of it happening. We should not keep in place the incentive for them to pull it off by making the fix too loose.</p>\n<aside class=\"quote no-group\" data-username=\"sjors\" data-post=\"14\" data-topic=\"1326\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/sjors/48/59_2.png\" class=\"avatar\"> sjors:</div>\n<blockquote>\n<p>If the timewarp attack had been fixed with a 24 hour limit, I don\u2019t think anyone would have proposed a subsequent soft fork to lower it to 600 seconds.</p>\n</blockquote>\n</aside>\n<p>That\u2019s plausible because a soft fork is risky and expensive. Not because somehow 24 hours is a better value than 10 minutes.</p>\n<aside class=\"quote no-group\" data-username=\"sjors\" data-post=\"14\" data-topic=\"1326\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/sjors/48/59_2.png\" class=\"avatar\"> sjors:</div>\n<blockquote>\n<p>Above I linked to two actual mining pool software bugs that caused invalid blocks on testnet4 because they were using the system clock instead of the block template <code>nTime</code>.</p>\n</blockquote>\n</aside>\n<p>Those softwares are already broken today due to the MTP rule. \u201cExisting broken software may produce invalid blocks under exceptional circumstances\u201d is not a valid argument for looser bounds if said software can already produce invalid blocks with current rules under exceptional circumstances!</p>\n<aside class=\"quote no-group\" data-username=\"sjors\" data-post=\"14\" data-topic=\"1326\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/sjors/48/59_2.png\" class=\"avatar\"> sjors:</div>\n<blockquote>\n<p>Bitcoin Core itself (briefly) had a bug where it could accidentally violate the timewarp rule.</p>\n</blockquote>\n</aside>\n<p>What is this bug?</p>\n<aside class=\"quote no-group\" data-username=\"sjors\" data-post=\"14\" data-topic=\"1326\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/sjors/48/59_2.png\" class=\"avatar\"> sjors:</div>\n<blockquote>\n<p>We have no idea how much (closed source, unmaintained) mining software is out there, and we can\u2019t expect every pool, individual mining farm and solo operator to thoroughly test their entire infrastructure on testnet4.</p>\n</blockquote>\n</aside>\n<p>I agree, but it is not on itself an argument for a looser value. Assuming you are still proposing to use 150 minutes instead, could you provide an argument for why this value would possibly better accommodate broken software we do not know about?</p>\n<aside class=\"quote no-group\" data-username=\"sjors\" data-post=\"14\" data-topic=\"1326\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/sjors/48/59_2.png\" class=\"avatar\"> sjors:</div>\n<blockquote>\n<p>The timewarp fix with a 600 second limit deviates from that because it requires miners to also check their entire stack of mining software. Whereas a 150 minute threshold only requires them to upgrade their node.</p>\n</blockquote>\n</aside>\n<p>How so? Could you be more specific? I don\u2019t think we\u2019ve established that.</p>\n<p>In conclusion, let me state i do not have a too strong opinion in favour of a 600 seconds grace period. It just makes sense to me and i don\u2019t think we should change it unless there is a good reason to.</p>\n<p>There is good reasons for the fix to be neither too loose nor too tight. 600 seconds is a good sweet spot as it seems to get rid of the incentive for miners to artificially increase the block rate (with a 600 seconds grace period a 10% block rate increase <a href=\"https://delvingbitcoin.org/t/timewarp-attack-600-second-grace-period/1326/11\">would take 212 periods</a>) while being loose enough that using higher values wouldn\u2019t materially decrease the probability of creating an invalid block. You have dismissed the reasons for avoiding a looser fix without providing compelling arguments why going for a 150 minutes grace period would lower risks.</p>",
  "post_number": 16,
  "post_type": 1,
  "posts_count": 43,
  "updated_at": "2024-12-24T15:18:03.662Z",
  "reply_count": 3,
  "reply_to_post_number": 14,
  "quote_count": 1,
  "incoming_link_count": 1,
  "reads": 36,
  "readers_count": 35,
  "score": 27.2,
  "yours": false,
  "topic_id": 1326,
  "topic_slug": "timewarp-attack-600-second-grace-period",
  "topic_title": "Timewarp attack 600 second grace period",
  "topic_html_title": "Timewarp attack 600 second grace period",
  "category_id": 7,
  "display_username": "Antoine Poinsot",
  "primary_group_name": null,
  "flair_name": "wg-consensus-cleanup",
  "flair_url": "/uploads/default/original/1X/856d779f9ec58484f3a96285a21a813538b689f6.png",
  "flair_bg_color": "",
  "flair_color": "",
  "flair_group_id": 43,
  "badges_granted": [],
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": "Regular",
  "title_is_group": false,
  "bookmarked": false,
  "raw": "[quote=\"sjors, post:14, topic:1326\"]\nWe shouldn\u2019t introduce a soft fork rule that can be broken by accident, unless there\u2019s a really good reason to.\n[/quote]\n\nThis is a truism. I don't think it's necessary to say i agree.\n\n[quote=\"sjors, post:14, topic:1326\"]\nThe original motivation for the timewarp attack was to prevent a very destructive attack that could happen in a matter of weeks.\n[/quote]\n\nAgain you only give one of the multiple motivations for fixing timewarp. I already called you up on that in a previous post. As i've [described in my writeup](https://delvingbitcoin.org/t/great-consensus-cleanup-revival/710#should-we-really-fix-it-3) as well as in private discussions i don't think it is the most likely scenario. It'd make more sense for miners to artificially increase the block rate thereby bringing available block space up and, all other things equal, fee rates down. With the current concentration of mining we shouldn't underestimate the odds of it happening. We should not keep in place the incentive for them to pull it off by making the fix too loose.\n\n[quote=\"sjors, post:14, topic:1326\"]\nIf the timewarp attack had been fixed with a 24 hour limit, I don\u2019t think anyone would have proposed a subsequent soft fork to lower it to 600 seconds.\n[/quote]\n\nThat's plausible because a soft fork is risky and expensive. Not because somehow 24 hours is a better value than 10 minutes.\n\n[quote=\"sjors, post:14, topic:1326\"]\nAbove I linked to two actual mining pool software bugs that caused invalid blocks on testnet4 because they were using the system clock instead of the block template `nTime`.\n[/quote]\n\nThose softwares are already broken today due to the MTP rule. \"Existing broken software may produce invalid blocks under exceptional circumstances\" is not a valid argument for looser bounds if said software can already produce invalid blocks with current rules under exceptional circumstances!\n\n[quote=\"sjors, post:14, topic:1326\"]\nBitcoin Core itself (briefly) had a bug where it could accidentally violate the timewarp rule.\n[/quote]\n\nWhat is this bug?\n\n[quote=\"sjors, post:14, topic:1326\"]\nWe have no idea how much (closed source, unmaintained) mining software is out there, and we can\u2019t expect every pool, individual mining farm and solo operator to thoroughly test their entire infrastructure on testnet4.\n[/quote]\n\nI agree, but it is not on itself an argument for a looser value. Assuming you are still proposing to use 150 minutes instead, could you provide an argument for why this value would possibly better accommodate broken software we do not know about?\n\n[quote=\"sjors, post:14, topic:1326\"]\nThe timewarp fix with a 600 second limit deviates from that because it requires miners to also check their entire stack of mining software. Whereas a 150 minute threshold only requires them to upgrade their node.\n[/quote]\n\nHow so? Could you be more specific? I don't think we've established that.\n\nIn conclusion, let me state i do not have a too strong opinion in favour of a 600 seconds grace period. It just makes sense to me and i don't think we should change it unless there is a good reason to.\n\nThere is good reasons for the fix to be neither too loose nor too tight. 600 seconds is a good sweet spot as it seems to get rid of the incentive for miners to artificially increase the block rate (with a 600 seconds grace period a 10% block rate increase [would take 212 periods](https://delvingbitcoin.org/t/timewarp-attack-600-second-grace-period/1326/11?u=antoinep)) while being loose enough that using higher values wouldn't materially decrease the probability of creating an invalid block. You have dismissed the reasons for avoiding a looser fix without providing compelling arguments why going for a 150 minutes grace period would lower risks.",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 12,
  "hidden": false,
  "trust_level": 3,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "excerpt": "This is a truism. I don\u2019t think it\u2019s necessary to say i agree. \n\nAgain you only give one of the multiple motivations for fixing timewarp. I already called you up on that in a previous post. As i\u2019ve <a href=\"https://delvingbitcoin.org/t/great-consensus-cleanup-revival/710#should-we-really-fix-it-3\">described in my writeup</a> as well as in private discussions i don\u2019t think it is the most likely scenari&hellip;",
  "truncated": true,
  "post_url": "/t/timewarp-attack-600-second-grace-period/1326/16",
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false,
  "can_accept_answer": false,
  "can_unaccept_answer": false,
  "accepted_answer": false,
  "topic_accepted_answer": null
}