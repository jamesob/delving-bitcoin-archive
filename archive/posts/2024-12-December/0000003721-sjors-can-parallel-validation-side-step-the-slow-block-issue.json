{
  "id": 3721,
  "name": "Sjors Provoost",
  "username": "sjors",
  "avatar_template": "/user_avatar/delvingbitcoin.org/sjors/{size}/59_2.png",
  "created_at": "2024-12-06T13:13:28.434Z",
  "cooked": "<aside class=\"quote no-group\" data-username=\"AntoineP\" data-post=\"11\" data-topic=\"1288\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/antoinep/48/483_2.png\" class=\"avatar\"> AntoineP:</div>\n<blockquote>\n<p>The idea you present involves 1) a miner being presented a block, figuring out it\u2019s expensive to validate, discarding it, and instead continuing to mine on top of the old tip to then 2) find a normal block at the same height before other miners are done validating the expensive one and 3) other miners being presented with this normal block to start building on top of it in place of the competing expensive block.</p>\n</blockquote>\n</aside>\n<p>Not exactly: in step (1) a miner discards a slow block <em>only if</em>  a competing block arrives during validation. It will never mine on top of the old tip, it just prefers the faster (equal-work) tip. Miners don\u2019t do anything different from regular relay nodes in this proposal.</p>\n<aside class=\"quote no-group\" data-username=\"AntoineP\" data-post=\"11\" data-topic=\"1288\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/antoinep/48/483_2.png\" class=\"avatar\"> AntoineP:</div>\n<blockquote>\n<p>a race between a normal and an expensive block could also happen naturally, but in this case the expensive block is already at a severe disadvantage due to how its propagation is hindered. In this case having miners who received the expensive block first also validate the normal block in parallel would further disadvantage the expensive block.</p>\n</blockquote>\n</aside>\n<p>That\u2019s all I\u2019m proposing.</p>\n<p>(but if all miners SPV mine on the latest block, there will never be such a naturally occurring competing block - in order to defeat the attack <em>some</em> miner has to take a risk, which may be too much ask)</p>\n<aside class=\"quote no-group\" data-username=\"AntoineP\" data-post=\"11\" data-topic=\"1288\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/antoinep/48/483_2.png\" class=\"avatar\"> AntoineP:</div>\n<blockquote>\n<p>But this is only a marginal improvement in an unlikely scenario, at the cost of high implementation complexity.</p>\n</blockquote>\n</aside>\n<p>I don\u2019t think we can estimate the likeness of a miner proposing a one-hour validation block. But if they do, then there could be as many as six competing blocks produced while the slowest node is still validating.</p>\n<p>I think the question isn\u2019t whether this attack is rare. It\u2019s whether the risk of the attacker seeing their stale block go stale is enough to deter them. If there\u2019s high deterrence then it may be worth some complexity.</p>\n<aside class=\"quote no-group\" data-username=\"AntoineP\" data-post=\"11\" data-topic=\"1288\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/antoinep/48/483_2.png\" class=\"avatar\"> AntoineP:</div>\n<blockquote>\n<p>Empty blocks are a symptom of SPV mining due to propagation time</p>\n</blockquote>\n</aside>\n<p>At present SPV mining appears to be the only cause of empty blocks. But perhaps when miners also need to optimize for validation speed that would be another reason to make empty blocks.</p>",
  "post_number": 15,
  "post_type": 1,
  "updated_at": "2024-12-06T13:17:22.252Z",
  "reply_count": 1,
  "reply_to_post_number": null,
  "quote_count": 1,
  "incoming_link_count": 0,
  "reads": 6,
  "readers_count": 5,
  "score": 5.8,
  "yours": false,
  "topic_id": 1288,
  "topic_slug": "can-parallel-validation-side-step-the-slow-block-issue",
  "topic_title": "Can parallel validation side-step the slow block issue?",
  "topic_html_title": "Can parallel validation side-step the slow block issue?",
  "category_id": 7,
  "display_username": "Sjors Provoost",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "[quote=\"AntoineP, post:11, topic:1288\"]\nThe idea you present involves 1) a miner being presented a block, figuring out it\u2019s expensive to validate, discarding it, and instead continuing to mine on top of the old tip to then 2) find a normal block at the same height before other miners are done validating the expensive one and 3) other miners being presented with this normal block to start building on top of it in place of the competing expensive block.\n[/quote]\n\nNot exactly: in step (1) a miner discards a slow block _only if_  a competing block arrives during validation. It will never mine on top of the old tip, it just prefers the faster (equal-work) tip. Miners don't do anything different from regular relay nodes in this proposal.\n\n[quote=\"AntoineP, post:11, topic:1288\"]\na race between a normal and an expensive block could also happen naturally, but in this case the expensive block is already at a severe disadvantage due to how its propagation is hindered. In this case having miners who received the expensive block first also validate the normal block in parallel would further disadvantage the expensive block.\n[/quote]\n\nThat's all I'm proposing.\n\n(but if all miners SPV mine on the latest block, there will never be such a naturally occurring competing block - in order to defeat the attack _some_ miner has to take a risk, which may be too much ask) \n\n[quote=\"AntoineP, post:11, topic:1288\"]\nBut this is only a marginal improvement in an unlikely scenario, at the cost of high implementation complexity.\n[/quote]\n\nI don't think we can estimate the likeness of a miner proposing a one-hour validation block. But if they do, then there could be as many as six competing blocks produced while the slowest node is still validating.\n\nI think the question isn't whether this attack is rare. It's whether the risk of the attacker seeing their stale block go stale is enough to deter them. If there's high deterrence then it may be worth some complexity.\n\n[quote=\"AntoineP, post:11, topic:1288\"]\nEmpty blocks are a symptom of SPV mining due to propagation time\n[/quote]\n\nAt present SPV mining appears to be the only cause of empty blocks. But perhaps when miners also need to optimize for validation speed that would be another reason to make empty blocks.",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 71,
  "hidden": false,
  "trust_level": 3,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false
}