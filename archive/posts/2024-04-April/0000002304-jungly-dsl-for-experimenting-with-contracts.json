{
  "id": 2304,
  "name": "jungly",
  "username": "jungly",
  "avatar_template": "/user_avatar/delvingbitcoin.org/jungly/{size}/289_2.png",
  "created_at": "2024-04-23T13:53:27.996Z",
  "cooked": "<p>Progress update, the DSL now supports taproot outputs - both to create outputs and spending them.</p>\n<p>Other updates</p>\n<ol>\n<li>New <a href=\"https://github.com/pool2win/bitcoin-dsl/pkgs/container/bitcoin-dsl\" rel=\"noopener nofollow ugc\">release</a> is out with smaller docker image size and number of notebooks related bug fixes.</li>\n<li>Support for <a href=\"https://opdup.com/bitcoin-dsl/dev/reference.html#reorganise-chain\" rel=\"noopener nofollow ugc\">reorganising chain</a> to a given height, block hash or back up to a block to unconfirm a given transaction.</li>\n</ol>\n<pre><code class=\"lang-auto\">reorg_chain height: 95\n\nreorg_chain blockhash: @blockhash\n\nreorg_chain unconfirm_tx: @reorg_to_tx\n</code></pre>\n<ol start=\"2\">\n<li>Fixed broken links in the <a href=\"https://opdup.com/bitcoin-dsl/index.html\" rel=\"noopener nofollow ugc\">documentation</a> pages.</li>\n</ol>\n<h1><a name=\"taproot-example-1\" class=\"anchor\" href=\"#taproot-example-1\"></a>Taproot example</h1>\n<p>New <a href=\"https://opdup.com/bitcoin-dsl/examples/taproot.html\" rel=\"noopener nofollow ugc\">documentation section on taproot</a> transaction discusses the choice of using object notation for specifying taproot outputs and script sigs.</p>\n<p>Here\u2019s a quick example to show how to generate and spend taproot outputs on regtest.</p>\n<h2><a name=\"create-a-taproot-output-2\" class=\"anchor\" href=\"#create-a-taproot-output-2\"></a>Create a Taproot Output</h2>\n<pre data-code-wrap=\"ruby\"><code class=\"lang-ruby\">transaction inputs: [\n              { tx: @coinbase_tx,\n                    vout: 0,\n                    script_sig: 'sig:wpkh(@alice)' }\n                ],\n             outputs: [\n                  {\n                    taproot: { internal_key: @bob,\n                               leaves: ['pk(@carol)', 'pk(@alice)'] },\n                    amount: 49.999.sats\n                  }\n                ]\nbroadcast @taproot_output_tx\n</code></pre>\n<h2><a name=\"spending-using-a-script-path-3\" class=\"anchor\" href=\"#spending-using-a-script-path-3\"></a>Spending Using a Script Path</h2>\n<pre data-code-wrap=\"ruby\"><code class=\"lang-ruby\">transaction inputs: [\n                  { tx: @taproot_output_tx,\n                    vout: 0,\n                    script_sig: { leaf_index: 0,\n                                  sig: 'sig:@carol' },\n                    sighash: :all }\n                ],\n             outputs: [\n                  { descriptor: 'wpkh(@carol)',\n                    amount: 49.998.sats }\n                ]\nbroadcast @spend_taproot_output_tx\n</code></pre>",
  "post_number": 15,
  "post_type": 1,
  "updated_at": "2024-04-23T13:53:27.996Z",
  "reply_count": 0,
  "reply_to_post_number": null,
  "quote_count": 0,
  "incoming_link_count": 0,
  "reads": 12,
  "readers_count": 11,
  "score": 2.2,
  "yours": false,
  "topic_id": 748,
  "topic_slug": "dsl-for-experimenting-with-contracts",
  "topic_title": "DSL for experimenting with contracts",
  "topic_html_title": "DSL for experimenting with contracts",
  "category_id": 8,
  "display_username": "jungly",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "Progress update, the DSL now supports taproot outputs - both to create outputs and spending them.\n\nOther updates\n1. New [release](https://github.com/pool2win/bitcoin-dsl/pkgs/container/bitcoin-dsl) is out with smaller docker image size and number of notebooks related bug fixes.\n3. Support for [reorganising chain](https://opdup.com/bitcoin-dsl/dev/reference.html#reorganise-chain) to a given height, block hash or back up to a block to unconfirm a given transaction.\n```\nreorg_chain height: 95\n\nreorg_chain blockhash: @blockhash\n\nreorg_chain unconfirm_tx: @reorg_to_tx\n```\n\n2. Fixed broken links in the [documentation](https://opdup.com/bitcoin-dsl/index.html) pages.\n\n# Taproot example\n\nNew [documentation section on taproot](https://opdup.com/bitcoin-dsl/examples/taproot.html) transaction discusses the choice of using object notation for specifying taproot outputs and script sigs.\n\nHere's a quick example to show how to generate and spend taproot outputs on regtest.\n\n## Create a Taproot Output\n```ruby \ntransaction inputs: [\n              { tx: @coinbase_tx,\n                    vout: 0,\n                    script_sig: 'sig:wpkh(@alice)' }\n                ],\n             outputs: [\n                  {\n                    taproot: { internal_key: @bob,\n                               leaves: ['pk(@carol)', 'pk(@alice)'] },\n                    amount: 49.999.sats\n                  }\n                ]\nbroadcast @taproot_output_tx\n```\n\n## Spending Using a Script Path\n\n```ruby \ntransaction inputs: [\n                  { tx: @taproot_output_tx,\n                    vout: 0,\n                    script_sig: { leaf_index: 0,\n                                  sig: 'sig:@carol' },\n                    sighash: :all }\n                ],\n             outputs: [\n                  { descriptor: 'wpkh(@carol)',\n                    amount: 49.998.sats }\n                ]\nbroadcast @spend_taproot_output_tx\n```",
  "actions_summary": [
    {
      "id": 2,
      "count": 1
    }
  ],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 102,
  "hidden": false,
  "trust_level": 2,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "reactions": [
    {
      "id": "heart",
      "type": "emoji",
      "count": 1
    }
  ],
  "current_user_reaction": null,
  "reaction_users_count": 1,
  "current_user_used_main_reaction": false
}