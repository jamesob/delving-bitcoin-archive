{
  "id": 5166,
  "name": "Bastien Teinturier",
  "username": "t-bast",
  "avatar_template": "/user_avatar/delvingbitcoin.org/t-bast/{size}/98_2.png",
  "created_at": "2025-05-30T12:51:12.363Z",
  "cooked": "<p><a class=\"mention\" href=\"/u/crypt-iq\">@Crypt-iQ</a> you\u2019re completely right, thanks for highlighting this: I did mean TCP packet and assumed the best-case where it isn\u2019t fragmented by intermediate routers. But it was part of my open-ended question about possible performance degradation: I have no idea whether in practice 65kB TCP packets often get fragmented or not, how much overhead it adds, and couldn\u2019t find public data about this\u2026if a lot of fragmentation happens, then padding could indeed lead to degraded performance (on top of the additional bandwidth usage increase).</p>\n<aside class=\"quote no-group\" data-username=\"Crypt-iQ\" data-post=\"10\" data-topic=\"1723\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/crypt-iq/48/306_2.png\" class=\"avatar\"> Crypt-iQ:</div>\n<blockquote>\n<p>This means in practice TCP packets are limited to ~1500 bytes.</p>\n</blockquote>\n</aside>\n<p>Is this a default OS behavior? Or is it just a recommendation? I\u2019ll read the links you provided when I have some time, but would love a TL;DR for now <img src=\"https://delvingbitcoin.org/images/emoji/twitter/slight_smile.png?v=14\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>\n<p>I have no idea where to find actual data of what happens on the internet nowadays. I was thinking that we could do A/B testing on mainnet nodes: pad all packets to 65kB for a few days, then remove padding for a few days, and repeat, while measuring latency. This could give some indication of the overhead, even though it wouldn\u2019t let us accurately predict higher percentiles since there probably isn\u2019t enough payment volume today to provide meaningful statistics, but it\u2019s a start.</p>",
  "post_number": 12,
  "post_type": 1,
  "posts_count": 40,
  "updated_at": "2025-05-30T12:51:12.363Z",
  "reply_count": 1,
  "reply_to_post_number": 10,
  "quote_count": 1,
  "incoming_link_count": 0,
  "reads": 34,
  "readers_count": 33,
  "score": 11.8,
  "yours": false,
  "topic_id": 1723,
  "topic_slug": "latency-and-privacy-in-lightning",
  "topic_title": "Latency and Privacy in Lightning",
  "topic_html_title": "Latency and Privacy in Lightning",
  "category_id": 7,
  "display_username": "Bastien Teinturier",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "badges_granted": [],
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "@Crypt-iQ you're completely right, thanks for highlighting this: I did mean TCP packet and assumed the best-case where it isn't fragmented by intermediate routers. But it was part of my open-ended question about possible performance degradation: I have no idea whether in practice 65kB TCP packets often get fragmented or not, how much overhead it adds, and couldn't find public data about this...if a lot of fragmentation happens, then padding could indeed lead to degraded performance (on top of the additional bandwidth usage increase).\n\n[quote=\"Crypt-iQ, post:10, topic:1723\"]\nThis means in practice TCP packets are limited to ~1500 bytes.\n[/quote]\n\nIs this a default OS behavior? Or is it just a recommendation? I'll read the links you provided when I have some time, but would love a TL;DR for now :slight_smile: \n\nI have no idea where to find actual data of what happens on the internet nowadays. I was thinking that we could do A/B testing on mainnet nodes: pad all packets to 65kB for a few days, then remove padding for a few days, and repeat, while measuring latency. This could give some indication of the overhead, even though it wouldn't let us accurately predict higher percentiles since there probably isn't enough payment volume today to provide meaningful statistics, but it's a start.",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 101,
  "hidden": false,
  "trust_level": 3,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "excerpt": "<a class=\"mention\" href=\"/u/crypt-iq\">@Crypt-iQ</a> you\u2019re completely right, thanks for highlighting this: I did mean TCP packet and assumed the best-case where it isn\u2019t fragmented by intermediate routers. But it was part of my open-ended question about possible performance degradation: I have no idea whether in practice 65kB TCP packets of&hellip;",
  "truncated": true,
  "post_url": "/t/latency-and-privacy-in-lightning/1723/12",
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false,
  "can_accept_answer": false,
  "can_unaccept_answer": false,
  "accepted_answer": false,
  "topic_accepted_answer": null
}