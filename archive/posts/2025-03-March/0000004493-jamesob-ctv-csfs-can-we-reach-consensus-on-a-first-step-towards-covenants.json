{
  "id": 4493,
  "name": "James O'Beirne",
  "username": "jamesob",
  "avatar_template": "/user_avatar/delvingbitcoin.org/jamesob/{size}/271_2.png",
  "created_at": "2025-03-12T19:42:55.265Z",
  "cooked": "<aside class=\"quote no-group\" data-username=\"ajtowns\" data-post=\"14\" data-topic=\"1509\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/ajtowns/48/417_2.png\" class=\"avatar\"> ajtowns:</div>\n<blockquote>\n<p>I don\u2019t believe the CTV-only \u201cvaults\u201d are at all interesting or useful in practice</p>\n</blockquote>\n</aside>\n<p>I know firsthand that a large custodian would make use of CTV to replace presigned transactions specifically for custodial operations.</p>\n<p>Beyond that, as you should recall from your <code>VAULT</code> days, CTV (or an equivalent) is a necessary prerequisite to doing any kind of \u201cbetter\u201d vault. It\u2019s tablestakes. Rob Hamilton recently <a href=\"https://x.com/Rob1Ham/status/1897781338796966103\">substantiated the industry demand for good vaults, using <code>VAULT</code> or similar</a>, and once again I can corroborate firsthand there.</p>\n<p>So to downplay the demand for vaults is very strange to me. It\u2019s an obvious use that people keep asking for in various forms, and CTV is a required primitive.</p>\n<p>The best argument you can make against CTV on this count is that TXHASH\u2019s CTV mode would serve the same purpose, but scrutinizing the TXHASH implementation for validity is probably an order of magnitude harder than for CTV\u2019s given <a href=\"https://github.com/stevenroose/bitcoin/blob/599020daaa3deab922229adf41f5021ee9f4ca3b/src/script/txhash.cpp\">its complexity</a>.</p>\n<aside class=\"quote no-group\" data-username=\"ajtowns\" data-post=\"14\" data-topic=\"1509\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/ajtowns/48/417_2.png\" class=\"avatar\"> ajtowns:</div>\n<blockquote>\n<p>Fundamentally, I think you want some ability to calculate an output scriptPubKey as \u201cback to cold storage, or spend here after some delay\u201d, and CTV and the like only give the \u201cspend here\u201d part of that.</p>\n</blockquote>\n</aside>\n<p>I\u2019m not understanding you here - CTV vaults, and <a href=\"https://github.com/jamesob/simple-ctv-vault\">my implementation in particular</a>, allows you to either do a time-delayed spend, or sweep immediately to cold. That much is shown in the first state diagram on the page.</p>\n<aside class=\"quote no-group\" data-username=\"ajtowns\" data-post=\"14\" data-topic=\"1509\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/ajtowns/48/417_2.png\" class=\"avatar\"> ajtowns:</div>\n<blockquote>\n<p>I believe the only cost would be adding 70 witness bytes to txs in the \u201ccongestion control\u201d use case, however that use case doesn\u2019t seem viable in the first place to me.</p>\n</blockquote>\n</aside>\n<p>I\u2019m not sure what your basis for saying this is. Aside from the \u201cthundering herd use\u201d potential, congestion control can be used by miners to compress payouts in the coinbase transaction during times of elevated feerates. I spoke to LukeJr about this last night, who runs Ocean Mining, and he said that miners would make use of this - although possibly on the basis of firmware limitations rather than fee smoothing.</p>\n<p>The point stands that there are many uses for what\u2019s referred to as \u201ccongestion control,\u201d and to dismiss them all casually seems presumptuous.</p>\n<p>The \u201cbare legacy\u201d mode for CTV is especially important in these cases because it\u2019s the most succinct first-stage commitment (<code>&lt;32byte-hash&gt; OP_CTV</code>) that can serve to lock in a series of <code>n</code> payments on bitcoin.</p>",
  "post_number": 23,
  "post_type": 1,
  "updated_at": "2025-03-12T19:51:09.837Z",
  "reply_count": 1,
  "reply_to_post_number": 14,
  "quote_count": 1,
  "incoming_link_count": 10,
  "reads": 20,
  "readers_count": 19,
  "score": 73.8,
  "yours": false,
  "topic_id": 1509,
  "topic_slug": "ctv-csfs-can-we-reach-consensus-on-a-first-step-towards-covenants",
  "topic_title": "CTV+CSFS: Can we reach consensus on a first step towards covenants?",
  "topic_html_title": "CTV+CSFS: Can we reach consensus on a first step towards covenants?",
  "category_id": 7,
  "display_username": "James O'Beirne",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "badges_granted": [],
  "version": 2,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "[quote=\"ajtowns, post:14, topic:1509\"]\nI don\u2019t believe the CTV-only \u201cvaults\u201d are at all interesting or useful in practice\n[/quote]\n\nI know firsthand that a large custodian would make use of CTV to replace presigned transactions specifically for custodial operations.\n\nBeyond that, as you should recall from your `VAULT` days, CTV (or an equivalent) is a necessary prerequisite to doing any kind of \"better\" vault. It's tablestakes. Rob Hamilton recently [substantiated the industry demand for good vaults, using `VAULT` or similar](https://x.com/Rob1Ham/status/1897781338796966103), and once again I can corroborate firsthand there.\n\nSo to downplay the demand for vaults is very strange to me. It's an obvious use that people keep asking for in various forms, and CTV is a required primitive.\n\nThe best argument you can make against CTV on this count is that TXHASH's CTV mode would serve the same purpose, but scrutinizing the TXHASH implementation for validity is probably an order of magnitude harder than for CTV's given [its complexity](https://github.com/stevenroose/bitcoin/blob/599020daaa3deab922229adf41f5021ee9f4ca3b/src/script/txhash.cpp).\n\n[quote=\"ajtowns, post:14, topic:1509\"]\nFundamentally, I think you want some ability to calculate an output scriptPubKey as \u201cback to cold storage, or spend here after some delay\u201d, and CTV and the like only give the \u201cspend here\u201d part of that.\n[/quote]\nI'm not understanding you here - CTV vaults, and [my implementation in particular](https://github.com/jamesob/simple-ctv-vault), allows you to either do a time-delayed spend, or sweep immediately to cold. That much is shown in the first state diagram on the page.\n\n[quote=\"ajtowns, post:14, topic:1509\"]\nI believe the only cost would be adding 70 witness bytes to txs in the \u201ccongestion control\u201d use case, however that use case doesn\u2019t seem viable in the first place to me.\n[/quote]\nI'm not sure what your basis for saying this is. Aside from the \"thundering herd use\" potential, congestion control can be used by miners to compress payouts in the coinbase transaction during times of elevated feerates. I spoke to LukeJr about this last night, who runs Ocean Mining, and he said that miners would make use of this - although possibly on the basis of firmware limitations rather than fee smoothing.\n\nThe point stands that there are many uses for what's referred to as \"congestion control,\" and to dismiss them all casually seems presumptuous.\n\nThe \"bare legacy\" mode for CTV is especially important in these cases because it's the most succinct first-stage commitment (`<32byte-hash> OP_CTV`) that can serve to lock in a series of `n` payments on bitcoin.",
  "actions_summary": [
    {
      "id": 2,
      "count": 1
    }
  ],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 9,
  "hidden": false,
  "trust_level": 3,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "reactions": [
    {
      "id": "+1",
      "type": "emoji",
      "count": 1
    }
  ],
  "current_user_reaction": null,
  "reaction_users_count": 1,
  "current_user_used_main_reaction": false
}