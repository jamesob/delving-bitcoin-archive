{
  "id": 4554,
  "name": "Gregory Sanders",
  "username": "instagibbs",
  "avatar_template": "/user_avatar/delvingbitcoin.org/instagibbs/{size}/28_2.png",
  "created_at": "2025-03-17T14:43:03.965Z",
  "cooked": "<aside class=\"quote no-group\" data-username=\"jamesob\" data-post=\"48\" data-topic=\"1509\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/jamesob/48/271_2.png\" class=\"avatar\"> jamesob:</div>\n<blockquote>\n<p>VERIFY is also important for upgradeability; if you don\u2019t have the &lt;32-byte-hash&gt; parameter, you can\u2019t make the opcode upgradeable.</p>\n<p>Now maybe in a tapscript context that\u2019s okay because you\u2019ve got so much unused opcode space.</p>\n</blockquote>\n</aside>\n<p>Good point, but you\u2019re correct I\u2019ve basically stopped thinking about these kinds of details because we have so many upgrade hooks. Let\u2019s use them!</p>\n<aside class=\"quote no-group\" data-username=\"jamesob\" data-post=\"48\" data-topic=\"1509\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/jamesob/48/271_2.png\" class=\"avatar\"> jamesob:</div>\n<blockquote>\n<p>I\u2019m just trying to figure out why you want it, since all the uses of CTV I\u2019m familiar with are VERIFYs</p>\n</blockquote>\n</aside>\n<p>The use-cases I\u2019m thinking about that involve the CTV + CSFS combo means we can elide bringing the hash into the witness data, saving ~32WU. State channels, payment channels, statechains, pre-signed HTLC transactions, PTLC transactions. Probably more, but probably most of the CTV + CSFS intersection of functionality.</p>\n<p>The tradeoff here is 1WU(?) in the tapscript CTV case, which would apply to things like Ark, Timeout Trees, settlement path in ln-symmetry(et al.), anywhere where authorization isn\u2019t required, just precommitment. I don\u2019t find this a compelling savings if we have to choose just one.</p>\n<p>And if VERIFY behavior is still desired, you could still softfork a NOP, just in tapscript circumstances.</p>\n<aside class=\"quote no-group\" data-username=\"jamesob\" data-post=\"48\" data-topic=\"1509\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/jamesob/48/271_2.png\" class=\"avatar\"> jamesob:</div>\n<blockquote>\n<p>But I think the idea that it would replace CTV as-is is sort of a different proposal.</p>\n</blockquote>\n</aside>\n<p>I\u2019m much more interested in CTV + CSFS than CTV alone, so there lies some design bias.</p>\n<aside class=\"quote no-group\" data-username=\"jamesob\" data-post=\"48\" data-topic=\"1509\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/jamesob/48/271_2.png\" class=\"avatar\"> jamesob:</div>\n<blockquote>\n<p>Again, not trying to be glib here but is there a more specific reason than \u201ceach reviewer has to review about 15 marginal lines of not-substantially-novel code?\u201d What about legacy is so complicated that it really moves the needle?</p>\n</blockquote>\n</aside>\n<p>I\u2019m thinking about it from another direction: Designing BIP119 from scratch, how should we build it? Legacy script (short-hand for non-segwit, not NOPs) is a dumpster fire, and it shouldn\u2019t be touched unless necessary.</p>\n<p>If it saves no vbytes, makes no operations safer, doesn\u2019t make the changes easier to understand for reviewers, why would we build it this way?</p>\n<aside class=\"quote no-group\" data-username=\"jamesob\" data-post=\"48\" data-topic=\"1509\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/jamesob/48/271_2.png\" class=\"avatar\"> jamesob:</div>\n<blockquote>\n<p>Please grant me the goodwill to admit it\u2019s a reasonable thought that if chainspace ever does become massively short, congestion control is a good escape hatch to have on hand - even outside of the use for miners today.</p>\n</blockquote>\n</aside>\n<p>I think bare CTV in any form is one of the least motivated proposals I\u2019ve seen in a long while, but if it\u2019s going to happen, I want it to happen in the way that\u2019s least damaging in terms of maintenance of Bitcoin script. I believe my proposal is one way to do it without changing any known capabilities from the original.</p>",
  "post_number": 51,
  "post_type": 1,
  "updated_at": "2025-03-17T14:43:03.965Z",
  "reply_count": 1,
  "reply_to_post_number": 48,
  "quote_count": 1,
  "incoming_link_count": 0,
  "reads": 14,
  "readers_count": 13,
  "score": 7.6,
  "yours": false,
  "topic_id": 1509,
  "topic_slug": "ctv-csfs-can-we-reach-consensus-on-a-first-step-towards-covenants",
  "topic_title": "CTV+CSFS: Can we reach consensus on a first step towards covenants?",
  "topic_html_title": "CTV+CSFS: Can we reach consensus on a first step towards covenants?",
  "category_id": 7,
  "display_username": "Gregory Sanders",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "badges_granted": [],
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "[quote=\"jamesob, post:48, topic:1509\"]\nVERIFY is also important for upgradeability; if you don\u2019t have the <32-byte-hash> parameter, you can\u2019t make the opcode upgradeable.\n\nNow maybe in a tapscript context that\u2019s okay because you\u2019ve got so much unused opcode space.\n[/quote]\n\nGood point, but you're correct I've basically stopped thinking about these kinds of details because we have so many upgrade hooks. Let's use them!\n\n[quote=\"jamesob, post:48, topic:1509\"]\nI\u2019m just trying to figure out why you want it, since all the uses of CTV I\u2019m familiar with are VERIFYs\n[/quote]\n\nThe use-cases I'm thinking about that involve the CTV + CSFS combo means we can elide bringing the hash into the witness data, saving ~32WU. State channels, payment channels, statechains, pre-signed HTLC transactions, PTLC transactions. Probably more, but probably most of the CTV + CSFS intersection of functionality. \n\nThe tradeoff here is 1WU(?) in the tapscript CTV case, which would apply to things like Ark, Timeout Trees, settlement path in ln-symmetry(et al.), anywhere where authorization isn't required, just precommitment. I don't find this a compelling savings if we have to choose just one.\n\nAnd if VERIFY behavior is still desired, you could still softfork a NOP, just in tapscript circumstances.\n\n[quote=\"jamesob, post:48, topic:1509\"]\nBut I think the idea that it would replace CTV as-is is sort of a different proposal.\n[/quote]\n\nI'm much more interested in CTV + CSFS than CTV alone, so there lies some design bias.\n\n[quote=\"jamesob, post:48, topic:1509\"]\nAgain, not trying to be glib here but is there a more specific reason than \u201ceach reviewer has to review about 15 marginal lines of not-substantially-novel code?\u201d What about legacy is so complicated that it really moves the needle?\n[/quote]\n\nI'm thinking about it from another direction: Designing BIP119 from scratch, how should we build it? Legacy script (short-hand for non-segwit, not NOPs) is a dumpster fire, and it shouldn't be touched unless necessary. \n\nIf it saves no vbytes, makes no operations safer, doesn't make the changes easier to understand for reviewers, why would we build it this way? \n\n[quote=\"jamesob, post:48, topic:1509\"]\nPlease grant me the goodwill to admit it\u2019s a reasonable thought that if chainspace ever does become massively short, congestion control is a good escape hatch to have on hand - even outside of the use for miners today.\n[/quote]\n\nI think bare CTV in any form is one of the least motivated proposals I've seen in a long while, but if it's going to happen, I want it to happen in the way that's least damaging in terms of maintenance of Bitcoin script. I believe my proposal is one way to do it without changing any known capabilities from the original.",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 31,
  "hidden": false,
  "trust_level": 3,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false
}