{
  "id": 6835,
  "name": "Federico Blanco S\u00e1nchez-Llanos",
  "username": "babyblueviper1",
  "avatar_template": "/user_avatar/delvingbitcoin.org/babyblueviper1/{size}/1827_2.png",
  "created_at": "2026-02-13T19:46:53.016Z",
  "cooked": "<p>Hi all,</p>\n<p>I\u2019ve been thinking about UTXO consolidation not purely as a fee optimization problem, but as a potential determinism and correctness surface in wallet transaction construction.</p>\n<p>Specifically, I\u2019m interested in cases where:</p>\n<p>\u2022 Consolidation is triggered dynamically based on current fee environment\n\u2022 Time-dependent consolidation policy (e.g. consolidate-now vs defer)\n\u2022 PSBT construction depends on fee-rate comparisons against historical baselines\n\u2022 Transaction structure may vary depending on mempool conditions</p>\n<p>In such systems, two questions arise:</p>\n<ol>\n<li>\n<p>At what point does consolidation logic become part of the wallet\u2019s correctness boundary rather than merely a policy layer?</p>\n</li>\n<li>\n<p>Should deterministic guarantees (e.g., invariant input ordering, bounded fee regret, stable change handling) be considered enforceable properties in consolidation flows?</p>\n</li>\n</ol>\n<p>Potential failure modes I\u2019m considering:</p>\n<ul>\n<li>\n<p>Non-deterministic input selection under identical wallet state but different mempool snapshots</p>\n</li>\n<li>\n<p>Over-consolidation during transient fee dips leading to irreversible privacy loss (CIOH exposure)</p>\n</li>\n<li>\n<p>PSBT reproducibility issues if fee-estimation sources differ across construction attempts</p>\n</li>\n<li>\n<p>Edge cases around dust outputs or change threshold behavior when fee-rate volatility is extreme</p>\n</li>\n</ul>\n<p>I\u2019m curious how others conceptualize this boundary.</p>\n<p>Is consolidation strictly a wallet UX policy question, or are there scenarios where its interaction with fee estimation and PSBT construction introduces correctness or safety concerns that warrant stronger invariant guarantees?</p>\n<p>Appreciate any thoughts or prior discussions I may have missed.</p>",
  "post_number": 1,
  "post_type": 1,
  "posts_count": 1,
  "updated_at": "2026-02-13T19:50:01.379Z",
  "reply_count": 0,
  "reply_to_post_number": null,
  "quote_count": 0,
  "incoming_link_count": 0,
  "reads": 15,
  "readers_count": 14,
  "score": 2.8,
  "yours": false,
  "topic_id": 2257,
  "topic_slug": "deterministic-utxo-consolidation-under-volatile-fee-regimes",
  "topic_title": "Deterministic UTXO consolidation under volatile fee regimes",
  "topic_html_title": "Deterministic UTXO consolidation under volatile fee regimes",
  "category_id": 8,
  "display_username": "Federico Blanco S\u00e1nchez-Llanos",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "badges_granted": [],
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "Hi all,\n\nI\u2019ve been thinking about UTXO consolidation not purely as a fee optimization problem, but as a potential determinism and correctness surface in wallet transaction construction.\n\nSpecifically, I\u2019m interested in cases where:\n\n\u2022 Consolidation is triggered dynamically based on current fee environment\n\u2022 Time-dependent consolidation policy (e.g. consolidate-now vs defer)\n\u2022 PSBT construction depends on fee-rate comparisons against historical baselines\n\u2022 Transaction structure may vary depending on mempool conditions\n\nIn such systems, two questions arise:\n\n1. At what point does consolidation logic become part of the wallet\u2019s correctness boundary rather than merely a policy layer?\n\n2. Should deterministic guarantees (e.g., invariant input ordering, bounded fee regret, stable change handling) be considered enforceable properties in consolidation flows?\n\nPotential failure modes I\u2019m considering:\n\n* Non-deterministic input selection under identical wallet state but different mempool snapshots\n\n* Over-consolidation during transient fee dips leading to irreversible privacy loss (CIOH exposure)\n\n* PSBT reproducibility issues if fee-estimation sources differ across construction attempts\n\n* Edge cases around dust outputs or change threshold behavior when fee-rate volatility is extreme\n\nI\u2019m curious how others conceptualize this boundary.\n\nIs consolidation strictly a wallet UX policy question, or are there scenarios where its interaction with fee estimation and PSBT construction introduces correctness or safety concerns that warrant stronger invariant guarantees?\n\nAppreciate any thoughts or prior discussions I may have missed.",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 1081,
  "hidden": false,
  "trust_level": 0,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "excerpt": "Hi all, \nI\u2019ve been thinking about UTXO consolidation not purely as a fee optimization problem, but as a potential determinism and correctness surface in wallet transaction construction. \nSpecifically, I\u2019m interested in cases where: \n\u2022 Consolidation is triggered dynamically based on current fee envir&hellip;",
  "truncated": true,
  "post_url": "/t/deterministic-utxo-consolidation-under-volatile-fee-regimes/2257/1",
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false,
  "can_accept_answer": false,
  "can_unaccept_answer": false,
  "accepted_answer": false,
  "topic_accepted_answer": null,
  "can_vote": false
}