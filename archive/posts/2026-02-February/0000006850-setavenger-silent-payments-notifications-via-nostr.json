{
  "id": 6850,
  "name": "",
  "username": "setavenger",
  "avatar_template": "/user_avatar/delvingbitcoin.org/setavenger/{size}/573_2.png",
  "created_at": "2026-02-14T15:45:15.466Z",
  "cooked": "<aside class=\"quote no-group\" data-username=\"RubenSomsen\" data-post=\"4\" data-topic=\"2203\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/rubensomsen/48/188_2.png\" class=\"avatar\"> RubenSomsen:</div>\n<blockquote>\n<p>Your latter sentence is why I suggested the taproot output for the minimal approach rather than the txid. This gives you something to scan for using regular block filters. Though txid filters are theoretically possible too, of course.</p>\n</blockquote>\n</aside>\n<p>How would that look in practice? If Bob only receives an output, he has to go through all block filters until he finds the output - every time. A heuristic to speed up this process would be to go backwards from chain tip. But this still seems impractical to me. A timestamp as a hint could make this more feasible to limit the probable range.</p>\n<aside class=\"quote no-group\" data-username=\"RubenSomsen\" data-post=\"4\" data-topic=\"2203\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/rubensomsen/48/188_2.png\" class=\"avatar\"> RubenSomsen:</div>\n<blockquote>\n<p>I\u2019m not convinced there is a safe enough middle ground where we only partially check stuff. Either we trust the sender or we don\u2019t. If we trust the sender then we don\u2019t have to fetch any data from other sources at all. The sender can just provide everything that is needed to spend the output (see the last paragraph of <a href=\"https://gist.github.com/setavenger/a0cd7e71b47ded9fca9c99085130cf2a?permalink_comment_id=5931734#gistcomment-5931734\" rel=\"noopener nofollow ugc\">my post</a>).</p>\n</blockquote>\n</aside>\n<p>Why would a wallet need to go to either extreme? There are two aspects we are discussing. One being DoS resistance and the other being validation of the message. The latter is generally required in my opinion. A wallet cannot just take a notification and blindly trust that this output is spendable, or even exists. The most basic check is: \u201cDoes this output still exist and did I already receive this notification\u201d. Most or all wallets are most likely able to run the scanning logic for that transaction at the same time. I don\u2019t see a good reason, yet, to skip this validation. My assumption here is that during any basic validation the wallet would use it\u2019s default backend which would be \u201cother sources\u201d.</p>\n<p>Bob, despite trusting Alice, blindly adding the notification\u2019s output as an input in a new transaction sounds like a UX nightmare to me. One just needs to consider an RBF-Scenario where the transaction\u2019s inputs changed, consequently changing all SP outputs. Alice did not defraud Bob and can be trusted. But two notifications exist of which the first one does not point to valid transaction or output. I guess this is somewhat what you were eluding to in your previous reply to the Gist.</p>\n<aside class=\"quote no-group\" data-username=\"RubenSomsen\" data-post=\"4\" data-topic=\"2203\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/rubensomsen/48/188_2.png\" class=\"avatar\"> RubenSomsen:</div>\n<blockquote>\n<p>Perhaps, but I suspect it may be a little early to start considering where to be flexible. In order to come up with a good protocol we\u2019ll inevitably have to first form a reasonably well-informed opinion about what the client design might look like. Or at least that\u2019s the only way to stay reasonably lean.</p>\n</blockquote>\n</aside>\n<p>I directionally agree with this. I would say, though, that for very standard data, like the tweak, I don\u2019t see a problem at all. I\u2019d be more critical if we were talking about fringe or edge case data. The tweak is standard information which every sender has and every receiver needs. Trust assumptions referenced above.</p>\n<p>Also about adding a tweak. I think it mainly becomes an issue if a wallet has a bad trade-off or handles a notification in a way which creates weird UX cases.</p>\n<aside class=\"quote no-group\" data-username=\"RubenSomsen\" data-post=\"4\" data-topic=\"2203\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/rubensomsen/48/188_2.png\" class=\"avatar\"> RubenSomsen:</div>\n<blockquote>\n<p>Opinions can differ, but I\u2019m not very optimistic about Web of Trust reliance, for instance. If we had a well-functioning and reliable WoT to slot this all into then great, but today we do not.</p>\n</blockquote>\n</aside>\n<p>Let me rephrase/clarify. I meant Web of Trust in the wider sense not the Nostr scoring system. If I receive this notification via something like Signal or E-Mail from somebody with whom I have had a previous relationship, I have to take less protective measures compared to a completely open and unchecked input channel like random Nostr DMs.</p>",
  "post_number": 5,
  "post_type": 1,
  "posts_count": 5,
  "updated_at": "2026-02-14T15:45:15.466Z",
  "reply_count": 0,
  "reply_to_post_number": 4,
  "quote_count": 1,
  "incoming_link_count": 0,
  "reads": 7,
  "readers_count": 6,
  "score": 1.2,
  "yours": false,
  "topic_id": 2203,
  "topic_slug": "silent-payments-notifications-via-nostr",
  "topic_title": "Silent Payments notifications via Nostr",
  "topic_html_title": "Silent Payments notifications via Nostr",
  "category_id": 12,
  "display_username": "",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "badges_granted": [],
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "[quote=\"RubenSomsen, post:4, topic:2203\"]\nYour latter sentence is why I suggested the taproot output for the minimal approach rather than the txid. This gives you something to scan for using regular block filters. Though txid filters are theoretically possible too, of course.\n[/quote]\n\nHow would that look in practice? If Bob only receives an output, he has to go through all block filters until he finds the output - every time. A heuristic to speed up this process would be to go backwards from chain tip. But this still seems impractical to me. A timestamp as a hint could make this more feasible to limit the probable range.\n\n[quote=\"RubenSomsen, post:4, topic:2203\"]\nI\u2019m not convinced there is a safe enough middle ground where we only partially check stuff. Either we trust the sender or we don\u2019t. If we trust the sender then we don\u2019t have to fetch any data from other sources at all. The sender can just provide everything that is needed to spend the output (see the last paragraph of [my post](https://gist.github.com/setavenger/a0cd7e71b47ded9fca9c99085130cf2a?permalink_comment_id=5931734#gistcomment-5931734)).\n[/quote]\n\nWhy would a wallet need to go to either extreme? There are two aspects we are discussing. One being DoS resistance and the other being validation of the message. The latter is generally required in my opinion. A wallet cannot just take a notification and blindly trust that this output is spendable, or even exists. The most basic check is: \"Does this output still exist and did I already receive this notification\". Most or all wallets are most likely able to run the scanning logic for that transaction at the same time. I don't see a good reason, yet, to skip this validation. My assumption here is that during any basic validation the wallet would use it's default backend which would be \"other sources\".\n\nBob, despite trusting Alice, blindly adding the notification's output as an input in a new transaction sounds like a UX nightmare to me. One just needs to consider an RBF-Scenario where the transaction's inputs changed, consequently changing all SP outputs. Alice did not defraud Bob and can be trusted. But two notifications exist of which the first one does not point to valid transaction or output. I guess this is somewhat what you were eluding to in your previous reply to the Gist.\n\n[quote=\"RubenSomsen, post:4, topic:2203\"]\nPerhaps, but I suspect it may be a little early to start considering where to be flexible. In order to come up with a good protocol we\u2019ll inevitably have to first form a reasonably well-informed opinion about what the client design might look like. Or at least that\u2019s the only way to stay reasonably lean.\n[/quote]\n\nI directionally agree with this. I would say, though, that for very standard data, like the tweak, I don't see a problem at all. I'd be more critical if we were talking about fringe or edge case data. The tweak is standard information which every sender has and every receiver needs. Trust assumptions referenced above.\n\nAlso about adding a tweak. I think it mainly becomes an issue if a wallet has a bad trade-off or handles a notification in a way which creates weird UX cases.\n\n[quote=\"RubenSomsen, post:4, topic:2203\"]\nOpinions can differ, but I\u2019m not very optimistic about Web of Trust reliance, for instance. If we had a well-functioning and reliable WoT to slot this all into then great, but today we do not.\n[/quote]\n\nLet me rephrase/clarify. I meant Web of Trust in the wider sense not the Nostr scoring system. If I receive this notification via something like Signal or E-Mail from somebody with whom I have had a previous relationship, I have to take less protective measures compared to a completely open and unchecked input channel like random Nostr DMs.",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 435,
  "hidden": false,
  "trust_level": 1,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "excerpt": "How would that look in practice? If Bob only receives an output, he has to go through all block filters until he finds the output - every time. A heuristic to speed up this process would be to go backwards from chain tip. But this still seems impractical to me. A timestamp as a hint could make this&hellip;",
  "truncated": true,
  "post_url": "/t/silent-payments-notifications-via-nostr/2203/5",
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false,
  "can_accept_answer": false,
  "can_unaccept_answer": false,
  "accepted_answer": false,
  "topic_accepted_answer": null
}