{
  "id": 3978,
  "name": "Gregory Sanders",
  "username": "instagibbs",
  "avatar_template": "/user_avatar/delvingbitcoin.org/instagibbs/{size}/28_2.png",
  "created_at": "2025-01-06T13:47:34.519Z",
  "cooked": "<aside class=\"quote no-group\" data-username=\"salvatoshi\" data-post=\"8\" data-topic=\"1353\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/salvatoshi/48/72_2.png\" class=\"avatar\"> salvatoshi:</div>\n<blockquote>\n<p>Once you remove the \u2018token\u2019 parts, I think the singleton is precisely what\u2019s left - and indeed, constant-size proof of ancestry was the goal.</p>\n</blockquote>\n</aside>\n<p>That\u2019s interesting! To make sure I\u2019m understanding correctly: We essentially want an NFT (singleton) for the \u201ccontract\u201d identity, because that allows us to make the ancestry proof recursive bounded to one introspection step.</p>\n<p>f.e. in ln-symmetry this would mean update transactions would the same require introspection logic, in addition to the settlement transaction. Each update knows about the kickoff txid and makes assertions on the update step. You\u2019re adding additional overhead per <em>submitted</em> update, paid for by the <em>submitter</em>, rather than paid for by the honest participant at settlement time.</p>\n<p>This seems to make it safe for relay/consensus as well, since you have a clear bound on the size of the witness-stripped update transactions.</p>\n<p>Without a whole lot of thought that sounds right.</p>\n<aside class=\"quote no-group\" data-username=\"ajtowns\" data-post=\"9\" data-topic=\"1353\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/ajtowns/48/417_2.png\" class=\"avatar\"> ajtowns:</div>\n<blockquote>\n<p>Making the singleton be a 1-in/2-out tx where you use the first output holds the singleton, and the second output is a pay-to-anchor address whose spender can use the singleton might work though.</p>\n</blockquote>\n</aside>\n<p>I think this is the most sensible construction yes.</p>",
  "post_number": 10,
  "post_type": 1,
  "posts_count": 17,
  "updated_at": "2025-01-06T13:48:25.298Z",
  "reply_count": 0,
  "reply_to_post_number": 8,
  "quote_count": 2,
  "incoming_link_count": 3,
  "reads": 35,
  "readers_count": 34,
  "score": 22.0,
  "yours": false,
  "topic_id": 1353,
  "topic_slug": "contract-level-relative-timelocks-or-lets-talk-about-ancestry-proofs-and-singletons",
  "topic_title": "Contract-level Relative Timelocks (or, let's talk about ancestry proofs and singletons)",
  "topic_html_title": "Contract-level Relative Timelocks (or, let&rsquo;s talk about ancestry proofs and singletons)",
  "category_id": 7,
  "display_username": "Gregory Sanders",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "badges_granted": [],
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "[quote=\"salvatoshi, post:8, topic:1353\"]\nOnce you remove the \u2018token\u2019 parts, I think the singleton is precisely what\u2019s left - and indeed, constant-size proof of ancestry was the goal.\n[/quote]\n\nThat's interesting! To make sure I'm understanding correctly: We essentially want an NFT (singleton) for the \"contract\" identity, because that allows us to make the ancestry proof recursive bounded to one introspection step.\n\nf.e. in ln-symmetry this would mean update transactions would the same require introspection logic, in addition to the settlement transaction. Each update knows about the kickoff txid and makes assertions on the update step. You're adding additional overhead per *submitted* update, paid for by the *submitter*, rather than paid for by the honest participant at settlement time.\n\nThis seems to make it safe for relay/consensus as well, since you have a clear bound on the size of the witness-stripped update transactions.\n\nWithout a whole lot of thought that sounds right.\n\n[quote=\"ajtowns, post:9, topic:1353\"]\nMaking the singleton be a 1-in/2-out tx where you use the first output holds the singleton, and the second output is a pay-to-anchor address whose spender can use the singleton might work though.\n[/quote]\n\nI think this is the most sensible construction yes.",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 31,
  "hidden": false,
  "trust_level": 3,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "excerpt": "That\u2019s interesting! To make sure I\u2019m understanding correctly: We essentially want an NFT (singleton) for the \u201ccontract\u201d identity, because that allows us to make the ancestry proof recursive bounded to one introspection step. \nf.e. in ln-symmetry this would mean update transactions would the same re&hellip;",
  "truncated": true,
  "post_url": "/t/contract-level-relative-timelocks-or-lets-talk-about-ancestry-proofs-and-singletons/1353/10",
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false,
  "can_accept_answer": false,
  "can_unaccept_answer": false,
  "accepted_answer": false,
  "topic_accepted_answer": null
}