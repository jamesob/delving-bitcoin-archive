{
  "id": 4015,
  "name": "Zawy",
  "username": "zawy",
  "avatar_template": "/user_avatar/delvingbitcoin.org/zawy/{size}/750_2.png",
  "created_at": "2025-01-07T21:37:43.739Z",
  "cooked": "<p>I don\u2019t understand how one of the effects can be ignored. Reference [1] switched from saying we\u2019re looking at the Erlang of 2015 blocks to 2016 blocks. It seems to imply the attacker received a double benefit, i.e. one by increasing timespan by 600, but then another by somehow going back in real-world time by 600 seconds to get 2016 * 600 seconds to mine instead of being stuck with 2015 * 600.</p>\n<blockquote>\n<p>[ for time taken to mine the <strong>last 2015 blocks</strong> ] \u2026 IBT is 2016/2014 * 600. This is equivalent to 600 * E(2016 * 600/X) where X~ErlangDistribution(<strong>k=2015</strong>, \u03bb=1/600). In the case of a miner deliberately reducing timestamps by 600 seconds on the difficulty-retargeting block, we are effectively changing the difficulty multiplier to (2016 / (time taken to mine the <strong>last 2016 blocks</strong> + 600)), or 600 * E(2016 * 600/(X + 600)) where X~Erlang Distribution(<strong>k=2016</strong>, \u03bb=1/600), which is effectively targeting an inter-block time of ~599.9999 seconds.</p>\n</blockquote>\n<p>Concerning if this means \u201cdifficulty drop can accumulate\u201d, yes, for the last block in this sequence he can use real time in for the last timestamp, then the next period will have a lower difficulty, but then the next period would be back to normal. He would have to do 168 periods with a 2 hr limit to drop difficulty to I think 1/2.</p>\n<p>I think there\u2019s a lot more risk to making it strict. I can see only the very smallest of benefit in making it strict, but I can\u2019t estimate the risk that\u2019s being increased.</p>",
  "post_number": 29,
  "post_type": 1,
  "updated_at": "2025-01-07T21:47:10.679Z",
  "reply_count": 1,
  "reply_to_post_number": 28,
  "quote_count": 0,
  "incoming_link_count": 0,
  "reads": 12,
  "readers_count": 11,
  "score": 7.4,
  "yours": false,
  "topic_id": 1326,
  "topic_slug": "timewarp-attack-600-second-grace-period",
  "topic_title": "Timewarp attack 600 second grace period",
  "topic_html_title": "Timewarp attack 600 second grace period",
  "category_id": 7,
  "display_username": "Zawy",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "badges_granted": [],
  "version": 2,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "reply_to_user": {
    "username": "sipa",
    "name": "Pieter Wuille",
    "avatar_template": "/user_avatar/delvingbitcoin.org/sipa/{size}/102_2.png"
  },
  "bookmarked": false,
  "raw": "I don't understand how one of the effects can be ignored. Reference [1] switched from saying we're looking at the Erlang of 2015 blocks to 2016 blocks. It seems to imply the attacker received a double benefit, i.e. one by increasing timespan by 600, but then another by somehow going back in real-world time by 600 seconds to get 2016 * 600 seconds to mine instead of being stuck with 2015 * 600.\n\n>[ for time taken to mine the **last 2015 blocks** ] ... IBT is 2016/2014 * 600. This is equivalent to 600 * E(2016 * 600/X) where X~ErlangDistribution(**k=2015**, \u03bb=1/600). In the case of a miner deliberately reducing timestamps by 600 seconds on the difficulty-retargeting block, we are effectively changing the difficulty multiplier to (2016 / (time taken to mine the **last 2016 blocks** + 600)), or 600 * E(2016 * 600/(X + 600)) where X~Erlang Distribution(**k=2016**, \u03bb=1/600), which is effectively targeting an inter-block time of ~599.9999 seconds.\n\nConcerning if this means \"difficulty drop can accumulate\", yes, for the last block in this sequence he can use real time in for the last timestamp, then the next period will have a lower difficulty, but then the next period would be back to normal. He would have to do 168 periods with a 2 hr limit to drop difficulty to I think 1/2.\n\nI think there's a lot more risk to making it strict. I can see only the very smallest of benefit in making it strict, but I can't estimate the risk that's being increased.",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 502,
  "hidden": false,
  "trust_level": 1,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false
}