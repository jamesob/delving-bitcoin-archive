{
  "id": 1005,
  "name": "David A. Harding",
  "username": "harding",
  "avatar_template": "/user_avatar/delvingbitcoin.org/harding/{size}/6_2.png",
  "created_at": "2024-01-08T00:46:00.245Z",
  "cooked": "<p>I\u2019m trying to better understand the claimed <a href=\"https://petertodd.org/2023/v3-txs-pinning-vulnerability\">v3 pinning vulnerability</a>.  Do I understand correctly that:</p>\n<ol>\n<li>The worst case, which is what PT analyzed, is a commitment transaction with no pending HTLCs.</li>\n<li>The attacker reduces the feerate of the package/cluster containing the commitment transaction by the attacker using their own money to pay the fees.</li>\n<li>A commitment transaction with no pending HTLCs has no special urgency (i.e., no timelocks that will expire to the detriment of the broadcasting party).</li>\n</ol>\n<p>In other words, the worst case form of this attack would be that Bob will have to wait a bit longer to respend his channel funds but Mallory will pay his fees?</p>\n<p>Obviously, the attack also works against commitment transactions with pending HTLCs, but for each additional HTLC output, the attack quickly becomes less effective due to the decrease in relative size difference.  Perhaps more interestingly, if Bob pays out of band to fee bump both the commitment transaction and Mallory\u2019s pin (ephemeral anchor spend), Bob will possibly pay less fees than he would\u2019ve without the pinning attack and Mallory will end up losing the funds she spent on the attack.</p>\n<p>Of course, paying to defeat an attack out of band is still bad for mining decentralization, but I think all of the above points to this pinning attack being possibly ineffective.</p>",
  "post_number": 22,
  "post_type": 1,
  "updated_at": "2024-01-08T00:46:00.245Z",
  "reply_count": 1,
  "reply_to_post_number": 21,
  "quote_count": 0,
  "incoming_link_count": 0,
  "reads": 9,
  "readers_count": 8,
  "score": 21.8,
  "yours": false,
  "topic_id": 340,
  "topic_slug": "v3-transaction-policy-for-anti-pinning",
  "topic_title": "V3 transaction policy for anti-pinning",
  "topic_html_title": "V3 transaction policy for anti-pinning",
  "category_id": 7,
  "display_username": "David A. Harding",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "reply_to_user": {
    "username": "moonsettler",
    "name": "moonsettler",
    "avatar_template": "/user_avatar/delvingbitcoin.org/moonsettler/{size}/38_2.png"
  },
  "bookmarked": false,
  "raw": "I'm trying to better understand the claimed [v3 pinning vulnerability](https://petertodd.org/2023/v3-txs-pinning-vulnerability).  Do I understand correctly that:\n\n1. The worst case, which is what PT analyzed, is a commitment transaction with no pending HTLCs.\n2. The attacker reduces the feerate of the package/cluster containing the commitment transaction by the attacker using their own money to pay the fees.\n3. A commitment transaction with no pending HTLCs has no special urgency (i.e., no timelocks that will expire to the detriment of the broadcasting party).\n\nIn other words, the worst case form of this attack would be that Bob will have to wait a bit longer to respend his channel funds but Mallory will pay his fees?\n\nObviously, the attack also works against commitment transactions with pending HTLCs, but for each additional HTLC output, the attack quickly becomes less effective due to the decrease in relative size difference.  Perhaps more interestingly, if Bob pays out of band to fee bump both the commitment transaction and Mallory's pin (ephemeral anchor spend), Bob will possibly pay less fees than he would've without the pinning attack and Mallory will end up losing the funds she spent on the attack.\n\nOf course, paying to defeat an attack out of band is still bad for mining decentralization, but I think all of the above points to this pinning attack being possibly ineffective.",
  "actions_summary": [
    {
      "id": 2,
      "count": 1
    }
  ],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 6,
  "hidden": false,
  "trust_level": 3,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "reactions": [
    {
      "id": "+1",
      "type": "emoji",
      "count": 1
    }
  ],
  "current_user_reaction": null,
  "reaction_users_count": 1,
  "current_user_used_main_reaction": false
}