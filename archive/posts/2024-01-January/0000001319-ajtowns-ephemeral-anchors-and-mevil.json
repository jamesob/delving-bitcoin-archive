{
  "id": 1319,
  "name": "Anthony Towns",
  "username": "ajtowns",
  "avatar_template": "/user_avatar/delvingbitcoin.org/ajtowns/{size}/3_2.png",
  "created_at": "2024-01-24T05:20:08.136Z",
  "cooked": "<p>I think the \u201cdiagram check\u201d is just saying \u201cTxA+TxB\u2019s feerate is 2.2, but TxA plus a 65B burn of the eph anchor would be ~2.74 (1000/(300+65)), so no\u201d. ie:</p>\n<pre data-code-wrap=\"c++\"><code class=\"lang-c++\">if (spender.fee * (to_spend.size + 65) &lt; anchor_value * (to_spend.size + spender.size)) {\n    fail(insufficient_fee_by_eph_anchor_spend);\n}\n</code></pre>\n<p>If the miner can just add the eph anchor as an additional input to an existing transaction then 65 should be reduced to 41, to account for adding an additional input without the overhead of the tx header or any additional outputs.</p>",
  "post_number": 9,
  "post_type": 1,
  "updated_at": "2024-01-24T05:20:08.136Z",
  "reply_count": 0,
  "reply_to_post_number": null,
  "quote_count": 0,
  "incoming_link_count": 0,
  "reads": 6,
  "readers_count": 5,
  "score": 1.0,
  "yours": false,
  "topic_id": 383,
  "topic_slug": "ephemeral-anchors-and-mevil",
  "topic_title": "Ephemeral Anchors and MEVil",
  "topic_html_title": "Ephemeral Anchors and MEVil",
  "category_id": 7,
  "display_username": "Anthony Towns",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "I think the \"diagram check\" is just saying \"TxA+TxB's feerate is 2.2, but TxA plus a 65B burn of the eph anchor would be ~2.74 (1000/(300+65)), so no\". ie:\n\n```c++\nif (spender.fee * (to_spend.size + 65) < anchor_value * (to_spend.size + spender.size)) {\n    fail(insufficient_fee_by_eph_anchor_spend);\n}\n```\n\nIf the miner can just add the eph anchor as an additional input to an existing transaction then 65 should be reduced to 41, to account for adding an additional input without the overhead of the tx header or any additional outputs.",
  "actions_summary": [],
  "moderator": true,
  "admin": true,
  "staff": true,
  "user_id": 3,
  "hidden": false,
  "trust_level": 4,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false
}