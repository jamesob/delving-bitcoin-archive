{
  "id": 6012,
  "name": "Pieter Wuille",
  "username": "sipa",
  "avatar_template": "/user_avatar/delvingbitcoin.org/sipa/{size}/1100_2.png",
  "created_at": "2025-10-07T18:17:50.860Z",
  "cooked": "<aside class=\"quote no-group\" data-username=\"cguida\" data-post=\"1\" data-topic=\"1991\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/letter_avatar_proxy/v4/letter/c/87869e/48.png\" class=\"avatar\"> cguida:</div>\n<blockquote>\n<p>I did not post this response to StackExchange as it is designed for exactly the kind of 1-question-1-answer dynamic I am trying to avoid).</p>\n</blockquote>\n</aside>\n<p>Thanks for posting this here; I agree this is a better place for discussion.</p>\n<aside class=\"quote no-group\" data-username=\"cguida\" data-post=\"1\" data-topic=\"1991\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/letter_avatar_proxy/v4/letter/c/87869e/48.png\" class=\"avatar\"> cguida:</div>\n<blockquote>\n<p>I think this is where we disagree. Greg Maxwell argued[1] in 2015 that \u201cDemand for cheap highly-replicated perpetual storage is unbounded\u201d. I agree with Greg.</p>\n</blockquote>\n</aside>\n<p>Yes, I agree demand for <strong>cheap</strong> highly-replicated perpetual storage is unbounded. As in, as the price per byte goes to zero, the demand goes to infinity (I can\u2019t speak for 2015 Greg, but I believe that\u2019s what he was trying to say here). If it costs nothing, why wouldn\u2019t people just put their backups there? This is the reason for having block weight limits: so that unbounded demand can\u2019t impose unbounded costs on node runners.</p>\n<p>But that\u2019s not what we\u2019re talking about here. As a Bitcoin network user trying to get a transaction confirmed, you\u2019re not competing with all hypothetical demand for block space, only with demand that is willing to pay a higher fee per weight than yourself- and at any given feerate value, that demand is finite.</p>\n<aside class=\"quote no-group quote-modified\" data-username=\"cguida\" data-post=\"1\" data-topic=\"1991\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/letter_avatar_proxy/v4/letter/c/87869e/48.png\" class=\"avatar\"> cguida:</div>\n<blockquote>\n<p>If we do not impose any additional costs on people trying to use bitcoin as a general-purpose database, such use will <em>absolutely</em> drown out payment use cases, especially merchant Lightning nodes which, at the moment, are bitcoin\u2019s most important payment use case.</p>\n</blockquote>\n</aside>\n<p>I don\u2019t know if this is what you believe, but if it is the case that demand for the data-storage use case will always be <strong>willing to pay a higher price per byte</strong> than the payment use case, then I believe Bitcoin simply never had a chance, and a very fundamentally different design is needed. However, I don\u2019t think this is the case: there is no rational reason why someone would want their data replicated <em>precisely</em> to all Bitcoin nodes and nothing else if it\u2019s not data relevant for bitcoin, if it comes at the cost of competing with those who do actually need that - bitcoin payment data.</p>\n<p>As for imposing additional costs - I do think that\u2019s possible in theory, through consensus rule changes, but only up to a small constant factor, as any data publishing can be encoded in ways that are indistinguishable from normal payment data. Assuming you\u2019re talking about policy, I do not believe that it\u2019s possible for policy to impose extra <em>cost</em>. It can add a burden to deployment, but not in operating cost. There is no reason why, given enough demand, direct submission to miners ought to be any more expensive than having the node network relay it for you - centralized systems are inherently more efficient after all, so it might even be cheaper. The best we can hope for is make it so the advantages of direct relay are sufficiently negligible to not warrant the cost of deploying them at scale (they exist already of course, but only provide a tiny amount of mining income right now).</p>\n<aside class=\"quote no-group quote-modified\" data-username=\"cguida\" data-post=\"1\" data-topic=\"1991\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/letter_avatar_proxy/v4/letter/c/87869e/48.png\" class=\"avatar\"> cguida:</div>\n<blockquote>\n<p>I think filters make it <em>look like</em> there is no demand for large opreturns, just as the fence around your house makes it <em>look like</em> there is no demand for trespassing on your property. Deterrents are often misunderstood, because you can\u2019t see all the attempts that never happened, <em>precisely because of the deterrent</em>.</p>\n</blockquote>\n</aside>\n<p>Of course, deterrents can work. I think it\u2019s pretty clear that historically, policy-based discouragement of large OP_RETURNs has worked. But as stated, deterrents like this are just adding a burden to development, not a long-term cost increase. I think of it as similar to the <a href=\"https://en.wikipedia.org/wiki/Smart_cow_problem\">smart cow problem</a>, where the fence stops being effective as soon as a single person does the work of figuring out how to bypass it. And I think it\u2019s clear this has happened; just look at the <a href=\"https://mainnet.observer/charts/fees-sub-1-sat-vbyte-transactions/\">flood of sub-1-sat/vb transactions</a> that are making it into blocks, long before <em>any</em> client (even LibreRelay!) relayed these by default.</p>\n<p>I don\u2019t think there is a reason to expect demand for very large data-storage OP_RETURNs, as using witness data is cheaper and equally useful for this purpose. I do expect demand for medium sized ones (above 80 bytes), for publication purposes. This is a distinct use case, and likely much more monetary in nature. For example, Lightning HTLCs require the publishing of a preimage on chain without which a transaction cannot go through. The goal here isn\u2019t replicated data storage, it\u2019s guaranteeing that the other side learns the preimage atomically, together with the funds being taken. Lightning puts this inside a script, but alternative systems may want to put it elsewhere. And inscription-style witness data is undesirable here, as it needs a second transaction, losing the atomicity, or adding significant complication.</p>\n<p>This all ignores the fact that the reasons for discouragement have changed. I believe that historically, in the fledgling Bitcoin economy, before blocks were consistently full, there was much more potential harm to the ecosystem from data storage, as it risked accelerating bandwidth usage, chain growth (it predated pruning), and block propagation (it predated compact blocks). With regular organically-full blocks and software developments, there just isn\u2019t as much impact on node operators, with or without data-storage transactions (and especially <code>OP_RETURN</code>-style data storage has about <em>the lowest</em> resource impact on nodes). To be clear, even then, there was the possibility for out-of-band relay to emerge if there had been sufficient demand. That didn\u2019t happen back then, but is clearly happening now.</p>\n<aside class=\"quote no-group quote-modified\" data-username=\"cguida\" data-post=\"1\" data-topic=\"1991\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/letter_avatar_proxy/v4/letter/c/87869e/48.png\" class=\"avatar\"> cguida:</div>\n<blockquote>\n<p>I\u2019m not sure what you mean here by \u201cthey likely won\u2019t persist with changing economics\u201d\u2026 if your assertion is that altcoin Ponzis will magically stop happening <em>just</em> because of on-chain fees\u2026 I don\u2019t think that\u2019s likely true at all; one look at the \u201ccrypto industry\u201d outside bitcoin should be sufficient to explain why. But maybe that\u2019s not what you were saying?</p>\n</blockquote>\n</aside>\n<p>I don\u2019t believe that wildly speculative behavior like that will go away entirely no. It almost seems human nature that causes appetite for it.</p>\n<p>My belief is that, over time - and it may be a long time - if Bitcoin is successful, on-chain fee pressure <em>on Bitcoin</em> will price out all or most inappropriate uses of the technology, causing them to move elsewhere. Either to other chains, or ideally, to other technology entirely. That includes things like silly token minting, JPEG storage, and various other things, which just inherently don\u2019t require replication specifically to all Bitcoin nodes. I consider the desire to use the Bitcoin blockchain for these purposes to be dumb and irrational, but of course the market can stay irrational for a long time.</p>\n<p>To be clear, I don\u2019t consider the presence of these changing temporary irrational demand hype cycles to be a threat to Bitcoin anymore, even if they never really go away.</p>\n<aside class=\"quote no-group\" data-username=\"cguida\" data-post=\"1\" data-topic=\"1991\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/letter_avatar_proxy/v4/letter/c/87869e/48.png\" class=\"avatar\"> cguida:</div>\n<blockquote>\n<p>Put more simply: bitcoin\u2019s identity as money cannot be enforced at the consensus layer. Therefore, the only way to ensure that bitcoin stays money is if we enforce its usage as money at the social/mempool layer.</p>\n</blockquote>\n</aside>\n<p>Ok, I very fundamentally disagree here. I believe Bitcoin\u2019s identity as money is a result of it being technology that is primarily useful for that. If somehow demand for competing use cases is inherently stronger, then no mempool/relay design is going to stop that: the demand will result in the development of an alternative relay mechanism, centralized or not, that bypasses those node runners entirely.</p>\n<p>Moreover, if Bitcoin\u2019s survival relies on node runners on a regular basis coming to agreement on what transactions are acceptable, based on the transactions\u2019 intent, then it just seems entirely uninteresting technology to me.</p>\n<p>I liked how <a class=\"mention\" href=\"/u/adamisz\">@AdamISZ</a> put it:</p>\n<aside class=\"quote no-group\" data-username=\"AdamISZ\" data-post=\"4\" data-topic=\"1991\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/adamisz/48/418_2.png\" class=\"avatar\"> AdamISZ:</div>\n<blockquote>\n<p>The whole point of Bitcoin is that is not a <em>community</em> based money, such things completely fail to scale, and also the point of Bitcoin is not to take power away from a central group and give it to the people, it\u2019s to take power away from the central group and give it to <strong>no one at all</strong>.</p>\n</blockquote>\n</aside>\n<p>I saw your response that your goal here isn\u2019t censorship but discouragement to curb \u201cabuse\u201d. I don\u2019t think that changes much: it remains the case that your hope is that node runners have a power to decide which transactions are good, and which are bad, and take action that incentivizes or disincentivizes creators of such transactions.</p>\n<p>This isn\u2019t to say that data-storage is an intended, and much less desirable, goal of the design. Bitcoin is clearly designed for supporting the bitcoin currency. But it also has programmability, and flexibility for building systems on top whose design wasn\u2019t originally known. Data storage is a byproduct of that flexibility.</p>\n<aside class=\"quote no-group\" data-username=\"cguida\" data-post=\"1\" data-topic=\"1991\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/letter_avatar_proxy/v4/letter/c/87869e/48.png\" class=\"avatar\"> cguida:</div>\n<blockquote>\n<p>If our mitigations don\u2019t work, we will continue escalating until the spammers leave.\u201d</p>\n</blockquote>\n</aside>\n<p>Do you mean including consensus rule changes? Because apart from that, this is the equivalent of writing an angry letter. Nobody has to care.</p>\n<aside class=\"quote no-group quote-modified\" data-username=\"cguida\" data-post=\"1\" data-topic=\"1991\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/letter_avatar_proxy/v4/letter/c/87869e/48.png\" class=\"avatar\"> cguida:</div>\n<blockquote>\n<p>If you are implying that fees are the only \u201ceconomic incentives\u201d miners pay attention to, this can be easily disproven by considering the result of the block size war; larger blocks promised <em>much</em> larger fee revenues for miners than small blocks (and presumably number-go-up in the short-term because of perceived \u201cscaling\u201d), and yet the small blockers were victorious.</p>\n</blockquote>\n</aside>\n<p>No, miners care about (1) creating valid blocks (incl. the subsidy that gains them) and (2) transaction fees (and probably (1.5) not being shut down by regulators e.g. if they\u2019re identifiable). Node runners (at least economically relevant ones) have - through their ability to jointly set consensus rules - power over (1), which is what mattered in the block size war. It doesn\u2019t matter what fees a miner might have hoped to have gotten from larger blocks, if their blocks would be considered invalid by the ecosystem. This is also why I say that in the presence of transactions the ecosystem actually considers damaging, consensus rule changes are really the only power node runners have.</p>\n<p>But node runners\u2019 impact on (2) is very limited, because wallets and miners are not required to use the node runner network to relay transactions.</p>\n<aside class=\"quote no-group\" data-username=\"cguida\" data-post=\"1\" data-topic=\"1991\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/letter_avatar_proxy/v4/letter/c/87869e/48.png\" class=\"avatar\"> cguida:</div>\n<blockquote>\n<p>Miners were forced to concede that a bitcoin with smaller blocks and segwit would be much more economically valuable in the free market than a bitcoin with large blocks and no Lightning Network.</p>\n</blockquote>\n</aside>\n<p>I\u2019m not sure I agree here. Miners might as well have been in total agreement that a bitcoin with larger blocks would be more valuable for everyone, they still had no choice but adopting the rules that the ecosystem demanded of them. Miners are \u201ccontractors\u201d to the network. The network sets the rules of what blocks they\u2019ll accept, and miners order transactions into those blocks, and in return, the network pays them (through subsidy, and the ability to charge fees) for that service. If the network decides to change the rules of the game, miners have to follow or they will stop being paid.</p>\n<aside class=\"quote no-group quote-modified\" data-username=\"cguida\" data-post=\"1\" data-topic=\"1991\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/letter_avatar_proxy/v4/letter/c/87869e/48.png\" class=\"avatar\"> cguida:</div>\n<blockquote>\n<p>No, at best the spammers <em>leave bitcoin entirely</em> and go to other chains, as they did in 2014 (again, see [2]). We won the cat-and-mouse game last time; why assume we would lose this time?</p>\n</blockquote>\n</aside>\n<p>I don\u2019t need to assume: I can already see that a large amount of transactions make it into the chain despite not being relayed by the most common node implementations. It\u2019s baffling to me that you keep asserting relay-based discouragement works and will continue to work, despite blatant evidence that at least in some cases, it is trivially bypassed.</p>\n<aside class=\"quote no-group\" data-username=\"cguida\" data-post=\"1\" data-topic=\"1991\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/letter_avatar_proxy/v4/letter/c/87869e/48.png\" class=\"avatar\"> cguida:</div>\n<blockquote>\n<p>The opreturn filter is performing this role admirably, as can be seen by the 99% reduction in large opreturns[3][4] it causes.</p>\n</blockquote>\n</aside>\n<p>How do you explain that this appears to be the case for OP_RETURNs, and does not appear to be the case for sub-1sat/vb transactions? I think a more likely explanation is that either (1) those with demand for larger OP_RETURNs haven\u2019t yet developed the infrastructure to bypass common node implementations yet or (2) there just isn\u2019t that much demand for them because there are cheaper ways to do data storage.</p>\n<p>To be clear, I don\u2019t think it really matters to what extent that is the case or why, as I don\u2019t think today large OP_RETURNs, or other data storage demand is in itself harmful to nodes or Bitcoin at large. I think for data-storage use cases this is misguided, dumb, silly, and/or irrational, but me holding that opinion isn\u2019t going to change anyone\u2019s mind. The market, over time, may.</p>\n<aside class=\"quote no-group\" data-username=\"cguida\" data-post=\"1\" data-topic=\"1991\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/letter_avatar_proxy/v4/letter/c/87869e/48.png\" class=\"avatar\"> cguida:</div>\n<blockquote>\n<p>This argument doesn\u2019t make sense to me. You just argued that users can always submit transactions directly to a miner. So bitcoin is still censorship resistant, even if the relay network is entirely hostile nodes, entirely blocksonly nodes, or even if the relay network doesn\u2019t exist at all. So I don\u2019t see how a supermajority of noderunners running filters does anything to change bitcoin\u2019s censorship resistance. Bitcoin is censorship resistant, period. So spam filtration is an entirely different matter from censorship.</p>\n</blockquote>\n</aside>\n<p>Fair enough; this needs more nuance.</p>\n<p>Direct submission to miners works for <strong>transactions that both sides consent to</strong> (transaction creators and miners). The P2P node network can assist or not, but there is little it can do to intervene - all it needs is for the transaction data to make it to the right place, with or without their help.</p>\n<p>But what makes it so that miners will generally accept all transactions that pay a competitive fee - the property we actually want for censorship resistance? It\u2019s not too hard to imagine a world where there are just a few large mining pools, which are heavily regulated, and thus not beyond influence from those who might actually want to block or stifle certain transactions. The answer is that anyone can join the set of miners without asking for permission. <strong>This is the entire reason why proof-of-work exists.</strong> If we would be okay with an immutable set of miners, we could give them some signing keys each, say that every block needs to be signed by a majority, and get rid of the wastefulness of proof of work. We don\u2019t do that because the ability for anyone to enter the mining market, for economic reasons, or more importantly because they don\u2019t like what existing miners are doing, is what fundamentally provides censorship resistance. Miners don\u2019t censor fee-paying transactions, because if they did, someone else could pop up to mine those transactions anyway. Sure, they need hardware, and electricity, and network connectivity, but beyond that, they don\u2019t need to ask, or even tell anyone. They could do so anonymously, from anywhere in the world. The fact that today\u2019s miners choose to largely identity themselves seems weird to me, but apparently the publicity is worth it to them. In any case, they\u2019re not required to keep doing that.</p>\n<p>However, for this to work, it must also be possible for miners to get competitive access to fee-paying transactions anonymously. If direct-to-miners payment rails to miners develop and get used to the point that they form a substantial portion of mining income, this stops being the case, because nobody will bother submitting to a small-scale newcomer miner with a tiny percentage of the hashrate. Companies might pop up that manage pools of unconfirmed transactions and turn them into block templates for miners. An anonymous miner may well need to do without access to these, and their fee income might be restricted to just the ideological transactions others refuse (or are coerced not to) mine - needing to mine at a loss otherwise.</p>\n<p><strong>This is what I see as the largest threat to Bitcoin in the short to medium term:</strong> the marketplace for block space moving out of the public P2P network, and into centralized channels where they are ripe for censorship. This isn\u2019t exactly a <a href=\"https://arxiv.org/abs/2509.16052v1\">theoretical concern</a>.</p>\n<aside class=\"quote no-group\" data-username=\"cguida\" data-post=\"1\" data-topic=\"1991\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/letter_avatar_proxy/v4/letter/c/87869e/48.png\" class=\"avatar\"> cguida:</div>\n<blockquote>\n<p>Again, if we require consensus changes in order to prevent spam, we will obviously lose to the spammers. There is no way consensus rules can keep up with rapidly evolving threats from Ponzi scammers. But modular filters[6] can easily keep up with such threats.</p>\n</blockquote>\n</aside>\n<p>You\u2019re saying node runners will get together on a regular basis, and come to an agreement as to what types of transactions are going to get the seal of approval for P2P relay? And you think this will get the 90%+ agreement and adoption rate needed for transaction relay to become unreliable? And that those who disagree won\u2019t run their own nodes with different policies, or just develop alternative systems that bypass the P2P network? This seems ludicrous to me, and also doesn\u2019t result in what I\u2019d find interesting.</p>\n<aside class=\"quote no-group\" data-username=\"cguida\" data-post=\"1\" data-topic=\"1991\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/letter_avatar_proxy/v4/letter/c/87869e/48.png\" class=\"avatar\"> cguida:</div>\n<blockquote>\n<p>The change of the default is the important feature of this discussion. The fact that the control was left in is not significant in comparison.</p>\n</blockquote>\n</aside>\n<p>I agree, but I still felt it was worth correcting the misconception that the option is removed.</p>\n<aside class=\"quote no-group\" data-username=\"cguida\" data-post=\"1\" data-topic=\"1991\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/letter_avatar_proxy/v4/letter/c/87869e/48.png\" class=\"avatar\"> cguida:</div>\n<blockquote>\n<p>Doesn\u2019t the risk of having a spam-filled block orphaned because of slow propagation cancel out the risk that the miner will [accidentally] perform a selfish mining attack? This is another place where I\u2019d love to see some actual numbers.</p>\n</blockquote>\n</aside>\n<p>Larger miners benefit from having their blocks being slow to propagate, smaller miners suffer. This is easy to confirm with simulations. It is also intuitive I think: larger miners have a larger probability of finding two blocks in a row, and don\u2019t suffer a propagation delay between them.</p>\n<aside class=\"quote no-group\" data-username=\"cguida\" data-post=\"1\" data-topic=\"1991\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/letter_avatar_proxy/v4/letter/c/87869e/48.png\" class=\"avatar\"> cguida:</div>\n<blockquote>\n<p>Also, blockreconstructionextratxn helps here.</p>\n</blockquote>\n</aside>\n<p>Only to nodes which have peers whose relay policy matches that of miners. It seems highly hypocritical to me to not want to relay certain transactions yourself, but still rely on having peers that do relay those transactions to you so your reconstruction speed is fast. Put otherwise, the extra pool only helps with policy divergence in situations which more or less correspond to the filtered transactions propagating well anyway.</p>",
  "post_number": 11,
  "post_type": 1,
  "posts_count": 16,
  "updated_at": "2025-10-07T18:17:50.860Z",
  "reply_count": 1,
  "reply_to_post_number": null,
  "quote_count": 2,
  "incoming_link_count": 879,
  "reads": 78,
  "readers_count": 77,
  "score": 4640.4,
  "yours": false,
  "topic_id": 1991,
  "topic_slug": "response-to-pieter-wuilles-stackexchange-answer-re-nuking-the-opreturn-filter",
  "topic_title": "Response to Pieter Wuille's StackExchange Answer Re: Nuking the Opreturn Filter",
  "topic_html_title": "Response to Pieter Wuille&rsquo;s StackExchange Answer Re: Nuking the Opreturn Filter",
  "category_id": 5,
  "display_username": "Pieter Wuille",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "badges_granted": [],
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "[quote=\"cguida, post:1, topic:1991\"]\nI did not post this response to StackExchange as it is designed for exactly the kind of 1-question-1-answer dynamic I am trying to avoid).\n[/quote]\n\nThanks for posting this here; I agree this is a better place for discussion.\n\n[quote=\"cguida, post:1, topic:1991\"]\nI think this is where we disagree. Greg Maxwell argued[1] in 2015 that \u201cDemand for cheap highly-replicated perpetual storage is unbounded\u201d. I agree with Greg.\n[/quote]\n\nYes, I agree demand for **cheap** highly-replicated perpetual storage is unbounded. As in, as the price per byte goes to zero, the demand goes to infinity (I can't speak for 2015 Greg, but I believe that's what he was trying to say here). If it costs nothing, why wouldn't people just put their backups there? This is the reason for having block weight limits: so that unbounded demand can't impose unbounded costs on node runners.\n\nBut that's not what we're talking about here. As a Bitcoin network user trying to get a transaction confirmed, you're not competing with all hypothetical demand for block space, only with demand that is willing to pay a higher fee per weight than yourself- and at any given feerate value, that demand is finite.\n\n[quote=\"cguida, post:1, topic:1991\"]\nIf we do not impose any additional costs on people trying to use bitcoin as a general-purpose database, such use will *absolutely* drown out payment use cases, especially merchant Lightning nodes which, at the moment, are bitcoin\u2019s most important payment use case.\n[/quote]\n\nI don't know if this is what you believe, but if it is the case that demand for the data-storage use case will always be **willing to pay a higher price per byte** than the payment use case, then I believe Bitcoin simply never had a chance, and a very fundamentally different design is needed. However, I don't think this is the case: there is no rational reason why someone would want their data replicated *precisely* to all Bitcoin nodes and nothing else if it's not data relevant for bitcoin, if it comes at the cost of competing with those who do actually need that - bitcoin payment data.\n\nAs for imposing additional costs - I do think that's possible in theory, through consensus rule changes, but only up to a small constant factor, as any data publishing can be encoded in ways that are indistinguishable from normal payment data. Assuming you're talking about policy, I do not believe that it's possible for policy to impose extra *cost*. It can add a burden to deployment, but not in operating cost. There is no reason why, given enough demand, direct submission to miners ought to be any more expensive than having the node network relay it for you - centralized systems are inherently more efficient after all, so it might even be cheaper. The best we can hope for is make it so the advantages of direct relay are sufficiently negligible to not warrant the cost of deploying them at scale (they exist already of course, but only provide a tiny amount of mining income right now).\n\n[quote=\"cguida, post:1, topic:1991\"]\nI think filters make it *look like* there is no demand for large opreturns, just as the fence around your house makes it *look like* there is no demand for trespassing on your property. Deterrents are often misunderstood, because you can\u2019t see all the attempts that never happened, *precisely because of the deterrent*.\n[/quote]\n\nOf course, deterrents can work. I think it's pretty clear that historically, policy-based discouragement of large OP_RETURNs has worked. But as stated, deterrents like this are just adding a burden to development, not a long-term cost increase. I think of it as similar to the [smart cow problem](https://en.wikipedia.org/wiki/Smart_cow_problem), where the fence stops being effective as soon as a single person does the work of figuring out how to bypass it. And I think it's clear this has happened; just look at the [flood of sub-1-sat/vb transactions](https://mainnet.observer/charts/fees-sub-1-sat-vbyte-transactions/) that are making it into blocks, long before *any* client (even LibreRelay!) relayed these by default.\n\nI don't think there is a reason to expect demand for very large data-storage OP_RETURNs, as using witness data is cheaper and equally useful for this purpose. I do expect demand for medium sized ones (above 80 bytes), for publication purposes. This is a distinct use case, and likely much more monetary in nature. For example, Lightning HTLCs require the publishing of a preimage on chain without which a transaction cannot go through. The goal here isn't replicated data storage, it's guaranteeing that the other side learns the preimage atomically, together with the funds being taken. Lightning puts this inside a script, but alternative systems may want to put it elsewhere. And inscription-style witness data is undesirable here, as it needs a second transaction, losing the atomicity, or adding significant complication.\n\nThis all ignores the fact that the reasons for discouragement have changed. I believe that historically, in the fledgling Bitcoin economy, before blocks were consistently full, there was much more potential harm to the ecosystem from data storage, as it risked accelerating bandwidth usage, chain growth (it predated pruning), and block propagation (it predated compact blocks). With regular organically-full blocks and software developments, there just isn't as much impact on node operators, with or without data-storage transactions (and especially `OP_RETURN`-style data storage has about *the lowest* resource impact on nodes). To be clear, even then, there was the possibility for out-of-band relay to emerge if there had been sufficient demand. That didn't happen back then, but is clearly happening now.\n\n[quote=\"cguida, post:1, topic:1991\"]\nI\u2019m not sure what you mean here by \u201cthey likely won\u2019t persist with changing economics\u201d\u2026 if your assertion is that altcoin Ponzis will magically stop happening *just* because of on-chain fees\u2026 I don\u2019t think that\u2019s likely true at all; one look at the \u201ccrypto industry\u201d outside bitcoin should be sufficient to explain why. But maybe that\u2019s not what you were saying?\n[/quote]\n\nI don't believe that wildly speculative behavior like that will go away entirely no. It almost seems human nature that causes appetite for it.\n\nMy belief is that, over time - and it may be a long time - if Bitcoin is successful, on-chain fee pressure *on Bitcoin* will price out all or most inappropriate uses of the technology, causing them to move elsewhere. Either to other chains, or ideally, to other technology entirely. That includes things like silly token minting, JPEG storage, and various other things, which just inherently don't require replication specifically to all Bitcoin nodes. I consider the desire to use the Bitcoin blockchain for these purposes to be dumb and irrational, but of course the market can stay irrational for a long time.\n\nTo be clear, I don't consider the presence of these changing temporary irrational demand hype cycles to be a threat to Bitcoin anymore, even if they never really go away.\n\n[quote=\"cguida, post:1, topic:1991\"]\nPut more simply: bitcoin\u2019s identity as money cannot be enforced at the consensus layer. Therefore, the only way to ensure that bitcoin stays money is if we enforce its usage as money at the social/mempool layer.\n[/quote]\n\nOk, I very fundamentally disagree here. I believe Bitcoin's identity as money is a result of it being technology that is primarily useful for that. If somehow demand for competing use cases is inherently stronger, then no mempool/relay design is going to stop that: the demand will result in the development of an alternative relay mechanism, centralized or not, that bypasses those node runners entirely.\n\nMoreover, if Bitcoin's survival relies on node runners on a regular basis coming to agreement on what transactions are acceptable, based on the transactions' intent, then it just seems entirely uninteresting technology to me. \n\nI liked how @AdamISZ put it:\n\n[quote=\"AdamISZ, post:4, topic:1991\"]\nThe whole point of Bitcoin is that is not a *community* based money, such things completely fail to scale, and also the point of Bitcoin is not to take power away from a central group and give it to the people, it\u2019s to take power away from the central group and give it to **no one at all**.\n[/quote]\n\nI saw your response that your goal here isn't censorship but discouragement to curb \"abuse\". I don't think that changes much: it remains the case that your hope is that node runners have a power to decide which transactions are good, and which are bad, and take action that incentivizes or disincentivizes creators of such transactions.\n\nThis isn't to say that data-storage is an intended, and much less desirable, goal of the design. Bitcoin is clearly designed for supporting the bitcoin currency. But it also has programmability, and flexibility for building systems on top whose design wasn't originally known. Data storage is a byproduct of that flexibility.\n\n[quote=\"cguida, post:1, topic:1991\"]\nIf our mitigations don\u2019t work, we will continue escalating until the spammers leave.\u201d\n[/quote]\n\nDo you mean including consensus rule changes? Because apart from that, this is the equivalent of writing an angry letter. Nobody has to care.\n\n[quote=\"cguida, post:1, topic:1991\"]\nIf you are implying that fees are the only \u201ceconomic incentives\u201d miners pay attention to, this can be easily disproven by considering the result of the block size war; larger blocks promised *much* larger fee revenues for miners than small blocks (and presumably number-go-up in the short-term because of perceived \u201cscaling\u201d), and yet the small blockers were victorious.\n[/quote]\n\nNo, miners care about (1) creating valid blocks (incl. the subsidy that gains them) and (2) transaction fees (and probably (1.5) not being shut down by regulators e.g. if they're identifiable). Node runners (at least economically relevant ones) have - through their ability to jointly set consensus rules - power over (1), which is what mattered in the block size war. It doesn't matter what fees a miner might have hoped to have gotten from larger blocks, if their blocks would be considered invalid by the ecosystem. This is also why I say that in the presence of transactions the ecosystem actually considers damaging, consensus rule changes are really the only power node runners have.\n\nBut node runners' impact on (2) is very limited, because wallets and miners are not required to use the node runner network to relay transactions.\n\n[quote=\"cguida, post:1, topic:1991\"]\nMiners were forced to concede that a bitcoin with smaller blocks and segwit would be much more economically valuable in the free market than a bitcoin with large blocks and no Lightning Network.\n[/quote]\n\nI'm not sure I agree here. Miners might as well have been in total agreement that a bitcoin with larger blocks would be more valuable for everyone, they still had no choice but adopting the rules that the ecosystem demanded of them. Miners are \"contractors\" to the network. The network sets the rules of what blocks they'll accept, and miners order transactions into those blocks, and in return, the network pays them (through subsidy, and the ability to charge fees) for that service. If the network decides to change the rules of the game, miners have to follow or they will stop being paid.\n\n[quote=\"cguida, post:1, topic:1991\"]\nNo, at best the spammers *leave bitcoin entirely* and go to other chains, as they did in 2014 (again, see [2]). We won the cat-and-mouse game last time; why assume we would lose this time? \n[/quote]\n\nI don't need to assume: I can already see that a large amount of transactions make it into the chain despite not being relayed by the most common node implementations. It's baffling to me that you keep asserting relay-based discouragement works and will continue to work, despite blatant evidence that at least in some cases, it is trivially bypassed.\n\n[quote=\"cguida, post:1, topic:1991\"]\nThe opreturn filter is performing this role admirably, as can be seen by the 99% reduction in large opreturns[3][4] it causes.\n[/quote]\n\nHow do you explain that this appears to be the case for OP_RETURNs, and does not appear to be the case for sub-1sat/vb transactions? I think a more likely explanation is that either (1) those with demand for larger OP_RETURNs haven't yet developed the infrastructure to bypass common node implementations yet or (2) there just isn't that much demand for them because there are cheaper ways to do data storage.\n\nTo be clear, I don't think it really matters to what extent that is the case or why, as I don't think today large OP_RETURNs, or other data storage demand is in itself harmful to nodes or Bitcoin at large. I think for data-storage use cases this is misguided, dumb, silly, and/or irrational, but me holding that opinion isn't going to change anyone's mind. The market, over time, may.\n\n[quote=\"cguida, post:1, topic:1991\"]\nThis argument doesn\u2019t make sense to me. You just argued that users can always submit transactions directly to a miner. So bitcoin is still censorship resistant, even if the relay network is entirely hostile nodes, entirely blocksonly nodes, or even if the relay network doesn\u2019t exist at all. So I don\u2019t see how a supermajority of noderunners running filters does anything to change bitcoin\u2019s censorship resistance. Bitcoin is censorship resistant, period. So spam filtration is an entirely different matter from censorship.\n[/quote]\n\nFair enough; this needs more nuance.\n\nDirect submission to miners works for **transactions that both sides consent to** (transaction creators and miners). The P2P node network can assist or not, but there is little it can do to intervene - all it needs is for the transaction data to make it to the right place, with or without their help.\n\nBut what makes it so that miners will generally accept all transactions that pay a competitive fee - the property we actually want for censorship resistance? It's not too hard to imagine a world where there are just a few large mining pools, which are heavily regulated, and thus not beyond influence from those who might actually want to block or stifle certain transactions. The answer is that anyone can join the set of miners without asking for permission. **This is the entire reason why proof-of-work exists.** If we would be okay with an immutable set of miners, we could give them some signing keys each, say that every block needs to be signed by a majority, and get rid of the wastefulness of proof of work. We don't do that because the ability for anyone to enter the mining market, for economic reasons, or more importantly because they don't like what existing miners are doing, is what fundamentally provides censorship resistance. Miners don't censor fee-paying transactions, because if they did, someone else could pop up to mine those transactions anyway. Sure, they need hardware, and electricity, and network connectivity, but beyond that, they don't need to ask, or even tell anyone. They could do so anonymously, from anywhere in the world. The fact that today's miners choose to largely identity themselves seems weird to me, but apparently the publicity is worth it to them. In any case, they're not required to keep doing that.\n\nHowever, for this to work, it must also be possible for miners to get competitive access to fee-paying transactions anonymously. If direct-to-miners payment rails to miners develop and get used to the point that they form a substantial portion of mining income, this stops being the case, because nobody will bother submitting to a small-scale newcomer miner with a tiny percentage of the hashrate. Companies might pop up that manage pools of unconfirmed transactions and turn them into block templates for miners. An anonymous miner may well need to do without access to these, and their fee income might be restricted to just the ideological transactions others refuse (or are coerced not to) mine - needing to mine at a loss otherwise.\n\n**This is what I see as the largest threat to Bitcoin in the short to medium term:** the marketplace for block space moving out of the public P2P network, and into centralized channels where they are ripe for censorship. This isn't exactly a [theoretical concern](https://arxiv.org/abs/2509.16052v1).\n\n[quote=\"cguida, post:1, topic:1991\"]\nAgain, if we require consensus changes in order to prevent spam, we will obviously lose to the spammers. There is no way consensus rules can keep up with rapidly evolving threats from Ponzi scammers. But modular filters[6] can easily keep up with such threats.\n[/quote]\n\nYou're saying node runners will get together on a regular basis, and come to an agreement as to what types of transactions are going to get the seal of approval for P2P relay? And you think this will get the 90%+ agreement and adoption rate needed for transaction relay to become unreliable? And that those who disagree won't run their own nodes with different policies, or just develop alternative systems that bypass the P2P network? This seems ludicrous to me, and also doesn't result in what I'd find interesting.\n\n[quote=\"cguida, post:1, topic:1991\"]\nThe change of the default is the important feature of this discussion. The fact that the control was left in is not significant in comparison.\n[/quote]\n\nI agree, but I still felt it was worth correcting the misconception that the option is removed.\n\n[quote=\"cguida, post:1, topic:1991\"]\nDoesn\u2019t the risk of having a spam-filled block orphaned because of slow propagation cancel out the risk that the miner will [accidentally] perform a selfish mining attack? This is another place where I\u2019d love to see some actual numbers.\n[/quote]\n\nLarger miners benefit from having their blocks being slow to propagate, smaller miners suffer. This is easy to confirm with simulations. It is also intuitive I think: larger miners have a larger probability of finding two blocks in a row, and don't suffer a propagation delay between them.\n\n[quote=\"cguida, post:1, topic:1991\"]\nAlso, blockreconstructionextratxn helps here.\n[/quote]\n\nOnly to nodes which have peers whose relay policy matches that of miners. It seems highly hypocritical to me to not want to relay certain transactions yourself, but still rely on having peers that do relay those transactions to you so your reconstruction speed is fast. Put otherwise, the extra pool only helps with policy divergence in situations which more or less correspond to the filtered transactions propagating well anyway.",
  "actions_summary": [
    {
      "id": 2,
      "count": 16
    }
  ],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 96,
  "hidden": false,
  "trust_level": 3,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "excerpt": "Thanks for posting this here; I agree this is a better place for discussion. \n\nYes, I agree demand for cheap highly-replicated perpetual storage is unbounded. As in, as the price per byte goes to zero, the demand goes to infinity (I can\u2019t speak for 2015 Greg, but I believe that\u2019s what he was trying&hellip;",
  "truncated": true,
  "post_url": "/t/response-to-pieter-wuilles-stackexchange-answer-re-nuking-the-opreturn-filter/1991/11",
  "reactions": [
    {
      "id": "+1",
      "type": "emoji",
      "count": 13
    },
    {
      "id": "heart",
      "type": "emoji",
      "count": 2
    },
    {
      "id": "open_mouth",
      "type": "emoji",
      "count": 1
    }
  ],
  "current_user_reaction": null,
  "reaction_users_count": 16,
  "current_user_used_main_reaction": false,
  "can_accept_answer": false,
  "can_unaccept_answer": false,
  "accepted_answer": false,
  "topic_accepted_answer": null
}