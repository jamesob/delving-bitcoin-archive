{
  "id": 5362,
  "name": "Zawy",
  "username": "zawy",
  "avatar_template": "/user_avatar/delvingbitcoin.org/zawy/{size}/750_2.png",
  "created_at": "2025-06-28T11:08:01.613Z",
  "cooked": "<p>Correcting / clarifying my comment that Erlang should be used, we\u2019re estimating hashrate which has time in the denominator which means we need to use the expected value of the <em>inverse</em> of an Erlang-distributed random variable. The key point here is that the error comes from</p>\n<p>1/E[T] != E[1/T]</p>\n<p>We try to use 1/E[T] when we need to use E[1/T]</p>\n<p>So less formally (to get the desired result):</p>\n<ul>\n<li>T = timespan</li>\n<li>k = N = n blocks</li>\n<li>\u03bb = 1/(mean_blocktime):</li>\n</ul>\n<p>E[1/T] = \u03bb / (k-1) for k &gt; 2 via Grok.</p>\n<ul>\n<li>W = sipa\u2019s sum of work.</li>\n<li>estimated \u03bb = k/T from Erlang \u03bb = k / E[T].</li>\n<li>estimated \u03bb = k/T from MLE for Poisson.</li>\n</ul>\n<p>E[W/T] = W * E[1/T] = W / T * k / (k-1)</p>\n<p>This is the expected, biased, hashrate measurement, so we have to multiply (k-1)/k to get W/T, the true, unbiased hashrate.</p>",
  "post_number": 6,
  "post_type": 1,
  "posts_count": 30,
  "updated_at": "2025-06-29T14:43:12.845Z",
  "reply_count": 0,
  "reply_to_post_number": 5,
  "quote_count": 0,
  "incoming_link_count": 0,
  "reads": 32,
  "readers_count": 31,
  "score": 6.4,
  "yours": false,
  "topic_id": 1745,
  "topic_slug": "correcting-the-error-in-getnetworkhashrateps",
  "topic_title": "Correcting the error in getnetworkhashrateps",
  "topic_html_title": "Correcting the error in getnetworkhashrateps",
  "category_id": 7,
  "display_username": "Zawy",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "badges_granted": [],
  "version": 4,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "reply_to_user": {
    "id": 502,
    "username": "zawy",
    "name": "Zawy",
    "avatar_template": "/user_avatar/delvingbitcoin.org/zawy/{size}/750_2.png"
  },
  "bookmarked": false,
  "raw": "Correcting / clarifying my comment that Erlang should be used, we're estimating hashrate which has time in the denominator which means we need to use the expected value of the *inverse* of an Erlang-distributed random variable. The key point here is that the error comes from \n\n1/E[T] != E[1/T]\n\nWe try to use 1/E[T] when we need to use E[1/T]\n\nSo less formally (to get the desired result): \n\n* T = timespan\n* k = N = n blocks \n* \u03bb = 1/(mean_blocktime):\n\nE[1/T] = \u03bb / (k-1) for k > 2 via Grok.\n\n* W = sipa's sum of work.\n* estimated \u03bb = k/T from Erlang \u03bb = k / E[T].\n* estimated \u03bb = k/T from MLE for Poisson.\n\nE[W/T] = W * E[1/T] = W / T * k / (k-1)\n\nThis is the expected, biased, hashrate measurement, so we have to multiply (k-1)/k to get W/T, the true, unbiased hashrate.",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 502,
  "hidden": false,
  "trust_level": 2,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "excerpt": "Correcting / clarifying my comment that Erlang should be used, we\u2019re estimating hashrate which has time in the denominator which means we need to use the expected value of the inverse of an Erlang-distributed random variable. The key point here is that the error comes from \n1/E[T] != E[1/T] \nWe try &hellip;",
  "truncated": true,
  "post_url": "/t/correcting-the-error-in-getnetworkhashrateps/1745/6",
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false,
  "can_accept_answer": false,
  "can_unaccept_answer": false,
  "accepted_answer": false,
  "topic_accepted_answer": null
}