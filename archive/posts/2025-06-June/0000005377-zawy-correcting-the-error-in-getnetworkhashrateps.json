{
  "id": 5377,
  "name": "Zawy",
  "username": "zawy",
  "avatar_template": "/user_avatar/delvingbitcoin.org/zawy/{size}/750_2.png",
  "created_at": "2025-06-30T15:56:54.666Z",
  "cooked": "<p>If I\u2019m wrong, why can\u2019t our estimated hashrate not simply be multiplied by the timespan to get the total work?</p>\n<p>Here\u2019s my \u201cmath\u201d:</p>\n<ul>\n<li>W = total hashes, assume constant target</li>\n<li>EE [  ] = expected value of inverse of an Erlang-distributed random variable</li>\n<li>T = true timespan = N / \u03bb</li>\n</ul>\n<p>E [ hashrate ] = E [ W / T ] =  W * EE[1/T]</p>\n<p>EE[1/T] = \u03bb / (N-1) = ( N / T ) / (N-1)</p>\n<p>E [ W / T ]  = W / T * N / (N-1)</p>\n<p>This means W / T = hashrate is as we said above:</p>\n<p>W / T = E [ W / T ] * (N-1) / N</p>\n<p>This \u201cmath\u201d is claiming our hashrate isn\u2019t the E [hashrate].</p>\n<p>Can I multiply this by T_observed to get W? T_observed is the only estimate of T that I have, and it\u2019s not in the denominator which is where I would normally a problem. So I get:</p>\n<p>W / T * T_observed = W = Expected [ W / T ] * (N-1) / N</p>\n<p>My intuitive excuse for why this might be correct, despite giving the wrong W over many trials, is that an observation doesn\u2019t give us the benefit of many trials. It\u2019s only correct for a single observation. We want the work we observe, not the work we expect.</p>",
  "post_number": 12,
  "post_type": 1,
  "posts_count": 30,
  "updated_at": "2025-06-30T15:56:54.666Z",
  "reply_count": 1,
  "reply_to_post_number": 11,
  "quote_count": 0,
  "incoming_link_count": 0,
  "reads": 29,
  "readers_count": 28,
  "score": 10.8,
  "yours": false,
  "topic_id": 1745,
  "topic_slug": "correcting-the-error-in-getnetworkhashrateps",
  "topic_title": "Correcting the error in getnetworkhashrateps",
  "topic_html_title": "Correcting the error in getnetworkhashrateps",
  "category_id": 7,
  "display_username": "Zawy",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "badges_granted": [],
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "reply_to_user": {
    "id": 96,
    "username": "sipa",
    "name": "Pieter Wuille",
    "avatar_template": "/user_avatar/delvingbitcoin.org/sipa/{size}/1100_2.png"
  },
  "bookmarked": false,
  "raw": "If I'm wrong, why can't our estimated hashrate not simply be multiplied by the timespan to get the total work? \n\nHere's my \"math\":\n\n* W = total hashes, assume constant target\n* EE [  ] = expected value of inverse of an Erlang-distributed random variable\n* T = true timespan = N / &lambda;\n\nE [ hashrate ] = E [ W / T ] =  W * EE[1/T]\n\nEE[1/T] = &lambda; / (N-1) = ( N / T ) / (N-1)\n\nE [ W / T ]  = W / T * N / (N-1)\n\nThis means W / T = hashrate is as we said above: \n\nW / T = E [ W / T ] * (N-1) / N \n\nThis \"math\" is claiming our hashrate isn't the E [hashrate]. \n\nCan I multiply this by T_observed to get W? T_observed is the only estimate of T that I have, and it's not in the denominator which is where I would normally a problem. So I get:\n\nW / T * T_observed = W = Expected [ W / T ] * (N-1) / N \n\nMy intuitive excuse for why this might be correct, despite giving the wrong W over many trials, is that an observation doesn't give us the benefit of many trials. It's only correct for a single observation. We want the work we observe, not the work we expect.",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 502,
  "hidden": false,
  "trust_level": 2,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "excerpt": "If I\u2019m wrong, why can\u2019t our estimated hashrate not simply be multiplied by the timespan to get the total work? \nHere\u2019s my \u201cmath\u201d: \n\nW = total hashes, assume constant target\nEE [  ] = expected value of inverse of an Erlang-distributed random variable\nT = true timespan = N / \u03bb\n\nE [ hashrate ] = E [ W &hellip;",
  "truncated": true,
  "post_url": "/t/correcting-the-error-in-getnetworkhashrateps/1745/12",
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false,
  "can_accept_answer": false,
  "can_unaccept_answer": false,
  "accepted_answer": false,
  "topic_accepted_answer": null
}