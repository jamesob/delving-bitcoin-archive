{
  "id": 5896,
  "name": "Daniela",
  "username": "danielabrozzoni",
  "avatar_template": "/user_avatar/delvingbitcoin.org/danielabrozzoni/{size}/1300_2.png",
  "created_at": "2025-09-17T13:22:50.674Z",
  "cooked": "<p>I crawled the Bitcoin network to record the minimum relay fee advertised by reachable nodes through the <code>FEEFILTER</code> message.</p>\n<p>The scan used a <a href=\"https://github.com/danielabrozzoni/p2p-crawler/tree/feefilter_parsing\" rel=\"noopener nofollow ugc\">modified version</a> of <a href=\"https://github.com/virtu/p2p-crawler/\" rel=\"noopener nofollow ugc\">virtu\u2019s p2p-crawler</a> which connects to every node, waits up to three minutes for a <code>FEEFILTER</code> message, and records the result. If no <code>FEEFILTER</code> message is received within the timeout the node is listed as \u201cNo <code>FEEFILTER</code> sent.\u201d</p>\n<p>Only nodes that accept inbound connections are included, and the results are based only on what each node advertises in its <code>FEEFILTER</code> message. I don\u2019t think nodes have a reason to fake this field, but I suppose it\u2019s possible, and I did not perform additional checks such as sending test transactions or monitoring relays.</p>\n<p>Two full scans were run on 10/09 and 15/09.</p>\n<h2><a name=\"p-5896-networks-covered-1\" class=\"anchor\" href=\"#p-5896-networks-covered-1\"></a>Networks covered</h2>\n<div class=\"md-table\">\n<table>\n<thead>\n<tr>\n<th>Network</th>\n<th>Nodes 10/09</th>\n<th>Nodes 15/09</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>i2p</td>\n<td>2,980 (10.6%)</td>\n<td>3,081 (10.8%)</td>\n</tr>\n<tr>\n<td>ipv4</td>\n<td>9,020 (32.0%)</td>\n<td>8,681 (30.4%)</td>\n</tr>\n<tr>\n<td>ipv6</td>\n<td>2,002 (7.1%)</td>\n<td>2,008 (7.0%)</td>\n</tr>\n<tr>\n<td>onion_v3</td>\n<td>14,216 (50.4%)</td>\n<td>14,769 (51.8%)</td>\n</tr>\n</tbody>\n</table>\n</div><h2><a name=\"p-5896-reported-minimum-relay-fees-2\" class=\"anchor\" href=\"#p-5896-reported-minimum-relay-fees-2\"></a>Reported minimum relay fees</h2>\n<div class=\"md-table\">\n<table>\n<thead>\n<tr>\n<th>MinRelayFee</th>\n<th>Nodes 10/09</th>\n<th>Nodes 15/09</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1000</td>\n<td>25,125 (89.0%)</td>\n<td>24,695 (86.5%)</td>\n</tr>\n<tr>\n<td>No FEEFILTER sent</td>\n<td>2,135 (7.6%)</td>\n<td>2,331 (8.2%)</td>\n</tr>\n<tr>\n<td>100</td>\n<td>569 (2.0%)</td>\n<td>1105 (3.9%)</td>\n</tr>\n<tr>\n<td>9170997</td>\n<td>84 (0.3%)</td>\n<td>73 (0.3%)</td>\n</tr>\n<tr>\n<td>1</td>\n<td>81 (0.3%)</td>\n<td>91 (0.3%)</td>\n</tr>\n</tbody>\n</table>\n</div><p>(Because categories with very few nodes were excluded, the percentages do not add up to exactly 100%.)</p>\n<h3><a name=\"p-5896-network-by-network-breakdown-3\" class=\"anchor\" href=\"#p-5896-network-by-network-breakdown-3\"></a>Network-by-Network Breakdown</h3>\n<h4><a name=\"p-5896-i2p-4\" class=\"anchor\" href=\"#p-5896-i2p-4\"></a>i2p</h4>\n<div class=\"md-table\">\n<table>\n<thead>\n<tr>\n<th>MinRelayFee</th>\n<th>Nodes 10/09</th>\n<th>Nodes 15/09</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1000</td>\n<td>2,862 (96.0%)</td>\n<td>2,844 (93.6%)</td>\n</tr>\n<tr>\n<td>100</td>\n<td>61 (2.0%)</td>\n<td>143 (4.6%)</td>\n</tr>\n<tr>\n<td>No FEEFILTER sent</td>\n<td>20 (0.7%)</td>\n<td>21 (0.7%)</td>\n</tr>\n</tbody>\n</table>\n</div><h4><a name=\"p-5896-ipv4-5\" class=\"anchor\" href=\"#p-5896-ipv4-5\"></a>IPv4</h4>\n<div class=\"md-table\">\n<table>\n<thead>\n<tr>\n<th>MinRelayFee</th>\n<th>Nodes 10/09</th>\n<th>Nodes 15/09</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1000</td>\n<td>6,879 (76.3%)</td>\n<td>6,295 (72.5%)</td>\n</tr>\n<tr>\n<td>No FEEFILTER sent</td>\n<td>1,758 (19.5%)</td>\n<td>1,924 (22.2%)</td>\n</tr>\n<tr>\n<td>100</td>\n<td>223 (2.5%)</td>\n<td>307 (3.5%)</td>\n</tr>\n</tbody>\n</table>\n</div><h4><a name=\"p-5896-ipv6-6\" class=\"anchor\" href=\"#p-5896-ipv6-6\"></a>IPv6</h4>\n<div class=\"md-table\">\n<table>\n<thead>\n<tr>\n<th>MinRelayFee</th>\n<th>Nodes 10/09</th>\n<th>Nodes 15/09</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1000</td>\n<td>1,685 (84.2%)</td>\n<td>1,639 (81.6%)</td>\n</tr>\n<tr>\n<td>No FEEFILTER sent</td>\n<td>221 (11.0%)</td>\n<td>239 (11.9%)</td>\n</tr>\n<tr>\n<td>100</td>\n<td>59 (2.9%)</td>\n<td>69 (3.4%)</td>\n</tr>\n</tbody>\n</table>\n</div><h4><a name=\"p-5896-onion_v3-7\" class=\"anchor\" href=\"#p-5896-onion_v3-7\"></a>onion_v3</h4>\n<div class=\"md-table\">\n<table>\n<thead>\n<tr>\n<th>MinRelayFee</th>\n<th>Nodes 10/09</th>\n<th>Nodes 15/09</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1000</td>\n<td>13,699 (96.4%)</td>\n<td>13,877 (94.0%)</td>\n</tr>\n<tr>\n<td>100</td>\n<td>226 (1.6%)</td>\n<td>586 (4.0%)</td>\n</tr>\n<tr>\n<td>No FEEFILTER sent</td>\n<td>136 (1.0%)</td>\n<td>147 (1.0%)</td>\n</tr>\n</tbody>\n</table>\n</div><hr>\n<h2><a name=\"p-5896-open-questions-8\" class=\"anchor\" href=\"#p-5896-open-questions-8\"></a>Open questions</h2>\n<ul>\n<li>I was surprised to see that a large share of IPv4 nodes didn\u2019t send a <code>FEEFILTER</code>. Peter Todd suggested these might be spy nodes. When I checked the IP addresses, I noticed several clusters of about 50 nodes sharing the same subnet, though I did not investigate further.</li>\n<li>The <strong>9170997</strong> entries are a bit odd\u2026 I connected to a few of those nodes with Bitcoin Core and checked <code>minfeefilter</code> in <code>getpeerinfo</code> to make sure the crawler wasn\u2019t wrongly parsing messages. The value really is what they\u2019re advertising, but I have no idea why\u2026 if anyone has a theory, I\u2019d love to hear it.</li>\n</ul>\n<h2><a name=\"p-5896-acknowledgments-9\" class=\"anchor\" href=\"#p-5896-acknowledgments-9\"></a>Acknowledgments</h2>\n<p>The idea for this post was inspired by tweets from Murch (<a href=\"https://x.com/murchandamus/status/1962634242581766643\" rel=\"noopener nofollow ugc\">original tweet</a>, <a href=\"https://x.com/murchandamus/status/1962751958894485534\" rel=\"noopener nofollow ugc\">correction</a>)</p>\n<p>Thanks to Peter Todd for a few pointers and a quick sanity check. All remaining errors are my fault <img src=\"https://delvingbitcoin.org/images/emoji/twitter/slight_smile.png?v=14\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
  "post_number": 1,
  "post_type": 1,
  "posts_count": 2,
  "updated_at": "2025-09-17T13:22:50.674Z",
  "reply_count": 1,
  "reply_to_post_number": null,
  "quote_count": 0,
  "incoming_link_count": 2,
  "reads": 8,
  "readers_count": 7,
  "score": 31.6,
  "yours": false,
  "topic_id": 1989,
  "topic_slug": "measuring-minrelaytxfee-across-the-bitcoin-network",
  "topic_title": "Measuring minrelaytxfee across the Bitcoin network",
  "topic_html_title": "Measuring minrelaytxfee across the Bitcoin network",
  "category_id": 7,
  "display_username": "Daniela",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "badges_granted": [],
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "I crawled the Bitcoin network to record the minimum relay fee advertised by reachable nodes through the `FEEFILTER` message.\n\nThe scan used a [modified version](https://github.com/danielabrozzoni/p2p-crawler/tree/feefilter_parsing) of [virtu\u2019s p2p-crawler](https://github.com/virtu/p2p-crawler/) which connects to every node, waits up to three minutes for a `FEEFILTER` message, and records the result. If no `FEEFILTER` message is received within the timeout the node is listed as \u201cNo `FEEFILTER` sent.\u201d\n\nOnly nodes that accept inbound connections are included, and the results are based only on what each node advertises in its `FEEFILTER` message. I don\u2019t think nodes have a reason to fake this field, but I suppose it\u2019s possible, and I did not perform additional checks such as sending test transactions or monitoring relays.\n\nTwo full scans were run on 10/09 and 15/09.\n\n## Networks covered\n\n| Network | Nodes 10/09 | Nodes 15/09 |\n|----|----|----|\n| i2p | 2,980 (10.6%) | 3,081 (10.8%) |\n| ipv4 | 9,020 (32.0%) | 8,681 (30.4%) |\n| ipv6 | 2,002 (7.1%) | 2,008 (7.0%) |\n| onion_v3 | 14,216 (50.4%) | 14,769 (51.8%) |\n\n## Reported minimum relay fees\n\n| MinRelayFee | Nodes 10/09 | Nodes 15/09 |\n|----|----|----|\n| 1000 | 25,125 (89.0%) | 24,695 (86.5%) |\n| No FEEFILTER sent | 2,135 (7.6%) | 2,331 (8.2%) |\n| 100 | 569 (2.0%) | 1105 (3.9%) |\n| 9170997 | 84 (0.3%) | 73 (0.3%) |\n| 1 | 81 (0.3%) | 91 (0.3%) |\n\n(Because categories with very few nodes were excluded, the percentages do not add up to exactly 100%.)\n\n### Network-by-Network Breakdown\n\n#### i2p\n\n| MinRelayFee | Nodes 10/09 | Nodes 15/09 |\n|----|----|----|\n| 1000 | 2,862 (96.0%) | 2,844 (93.6%) |\n| 100 | 61 (2.0%) | 143 (4.6%) |\n| No FEEFILTER sent | 20 (0.7%) | 21 (0.7%) |\n\n#### IPv4\n\n| MinRelayFee | Nodes 10/09 | Nodes 15/09 |\n|----|----|----|\n| 1000 | 6,879 (76.3%) | 6,295 (72.5%) |\n| No FEEFILTER sent | 1,758 (19.5%) | 1,924 (22.2%) |\n| 100 | 223 (2.5%) | 307 (3.5%) |\n\n#### IPv6\n\n| MinRelayFee | Nodes 10/09 | Nodes 15/09 |\n|----|----|----|\n| 1000 | 1,685 (84.2%) | 1,639 (81.6%) |\n| No FEEFILTER sent | 221 (11.0%) | 239 (11.9%) |\n| 100 | 59 (2.9%) | 69 (3.4%) |\n\n#### onion_v3\n\n| MinRelayFee | Nodes 10/09 | Nodes 15/09 |\n|----|----|----|\n| 1000 | 13,699 (96.4%) | 13,877 (94.0%) |\n| 100 | 226 (1.6%) | 586 (4.0%) |\n| No FEEFILTER sent | 136 (1.0%) | 147 (1.0%) |\n\n---\n\n## Open questions\n\n* I was surprised to see that a large share of IPv4 nodes didn\u2019t send a `FEEFILTER`. Peter Todd suggested these might be spy nodes. When I checked the IP addresses, I noticed several clusters of about 50 nodes sharing the same subnet, though I did not investigate further.\n* The **9170997** entries are a bit odd\u2026 I connected to a few of those nodes with Bitcoin Core and checked `minfeefilter` in `getpeerinfo` to make sure the crawler wasn\u2019t wrongly parsing messages. The value really is what they\u2019re advertising, but I have no idea why\u2026 if anyone has a theory, I\u2019d love to hear it.\n\n## Acknowledgments\n\nThe idea for this post was inspired by tweets from Murch ([original tweet](https://x.com/murchandamus/status/1962634242581766643), [correction](https://x.com/murchandamus/status/1962751958894485534))\n\nThanks to Peter Todd for a few pointers and a quick sanity check. All remaining errors are my fault :)",
  "actions_summary": [
    {
      "id": 2,
      "count": 1
    }
  ],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 186,
  "hidden": false,
  "trust_level": 1,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "excerpt": "I crawled the Bitcoin network to record the minimum relay fee advertised by reachable nodes through the FEEFILTER message. \nThe scan used a <a href=\"https://github.com/danielabrozzoni/p2p-crawler/tree/feefilter_parsing\" rel=\"noopener nofollow ugc\">modified version</a> of <a href=\"https://github.com/virtu/p2p-crawler/\" rel=\"noopener nofollow ugc\">virtu\u2019s p2p-crawler</a> which connects to every node, waits up to three minutes for a FEEFILTER message, and records the result. If no FEEFILTER &hellip;",
  "truncated": true,
  "post_url": "/t/measuring-minrelaytxfee-across-the-bitcoin-network/1989/1",
  "reactions": [
    {
      "id": "+1",
      "type": "emoji",
      "count": 1
    }
  ],
  "current_user_reaction": null,
  "reaction_users_count": 1,
  "current_user_used_main_reaction": false,
  "can_accept_answer": false,
  "can_unaccept_answer": false,
  "accepted_answer": false,
  "topic_accepted_answer": null,
  "can_vote": false
}