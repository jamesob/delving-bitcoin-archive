{
  "id": 3514,
  "name": "Rene Pickhardt",
  "username": "renepickhardt",
  "avatar_template": "/user_avatar/delvingbitcoin.org/renepickhardt/{size}/7_2.png",
  "created_at": "2024-11-14T12:40:24.915Z",
  "cooked": "<p>I have been wondering about channel factories and how to extend the bolts to support them quite a bit. For example I think besides your SuperScalar proposal VTXOs in Ark are a natural candidate to be funding TX for channels.</p>\n<p>While many LSPs consider channel factories a proper use for the last mile problem and are willing to consider unannounced channels I am wondering about extensions to <a href=\"https://github.com/lightning/bolts/blob/aa5207aeaa32d841353dd2df3ce725a4046d528d/07-routing-gossip.md\" rel=\"noopener nofollow ugc\">BOLT7</a> where it states for example:</p>\n<blockquote>\n<p>A node:</p>\n<ul>\n<li>SHOULD monitor the funding transactions in the blockchain, to identify  channels that are being closed.</li>\n<li>if the funding output of a channel is spent and received 12 block confirmations:</li>\n<li>SHOULD be removed from the local network view AND be considered closed.</li>\n</ul>\n</blockquote>\n<p>Channels within a factory cannot be monitored on the blockchain. Similarly the announcement of such channels will be tricky as bolt7 currently states:</p>\n<blockquote>\n<ul>\n<li>MUST set <code>bitcoin_key_1</code> and <code>bitcoin_key_2</code> to <code>node_id_1</code> and <code>node_id_2</code>\u2019s respective <code>funding_pubkey</code>s.</li>\n</ul>\n</blockquote>\n<p>However as <a href=\"https://github.com/renepickhardt/Lightning-Network-Limitations\" rel=\"noopener nofollow ugc\">laid out in my research I believe routing nodes will eventually need channel factories for their liquidity management to fulfill and facilitate payment requests</a>. Thus those channels may need to be announced and we should wonder how we can extend gossip to do so. I understand that there are ideas in future gossip to remove the tight coupling and spam prevention.</p>\n<p>In any case I believe a protocol for pluggable channel factories should give providers of channel factories an API to sign of that they created a channel and a method for to nodes to monitor if the channel was closed.</p>",
  "post_number": 2,
  "post_type": 1,
  "updated_at": "2024-11-14T12:45:29.445Z",
  "reply_count": 1,
  "reply_to_post_number": null,
  "quote_count": 0,
  "incoming_link_count": 5,
  "reads": 10,
  "readers_count": 9,
  "score": 47.0,
  "yours": false,
  "topic_id": 1252,
  "topic_slug": "pluggable-channel-factories",
  "topic_title": "Pluggable Channel Factories",
  "topic_html_title": "Pluggable Channel Factories",
  "category_id": 7,
  "display_username": "Rene Pickhardt",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "version": 2,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "I have been wondering about channel factories and how to extend the bolts to support them quite a bit. For example I think besides your SuperScalar proposal VTXOs in Ark are a natural candidate to be funding TX for channels. \n\nWhile many LSPs consider channel factories a proper use for the last mile problem and are willing to consider unannounced channels I am wondering about extensions to [BOLT7](https://github.com/lightning/bolts/blob/aa5207aeaa32d841353dd2df3ce725a4046d528d/07-routing-gossip.md) where it states for example: \n\n> A node:\n>\n> * SHOULD monitor the funding transactions in the blockchain, to identify  channels that are being closed.\n> * if the funding output of a channel is spent and received 12 block confirmations:\n>  * SHOULD be removed from the local network view AND be considered closed.\n\nChannels within a factory cannot be monitored on the blockchain. Similarly the announcement of such channels will be tricky as bolt7 currently states: \n\n> * MUST set `bitcoin_key_1` and `bitcoin_key_2` to `node_id_1` and `node_id_2`'s respective `funding_pubkey`s.\n\nHowever as [laid out in my research I believe routing nodes will eventually need channel factories for their liquidity management to fulfill and facilitate payment requests](https://github.com/renepickhardt/Lightning-Network-Limitations). Thus those channels may need to be announced and we should wonder how we can extend gossip to do so. I understand that there are ideas in future gossip to remove the tight coupling and spam prevention. \n\nIn any case I believe a protocol for pluggable channel factories should give providers of channel factories an API to sign of that they created a channel and a method for to nodes to monitor if the channel was closed.",
  "actions_summary": [
    {
      "id": 2,
      "count": 1
    }
  ],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 8,
  "hidden": false,
  "trust_level": 2,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": "Github link was replaced with a permanent link",
  "can_view_edit_history": true,
  "wiki": false,
  "reactions": [
    {
      "id": "rocket",
      "type": "emoji",
      "count": 1
    }
  ],
  "current_user_reaction": null,
  "reaction_users_count": 1,
  "current_user_used_main_reaction": false
}