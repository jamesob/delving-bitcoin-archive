{
  "id": 6186,
  "name": "Pieter Wuille",
  "username": "sipa",
  "avatar_template": "/user_avatar/delvingbitcoin.org/sipa/{size}/1100_2.png",
  "created_at": "2025-11-02T15:33:09.124Z",
  "cooked": "<p>I ran your script on a Ryzen 5950X CPU, with 500000 iterations (as I saw a decent amount of variance between runs with lower numbers), showing a speed ratio of 8.5 currently.</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://delvingbitcoin.org/uploads/default/original/2X/5/5673ff2e18f8ffe1f8f48bb719298e9c84a3b0c6.png\" data-download-href=\"https://delvingbitcoin.org/uploads/default/5673ff2e18f8ffe1f8f48bb719298e9c84a3b0c6\" title=\"secp256k1_5950x\"><img src=\"https://delvingbitcoin.org/uploads/default/optimized/2X/5/5673ff2e18f8ffe1f8f48bb719298e9c84a3b0c6_2_690x230.png\" alt=\"secp256k1_5950x\" data-base62-sha1=\"ckNAeCSoatUJzmwLvF0FxtI3tLE\" width=\"690\" height=\"230\" srcset=\"https://delvingbitcoin.org/uploads/default/optimized/2X/5/5673ff2e18f8ffe1f8f48bb719298e9c84a3b0c6_2_690x230.png, https://delvingbitcoin.org/uploads/default/optimized/2X/5/5673ff2e18f8ffe1f8f48bb719298e9c84a3b0c6_2_1035x345.png 1.5x, https://delvingbitcoin.org/uploads/default/optimized/2X/5/5673ff2e18f8ffe1f8f48bb719298e9c84a3b0c6_2_1380x460.png 2x\" data-dominant-color=\"E4D5D5\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">secp256k1_5950x</span><span class=\"informations\">1800\u00d7600 30.3 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Interestingly, in these numbers there does not appear to be any speed grain in bc-22.0 (in fact, a 3.6% slowdown!) from the safegcd code, but there is an 8% speed up in bc-27.0, presumably due to the removal(!) of x86_64 assembly in <a href=\"https://github.com/bitcoin-core/secp256k1/pull/1446\">https://github.com/bitcoin-core/secp256k1/pull/1446</a> (libsecp256k1 v0.4.1).</p>\n<p>I think it\u2019s also important to be aware of some biases exhibited by these numbers:</p>\n<ul>\n<li>We\u2019re benchmarking them all (necessarily for fairness) on the same identical hardware, but the efforts that went into creating this code were informed by benchmarks on hardware available at the time. This holds both for different systems within the same (e.g. x86_64) architecture, and popularity of architecture over time (e.g. aarch64 is much more popular and relevant now than 10 years ago).</li>\n<li>We\u2019re benchmarking them all with the same compiler, but historical efforts aimed at improving performance for compilers that existed at the time. For example, the x86_64 field assembly code was better than machine code generated from pure C code 10 years ago, but there is barely a difference with modern compilers (which is why 0.4.1 removed it).</li>\n</ul>",
  "post_number": 2,
  "post_type": 1,
  "posts_count": 4,
  "updated_at": "2025-11-02T15:49:38.454Z",
  "reply_count": 0,
  "reply_to_post_number": null,
  "quote_count": 0,
  "incoming_link_count": 0,
  "reads": 21,
  "readers_count": 20,
  "score": 34.2,
  "yours": false,
  "topic_id": 2087,
  "topic_slug": "comparing-the-performance-of-ecdsa-signature-validation-in-openssl-vs-libsecp256k1-over-the-last-decade",
  "topic_title": "Comparing the performance of ECDSA signature validation in OpenSSL vs. libsecp256k1 over the last decade",
  "topic_html_title": "Comparing the performance of ECDSA signature validation in OpenSSL vs. libsecp256k1 over the last decade",
  "category_id": 8,
  "display_username": "Pieter Wuille",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "badges_granted": [],
  "version": 2,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "I ran your script on a Ryzen 5950X CPU, with 500000 iterations (as I saw a decent amount of variance between runs with lower numbers), showing a speed ratio of 8.5 currently.\n\n![secp256k1_5950x|690x230](upload://ckNAeCSoatUJzmwLvF0FxtI3tLE.png)\n\nInterestingly, in these numbers there does not appear to be any speed grain in bc-22.0 (in fact, a 3.6% slowdown!) from the safegcd code, but there is an 8% speed up in bc-27.0, presumably due to the removal(!) of x86_64 assembly in https://github.com/bitcoin-core/secp256k1/pull/1446 (libsecp256k1 v0.4.1).\n\nI think it's also important to be aware of some biases exhibited by these numbers:\n* We're benchmarking them all (necessarily for fairness) on the same identical hardware, but the efforts that went into creating this code were informed by benchmarks on hardware available at the time. This holds both for different systems within the same (e.g. x86_64) architecture, and popularity of architecture over time (e.g. aarch64 is much more popular and relevant now than 10 years ago).\n* We're benchmarking them all with the same compiler, but historical efforts aimed at improving performance for compilers that existed at the time. For example, the x86_64 field assembly code was better than machine code generated from pure C code 10 years ago, but there is barely a difference with modern compilers (which is why 0.4.1 removed it).",
  "actions_summary": [
    {
      "id": 2,
      "count": 2
    }
  ],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 96,
  "hidden": false,
  "trust_level": 3,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "excerpt": "I ran your script on a Ryzen 5950X CPU, with 500000 iterations (as I saw a decent amount of variance between runs with lower numbers), showing a speed ratio of 8.5 currently. \n <a class=\"lightbox\" href=\"https://delvingbitcoin.org/uploads/default/original/2X/5/5673ff2e18f8ffe1f8f48bb719298e9c84a3b0c6.png\" data-download-href=\"https://delvingbitcoin.org/uploads/default/5673ff2e18f8ffe1f8f48bb719298e9c84a3b0c6\" title=\"secp256k1_5950x\">[secp256k1_5950x]</a> \nInterestingly, in these numbers there does not appear to be any speed grain in bc-22.0 (in fact, a 3.6% &hellip;",
  "truncated": true,
  "post_url": "/t/comparing-the-performance-of-ecdsa-signature-validation-in-openssl-vs-libsecp256k1-over-the-last-decade/2087/2",
  "reactions": [
    {
      "id": "+1",
      "type": "emoji",
      "count": 2
    }
  ],
  "current_user_reaction": null,
  "reaction_users_count": 2,
  "current_user_used_main_reaction": false,
  "can_accept_answer": false,
  "can_unaccept_answer": false,
  "accepted_answer": false,
  "topic_accepted_answer": null
}