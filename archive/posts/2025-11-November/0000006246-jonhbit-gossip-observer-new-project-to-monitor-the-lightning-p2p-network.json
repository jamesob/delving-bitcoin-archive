{
  "id": 6246,
  "name": "Jonathan Harvey-Buschel",
  "username": "jonhbit",
  "avatar_template": "/user_avatar/delvingbitcoin.org/jonhbit/{size}/1661_2.png",
  "created_at": "2025-11-14T20:48:38.161Z",
  "cooked": "<p>For the past few months (since plebfi miami), I\u2019ve been working on a project to monitor the Lightning gossip network by collecting gossip messages from numerous nodes. The repo with the code used, the raw data collected before lightning++, and the slides from my talk is here:</p>\n<p><a href=\"https://github.com/jharveyb/gossip_observer\" rel=\"noopener nofollow ugc\">https://github.com/jharveyb/gossip_observer</a></p>\n<h2><a name=\"p-6246-observations-1\" class=\"anchor\" href=\"#p-6246-observations-1\"></a>Observations:</h2>\n<ul>\n<li>\n<p>Convergence delay (time for a message to propagate around the network) has dropped a significant amount since similar measurements in 2022, from ~500 to ~200 seconds for 75% propagation. I suspect this is due to LN implementations defaulting to making more P2P connections.</p>\n</li>\n<li>\n<p>A significant subset of all messages received were sent to my node by less than 1/4th of its peers. This could be due to a poorly connected graph of P2P connections, or some filtering policy in the LN implementations.</p>\n</li>\n<li>\n<p>For channel_update messages, which were 60% of total messages, 20% of channels had more than 144 messages. This is relevant when compared to the proposed gossip rate limit for Taproot gossip / gossip 1.5(?):</p>\n</li>\n</ul>\n<p><a href=\"https://github.com/lightning/bolts/pull/1059\" rel=\"noopener nofollow ugc\">https://github.com/lightning/bolts/pull/1059</a></p>\n<ul>\n<li>\n<p>For node_announcement messages, which were 30% of total messages, 2.5% of nodes were announced more than 144 times. This seems like a unintended behavior of some implementation or node automation tool.</p>\n</li>\n<li>\n<p>The total size of all unique messages collected over that day was 103.2 MB, which is greater than I expected. This does not account for the bandwidth overhead of receiving the same message from multiple peers, so node bandwidth usage is likely much higher.</p>\n</li>\n</ul>\n<h2><a name=\"p-6246-future-work-2\" class=\"anchor\" href=\"#p-6246-future-work-2\"></a>Future Work</h2>\n<p>So far, I only collected data over a 24 hour period and analyzed that. In the near term I\u2019ll be setting up permanent infrastructure to receive gossip from multiple geographic regions and neighborhoods in the P2P graph. I\u2019ll also be adding functionality to broadcast gossip messages from these nodes, and observe their propagation. Work will continue in the gossip-observer repo linked above.</p>\n<h2><a name=\"p-6246-getting-involved-3\" class=\"anchor\" href=\"#p-6246-getting-involved-3\"></a>Getting Involved</h2>\n<p>If you have feedback on interesting metrics to compute, a request to track gossip propagation from your node, or anything else, feel free to message me here!</p>\n<p>I\u2019m also investigating how this raw data could be published so others can perform their own analysis. I\u2019m particularly interested in options for unsupervised anomaly detection, but I\u2019m also definitely not a data scientist.</p>",
  "post_number": 1,
  "post_type": 1,
  "posts_count": 2,
  "updated_at": "2025-11-14T20:48:38.161Z",
  "reply_count": 0,
  "reply_to_post_number": null,
  "quote_count": 0,
  "incoming_link_count": 0,
  "reads": 13,
  "readers_count": 12,
  "score": 17.6,
  "yours": false,
  "topic_id": 2105,
  "topic_slug": "gossip-observer-new-project-to-monitor-the-lightning-p2p-network",
  "topic_title": "Gossip Observer: New project to monitor the Lightning P2P network",
  "topic_html_title": "Gossip Observer: New project to monitor the Lightning P2P network",
  "category_id": 7,
  "display_username": "Jonathan Harvey-Buschel",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "badges_granted": [],
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "For the past few months (since plebfi miami), I've been working on a project to monitor the Lightning gossip network by collecting gossip messages from numerous nodes. The repo with the code used, the raw data collected before lightning++, and the slides from my talk is here:\n\n<https://github.com/jharveyb/gossip_observer>\n\n## Observations:\n\n- Convergence delay (time for a message to propagate around the network) has dropped a significant amount since similar measurements in 2022, from ~500 to ~200 seconds for 75% propagation. I suspect this is due to LN implementations defaulting to making more P2P connections.\n\n- A significant subset of all messages received were sent to my node by less than 1/4th of its peers. This could be due to a poorly connected graph of P2P connections, or some filtering policy in the LN implementations.\n\n- For channel_update messages, which were 60% of total messages, 20% of channels had more than 144 messages. This is relevant when compared to the proposed gossip rate limit for Taproot gossip / gossip 1.5(?):\n\n<https://github.com/lightning/bolts/pull/1059>\n\n- For node_announcement messages, which were 30% of total messages, 2.5% of nodes were announced more than 144 times. This seems like a unintended behavior of some implementation or node automation tool.\n\n- The total size of all unique messages collected over that day was 103.2 MB, which is greater than I expected. This does not account for the bandwidth overhead of receiving the same message from multiple peers, so node bandwidth usage is likely much higher.\n\n## Future Work\n\nSo far, I only collected data over a 24 hour period and analyzed that. In the near term I'll be setting up permanent infrastructure to receive gossip from multiple geographic regions and neighborhoods in the P2P graph. I'll also be adding functionality to broadcast gossip messages from these nodes, and observe their propagation. Work will continue in the gossip-observer repo linked above.\n\n## Getting Involved\n\nIf you have feedback on interesting metrics to compute, a request to track gossip propagation from your node, or anything else, feel free to message me here!\n\nI'm also investigating how this raw data could be published so others can perform their own analysis. I'm particularly interested in options for unsupervised anomaly detection, but I'm also definitely not a data scientist.",
  "actions_summary": [
    {
      "id": 2,
      "count": 1
    }
  ],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 982,
  "hidden": false,
  "trust_level": 1,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "excerpt": "For the past few months (since plebfi miami), I\u2019ve been working on a project to monitor the Lightning gossip network by collecting gossip messages from numerous nodes. The repo with the code used, the raw data collected before lightning++, and the slides from my talk is here: \n<a href=\"https://github.com/jharveyb/gossip_observer\" rel=\"noopener nofollow ugc\">https://github.com/jha&hellip;</a>",
  "truncated": true,
  "post_url": "/t/gossip-observer-new-project-to-monitor-the-lightning-p2p-network/2105/1",
  "reactions": [
    {
      "id": "eyes",
      "type": "emoji",
      "count": 1
    }
  ],
  "current_user_reaction": null,
  "reaction_users_count": 1,
  "current_user_used_main_reaction": false,
  "can_accept_answer": false,
  "can_unaccept_answer": false,
  "accepted_answer": false,
  "topic_accepted_answer": null,
  "can_vote": false
}