{
  "id": 6299,
  "name": "Jonathan Harvey-Buschel",
  "username": "jonhbit",
  "avatar_template": "/user_avatar/delvingbitcoin.org/jonhbit/{size}/1661_2.png",
  "created_at": "2025-11-20T16:18:51.798Z",
  "cooked": "<aside class=\"quote no-group\" data-username=\"gmaxwell\" data-post=\"5\" data-topic=\"2105\" data-full=\"true\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/letter_avatar_proxy/v4/letter/g/fbc32d/48.png\" class=\"avatar\"> gmaxwell:</div>\n<blockquote>\n<p>Just be careful with figures from papers they tend to be rather asymptotic.  IBLT like schemes usually start with ~32-bits per difference in overhead for a checksum which is pretty bad when otherwise 30-bit members are fine</p>\n</blockquote>\n</aside>\n<p>Fair; their main benchmarks are using 32-byte members and 8-byte checksums. I think the claimed overhead depends on the ratio between these two? Which would be worse for this application.</p>\n<p>They do mention that you can shorten the checksum for small sets, but it definitely isn\u2019t benchmarked. I <em>think</em> that is acceptable if the set members are already sufficiently collision resistant.</p>\n<aside class=\"quote no-group\" data-username=\"gmaxwell\" data-post=\"5\" data-topic=\"2105\" data-full=\"true\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/letter_avatar_proxy/v4/letter/g/fbc32d/48.png\" class=\"avatar\"> gmaxwell:</div>\n<blockquote>\n<p>(FWIW, you can use minisketch in a kind of quasi rateless way by just dynamically sending more until the other side could recover\u2013 almost all the computation from a partial one can be conserved, as you don\u2019t get to the expensive and non-reusable root finding step until you\u2019re almost certain to have a correct decode, so long as you\u2019re willing to take one or two extra elements overhead)</p>\n</blockquote>\n</aside>\n<p>Ah, I didn\u2019t fully realize that this was the tradeoff for bisection / sketch reuse from the original paper nor notes on the repo <img src=\"https://delvingbitcoin.org/images/emoji/twitter/sweat_smile.png?v=14\" title=\":sweat_smile:\" class=\"emoji\" alt=\":sweat_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"> But I see it listed as a TODO. That seems like the best option then; having more than one communication round for bisection is also more acceptable for LN than Bitcoin TX broadcast.</p>\n<p>I don\u2019t have a real estimate nor intuition for how many differences to expect; I may be able to estimate that by looking at real-world traffic, but it seems like this also depends on the flooding timer skew across all of your peers? Perhaps that is another option for reducing differences. Eventually I\u2019ll replay real-world traffic in simulation for a proper estimate.</p>\n<p>Related, one simple adjustment to reduce differences would be to flood messages your node generates to your direct peers, instead of waiting for the reconciliation timer.</p>",
  "post_number": 6,
  "post_type": 1,
  "posts_count": 6,
  "updated_at": "2025-11-20T16:18:51.798Z",
  "reply_count": 0,
  "reply_to_post_number": 5,
  "quote_count": 1,
  "incoming_link_count": 0,
  "reads": 13,
  "readers_count": 12,
  "score": 2.6,
  "yours": false,
  "topic_id": 2105,
  "topic_slug": "gossip-observer-new-project-to-monitor-the-lightning-p2p-network",
  "topic_title": "Gossip Observer: New project to monitor the Lightning P2P network",
  "topic_html_title": "Gossip Observer: New project to monitor the Lightning P2P network",
  "category_id": 7,
  "display_username": "Jonathan Harvey-Buschel",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "badges_granted": [],
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "[quote=\"gmaxwell, post:5, topic:2105, full:true\"]\nJust be careful with figures from papers they tend to be rather asymptotic.  IBLT like schemes usually start with \\~32-bits per difference in overhead for a checksum which is pretty bad when otherwise 30-bit members are fine\n[/quote]\n\nFair; their main benchmarks are using 32-byte members and 8-byte checksums. I think the claimed overhead depends on the ratio between these two? Which would be worse for this application.\n\nThey do mention that you can shorten the checksum for small sets, but it definitely isn't benchmarked. I _think_ that is acceptable if the set members are already sufficiently collision resistant.\n\n[quote=\"gmaxwell, post:5, topic:2105, full:true\"]\n(FWIW, you can use minisketch in a kind of quasi rateless way by just dynamically sending more until the other side could recover\u2013 almost all the computation from a partial one can be conserved, as you don\u2019t get to the expensive and non-reusable root finding step until you\u2019re almost certain to have a correct decode, so long as you\u2019re willing to take one or two extra elements overhead)\n[/quote]\n\nAh, I didn't fully realize that this was the tradeoff for bisection / sketch reuse from the original paper nor notes on the repo :sweat_smile: But I see it listed as a TODO. That seems like the best option then; having more than one communication round for bisection is also more acceptable for LN than Bitcoin TX broadcast.\n\nI don't have a real estimate nor intuition for how many differences to expect; I may be able to estimate that by looking at real-world traffic, but it seems like this also depends on the flooding timer skew across all of your peers? Perhaps that is another option for reducing differences. Eventually I'll replay real-world traffic in simulation for a proper estimate.\n\nRelated, one simple adjustment to reduce differences would be to flood messages your node generates to your direct peers, instead of waiting for the reconciliation timer.",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 982,
  "hidden": false,
  "trust_level": 1,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "excerpt": "Fair; their main benchmarks are using 32-byte members and 8-byte checksums. I think the claimed overhead depends on the ratio between these two? Which would be worse for this application. \nThey do mention that you can shorten the checksum for small sets, but it definitely isn\u2019t benchmarked. I think &hellip;",
  "truncated": true,
  "post_url": "/t/gossip-observer-new-project-to-monitor-the-lightning-p2p-network/2105/6",
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false,
  "can_accept_answer": false,
  "can_unaccept_answer": false,
  "accepted_answer": false,
  "topic_accepted_answer": null
}