{
  "id": 6355,
  "name": "Anthony Towns",
  "username": "ajtowns",
  "avatar_template": "/user_avatar/delvingbitcoin.org/ajtowns/{size}/417_2.png",
  "created_at": "2025-11-28T12:23:04.905Z",
  "cooked": "<aside class=\"quote no-group\" data-username=\"sjors\" data-post=\"86\" data-topic=\"710\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/sjors/48/59_2.png\" class=\"avatar\"> sjors:</div>\n<blockquote>\n<p>To repeat the response I had there: why not just use a <code>scriptPubKey</code>? Since a coinbase doesn\u2019t have input signatures that commit to outputs, there\u2019d be no extra hashing either.</p>\n</blockquote>\n</aside>\n<p>If your coinbase tx (ignoring the witness) is N bytes, then appending a 0 sat output of the form <code>OP_RETURN OP_PUSH[4+X] &lt;X bytes padding&gt; &lt;4B nonce&gt;</code> where <code>X=max(0,16-(N+23)%64)</code> allows you to update the 4B nonce with only the final sha256 round, at a cost of between 15 to 31 bytes of additional coinbase data, achieving essentially the same benefit as using the coinbase nlocktime as a nonce (which requires between 0 and 12 bytes of padding for alignment anyway). If you\u2019re already doing extranonce work via an OP_RETURN output, then there\u2019s only 0-4 bytes of additional overhead to align the end of the final OP_RETURN data compared to aligning the nlocktime field in the first place.</p>\n<p>32b of extra nonce in addition to 32b nNonce and 16b from BIP 320 and rolling nTime once per second gives 1200 zettahash/second (1.2 trillion TH/s), so about 1000x the total current hashrate.</p>",
  "post_number": 88,
  "post_type": 1,
  "posts_count": 88,
  "updated_at": "2025-12-03T11:40:55.532Z",
  "reply_count": 1,
  "reply_to_post_number": 86,
  "quote_count": 1,
  "incoming_link_count": 0,
  "reads": 33,
  "readers_count": 32,
  "score": 11.6,
  "yours": false,
  "topic_id": 710,
  "topic_slug": "great-consensus-cleanup-revival",
  "topic_title": "Great Consensus Cleanup Revival",
  "topic_html_title": "Great Consensus Cleanup Revival",
  "category_id": 7,
  "display_username": "Anthony Towns",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "badges_granted": [],
  "version": 2,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "[quote=\"sjors, post:86, topic:710\"]\nTo repeat the response I had there: why not just use a `scriptPubKey`? Since a coinbase doesn\u2019t have input signatures that commit to outputs, there\u2019d be no extra hashing either.\n[/quote]\n\nIf your coinbase tx (ignoring the witness) is N bytes, then appending a 0 sat output of the form `OP_RETURN OP_PUSH[4+X] <X bytes padding> <4B nonce>` where `X=max(0,16-(N+23)%64)` allows you to update the 4B nonce with only the final sha256 round, at a cost of between 15 to 31 bytes of additional coinbase data, achieving essentially the same benefit as using the coinbase nlocktime as a nonce (which requires between 0 and 12 bytes of padding for alignment anyway). If you're already doing extranonce work via an OP_RETURN output, then there's only 0-4 bytes of additional overhead to align the end of the final OP_RETURN data compared to aligning the nlocktime field in the first place.\n\n32b of extra nonce in addition to 32b nNonce and 16b from BIP 320 and rolling nTime once per second gives 1200 zettahash/second (1.2 trillion TH/s), so about 1000x the total current hashrate.",
  "actions_summary": [],
  "moderator": true,
  "admin": true,
  "staff": true,
  "user_id": 3,
  "hidden": false,
  "trust_level": 4,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "excerpt": "If your coinbase tx (ignoring the witness) is N bytes, then appending a 0 sat output of the form OP_RETURN OP_PUSH[4+X] &lt;X bytes padding&gt; &lt;4B nonce&gt; where X=max(0,16-(N+23)%64) allows you to update the 4B nonce with only the final sha256 round, at a cost of between 15 to 31 bytes of additional coin&hellip;",
  "truncated": true,
  "post_url": "/t/great-consensus-cleanup-revival/710/88",
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false,
  "can_accept_answer": false,
  "can_unaccept_answer": false,
  "accepted_answer": false,
  "topic_accepted_answer": null
}