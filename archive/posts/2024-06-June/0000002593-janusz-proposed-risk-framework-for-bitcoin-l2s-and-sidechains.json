{
  "id": 2593,
  "name": "janusz",
  "username": "janusz",
  "avatar_template": "/letter_avatar_proxy/v4/letter/j/76d3ee/{size}.png",
  "created_at": "2024-06-01T09:13:04.488Z",
  "cooked": "<p>Hi everyone,</p>\n<p>My name is Janusz and I am working on a project called <a href=\"https://www.bitcoinlayers.org/\" rel=\"noopener nofollow ugc\">Bitcoin Layers</a> which assesses various implementations of L2s and sidechains. The new wave of sidechain protocols sparked the development of the project.</p>\n<p>I\u2019ve developed a <a href=\"https://hackmd.io/@januszgrze/bitcoin-layers-risk-proposal\" rel=\"noopener nofollow ugc\">risk framework</a> which analyzes L2s and sidechains against common criteria. The goal is to clearly explain the risks associated with each implementation to users.</p>\n<p>I\u2019ve worked on refining this proposal with our <a href=\"https://x.com/januszg_/status/1795858888857665656\" rel=\"noopener nofollow ugc\">research advisor(s) and advisory board</a>. I\u2019m additionally posting here to solicit feedback and see if we have any gaps in our methodology.</p>\n<p>Let me know if you have any thoughts!</p>\n<hr>\n<h1><a name=\"proposal-for-updated-bitcoin-layers-risk-framework-1\" class=\"anchor\" href=\"#proposal-for-updated-bitcoin-layers-risk-framework-1\"></a>Proposal for updated Bitcoin Layers risk framework</h1>\n<p><a href=\"https://www.bitcoinlayers.org/\" rel=\"noopener nofollow ugc\">Bitcoin Layers</a> currently has a risk assessment framework where scaling protocols are analyzed against four key aspects of their protocol. Each aspect is given a risk score, high, medium or low risk, after review. The scaling protocol will then receive a pie chart score, with the colors resembling its overall risk score.</p>\n<p>We are currently assessing protocols based on the following criteria:</p>\n<ul>\n<li>Unilateral exit</li>\n<li>Data availability</li>\n<li>Block production</li>\n<li>State validation (settlement)</li>\n</ul>\n<p>Our <a href=\"https://bitcoin-layers.gitbook.io/bitcoin-layers\" rel=\"noopener nofollow ugc\">docs</a> outline why we\u2019ve chosen these areas.</p>\n<h2><a name=\"current-challenges-2\" class=\"anchor\" href=\"#current-challenges-2\"></a>Current challenges</h2>\n<p>The primary challenge we are currently facing with this framework is that not all protocols are designed with the same goals in mind and have varying tradeoffs. For example, a rollup is inherently different from a payment channel protocol.</p>\n<h2><a name=\"proposed-solution-3\" class=\"anchor\" href=\"#proposed-solution-3\"></a>Proposed solution</h2>\n<p>Saunter (from Alby) suggested that we create a more diverse framework that assigns weights to the specific risk questions. If a protocol does not meet a specific requirement, they would be deducted points off their total score relative to the weight of that question. I\u2019m proposing a similar model, and believe it will help create a more granular framework for the Bitcoin Layers project.</p>\n<p>Instead of weights, we keep the high, medium, low risk categories, but we add further circumstances that could see a protocol move between the risk categories.</p>\n<p>We also add further binary questions to the assessment that helps users better understand the risks associated with a certain protocol.</p>\n<p>All of this information can be comprised into a risk summary that points out the key tradeoffs related to a specific protocol, and how it might potentially impact the Bitcoin network.</p>\n<h3><a name=\"starting-point-4\" class=\"anchor\" href=\"#starting-point-4\"></a>Starting point</h3>\n<p>We analyze protocols on four categories: Data availability, network operators, settlement assurance (a.k.a finality), and the bridge custody (or two-way peg).</p>\n<p>Protocols do not receive an overall score, but a risk summary is added at the beginning of every assessment to highlight risk areas that can be critical.</p>\n<p>For example, if an optimium uses an offchain data availability solution that is a single server, then it only takes collusion between a sequencer and the operator of the DA server to steal everyone\u2019s funds. This is extremely high risk and should be noted in the summary.</p>\n<p>Let\u2019s review how protocols can potentially be assessed.</p>\n<h4><a name=\"data-availability-5\" class=\"anchor\" href=\"#data-availability-5\"></a>Data availability</h4>\n<ul>\n<li>Self-hosted: User can store data related to scaling protocol transactions locally - <strong>low risk</strong></li>\n<li>Onchain: Protocol uses Bitcoin for data availability - <strong>low risk</strong></li>\n<li>Offchain via alternative consensus protocol: Data is primarily stored on another publicly available, decentralized network and there is a mechanism to verify that the data is readily available - <strong>medium risk</strong>\n<ul>\n<li>If the network sees N &lt; 21 operators participating in the network, then it is <strong>high risk</strong></li>\n<li>If the network sees N &gt; 100 operators participating in the network, then it is <strong>low risk</strong></li>\n<li>If no mechanism to detect fraud (e.g. DA withholding attack), then <strong>high risk</strong></li>\n</ul>\n</li>\n<li>Offchain DAC: L2 state stored via a centralized (or permissioned) committee and Bitcoin full nodes, and users, trust attestations made by the committee that data is readily available - <strong>high risk</strong></li>\n<li>Offchain Single Server: L2 state is stored via a centralized server and Bitcoin full nodes, and users, trust attestations made by the operator that data is readily available - <strong>high risk</strong></li>\n</ul>\n<h4><a name=\"network-operators-6\" class=\"anchor\" href=\"#network-operators-6\"></a>Network Operators</h4>\n<ul>\n<li>Network is operated peer-to-peer Protocol doesn\u2019t rely on third party operators - <strong>low risk</strong></li>\n<li>Network operator set is N &gt; 21 and users can self sequence - <strong>low risk</strong>\n<ul>\n<li>Sequencer designs can include of this Federated, Auction, PoS, DPoS, PoW, etc</li>\n<li>If network operator is N &lt; 21 , then moved to <strong>medium risk</strong></li>\n</ul>\n</li>\n<li>User can\u2019t self sequence, but operator set is N &gt; 21 - <strong>medium risk</strong>\n<ul>\n<li>If operator set is N &gt; 100 then move to <strong>low risk</strong></li>\n<li>Designs include Federated, Auction, PoS, DPoS, PoW, etc</li>\n</ul>\n</li>\n<li>Federated operator set: Transactions are sequenced by an honest majority of participants in a permissioned, offchain consensus protocol/network - <strong>high risk</strong></li>\n<li>Centralized operator with no self-sequencing - <strong>high risk</strong></li>\n</ul>\n<h4><a name=\"settlement-assurance-7\" class=\"anchor\" href=\"#settlement-assurance-7\"></a>Settlement assurance</h4>\n<ul>\n<li>Bitcoin-equivalent: Settlement happens on, or is enforced by, Bitcoin script and/or consensus participants - <strong>low risk</strong></li>\n<li>Onchain, optimistic settlement: Settlement happens through an onchain challenge response protocol (BitVM2, Lightning) - <strong>low risk</strong>\n<ul>\n<li>Note: BitVM2 sees challenger/verifier role be permissionless</li>\n<li>If permissioned, <strong>medium risk</strong> (Citrea\u2019s zk-verifier, SNARKnado)</li>\n</ul>\n</li>\n<li>Offchain via alternative, permissionless consensus mechanism: Settlement is managed offchain by a permissionless consensus protocol and/or network of nodes  - <strong>medium risk</strong></li>\n<li>Federated: Settlement for the layer is finalized by an honest majority of participants in a permissioned, offchain consensus protocol/network - <strong>high risk</strong></li>\n<li>Offchain via single server: Settlement for the layer is finalized by one party - <strong>high risk</strong></li>\n<li>Edge case:\n<ul>\n<li>If the protocol has no fraud proofs, then it is <strong>high risk</strong></li>\n</ul>\n</li>\n</ul>\n<h4><a name=\"bridge-custody-8\" class=\"anchor\" href=\"#bridge-custody-8\"></a>Bridge Custody</h4>\n<ul>\n<li>No custody with unilateral exit enforced by an L1 transaction - <strong>low risk</strong></li>\n<li>No custody with optimistic settlement - <strong>low risk</strong></li>\n<li>One of the BTC bridges is secured by a federated two-way peg, but anyone can participate as a watchtower/challenger and stop malicious withdrawals - <strong>low risk</strong></li>\n<li>The two-way peg is managed by a federated two-way peg where 1-N operators is required to be honest - <strong>medium risk</strong></li>\n<li>The two-way peg is governed by an alternative, consensus mechanism - <strong>medium risk</strong>\n<ul>\n<li>If there is no slashing mechanism then <strong>high risk</strong></li>\n</ul>\n</li>\n<li>The protocol has an honest-majority federation securing its two way peg - <strong>high risk</strong></li>\n<li>The protocol doesn\u2019t enable unilateral exit, and its two way peg is managed by centralized parties - <strong>high risk</strong></li>\n<li>Edge case:\n<ul>\n<li>Users can unilaterally exit, but network operators can collude with other network participants to steal funds, and there is no way to challenge fraud - <strong>medium risk</strong></li>\n</ul>\n</li>\n</ul>\n<h4><a name=\"additional-security-related-questions-9\" class=\"anchor\" href=\"#additional-security-related-questions-9\"></a>Additional security-related questions</h4>\n<h5><a name=\"bitcoin-security-10\" class=\"anchor\" href=\"#bitcoin-security-10\"></a>Bitcoin security</h5>\n<ul>\n<li>Can users unilaterally exit the l2 and/or bridge that is custodying their funds?\n<ul>\n<li>Yes/no</li>\n<li>Insert how</li>\n</ul>\n</li>\n<li>Does the protocol inherit security from Bitcoin miners, full nodes or BTC the asset?\n<ul>\n<li>Yes/no</li>\n<li>Insert how</li>\n</ul>\n</li>\n<li>Does an alternative token play a role in network security/permitting withdrawals?\n<ul>\n<li>Yes/no</li>\n<li>Insert how</li>\n</ul>\n</li>\n<li>Does the protocol create risks for MEV at the protocol, and base layer, level?\n<ul>\n<li>Yes/no</li>\n<li>Insert how</li>\n</ul>\n</li>\n<li>Does the protocol pay fees to Bitcoin miners?\n<ul>\n<li>Yes/no</li>\n<li>Insert how</li>\n</ul>\n</li>\n</ul>\n<h3><a name=\"customization-11\" class=\"anchor\" href=\"#customization-11\"></a>Customization</h3>\n<p>This framework can be easier to customize and provide more nuance given the number of scaling solutions that are present in Bitcoin today. For example, related to block production/network operators, we can add even more scoring mechanisms based on how decentralized the network is. E.g. A network with 200 validators is better than a network with 10, and we can customize the assessment to highlight this.</p>\n<h3><a name=\"summary-12\" class=\"anchor\" href=\"#summary-12\"></a>Summary</h3>\n<p>This risk assessment is an initial starting point to analyze Bitcoin scaling protocols. It is a living document and is subject to change based on community feedback and development efforts around Bitcoin scaling.</p>\n<p>Bitcoin does not have a unified scaling roadmap. There are tradeoffs with every protocol being implemented to support Bitcoin scaling. This framework hopes to capture some of the nuance related to the various designs being proposed.</p>\n<p>If you have comments on this framework, please consider adding them below and/or joining our <a href=\"https://t.me/+8rv-1I2gkmQ4ZmJh\" rel=\"noopener nofollow ugc\">community chat</a> to discuss.</p>\n<h3><a name=\"clarifying-points-13\" class=\"anchor\" href=\"#clarifying-points-13\"></a>Clarifying point(s)</h3>\n<p>We define permissionless as meaning anyone with sufficient capital and resources can participate in consensus, operating a node, block production, etc.</p>",
  "post_number": 1,
  "post_type": 1,
  "updated_at": "2024-06-01T09:20:06.694Z",
  "reply_count": 0,
  "reply_to_post_number": null,
  "quote_count": 0,
  "incoming_link_count": 7,
  "reads": 3,
  "readers_count": 2,
  "score": 25.6,
  "yours": false,
  "topic_id": 933,
  "topic_slug": "proposed-risk-framework-for-bitcoin-l2s-and-sidechains",
  "topic_title": "Proposed risk framework for Bitcoin L2s and Sidechains",
  "topic_html_title": "Proposed risk framework for Bitcoin L2s and Sidechains",
  "category_id": 5,
  "display_username": "janusz",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "version": 2,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "Hi everyone,\n\nMy name is Janusz and I am working on a project called [Bitcoin Layers](https://www.bitcoinlayers.org/) which assesses various implementations of L2s and sidechains. The new wave of sidechain protocols sparked the development of the project.\n\nI've developed a [risk framework](https://hackmd.io/@januszgrze/bitcoin-layers-risk-proposal) which analyzes L2s and sidechains against common criteria. The goal is to clearly explain the risks associated with each implementation to users.\n\nI've worked on refining this proposal with our [research advisor(s) and advisory board](https://x.com/januszg_/status/1795858888857665656). I'm additionally posting here to solicit feedback and see if we have any gaps in our methodology.\n\nLet me know if you have any thoughts!\n\n---\n\n# Proposal for updated Bitcoin Layers risk framework\n[Bitcoin Layers](https://www.bitcoinlayers.org/) currently has a risk assessment framework where scaling protocols are analyzed against four key aspects of their protocol. Each aspect is given a risk score, high, medium or low risk, after review. The scaling protocol will then receive a pie chart score, with the colors resembling its overall risk score.\n\nWe are currently assessing protocols based on the following criteria:\n\n- Unilateral exit\n- Data availability\n- Block production\n- State validation (settlement)\n\nOur [docs](https://bitcoin-layers.gitbook.io/bitcoin-layers) outline why we\u2019ve chosen these areas.\n\n## Current challenges\nThe primary challenge we are currently facing with this framework is that not all protocols are designed with the same goals in mind and have varying tradeoffs. For example, a rollup is inherently different from a payment channel protocol.\n\n## Proposed solution\nSaunter (from Alby) suggested that we create a more diverse framework that assigns weights to the specific risk questions. If a protocol does not meet a specific requirement, they would be deducted points off their total score relative to the weight of that question. I\u2019m proposing a similar model, and believe it will help create a more granular framework for the Bitcoin Layers project.\n\nInstead of weights, we keep the high, medium, low risk categories, but we add further circumstances that could see a protocol move between the risk categories.\n\nWe also add further binary questions to the assessment that helps users better understand the risks associated with a certain protocol.\n\nAll of this information can be comprised into a risk summary that points out the key tradeoffs related to a specific protocol, and how it might potentially impact the Bitcoin network.\n\n### Starting point\nWe analyze protocols on four categories: Data availability, network operators, settlement assurance (a.k.a finality), and the bridge custody (or two-way peg).\n\nProtocols do not receive an overall score, but a risk summary is added at the beginning of every assessment to highlight risk areas that can be critical.\n\nFor example, if an optimium uses an offchain data availability solution that is a single server, then it only takes collusion between a sequencer and the operator of the DA server to steal everyone\u2019s funds. This is extremely high risk and should be noted in the summary.\n\nLet\u2019s review how protocols can potentially be assessed.\n\n#### Data availability\n- Self-hosted: User can store data related to scaling protocol transactions locally - **low risk**\n- Onchain: Protocol uses Bitcoin for data availability - **low risk**\n- Offchain via alternative consensus protocol: Data is primarily stored on another publicly available, decentralized network and there is a mechanism to verify that the data is readily available - **medium risk**\n    - If the network sees N < 21 operators participating in the network, then it is **high risk**\n    - If the network sees N > 100 operators participating in the network, then it is **low risk**\n    - If no mechanism to detect fraud (e.g. DA withholding attack), then **high risk**\n- Offchain DAC: L2 state stored via a centralized (or permissioned) committee and Bitcoin full nodes, and users, trust attestations made by the committee that data is readily available - **high risk**\n- Offchain Single Server: L2 state is stored via a centralized server and Bitcoin full nodes, and users, trust attestations made by the operator that data is readily available - **high risk**\n#### Network Operators\n- Network is operated peer-to-peer Protocol doesn\u2019t rely on third party operators - **low risk**\n- Network operator set is N > 21 and users can self sequence - **low risk**\n    - Sequencer designs can include of this Federated, Auction, PoS, DPoS, PoW, etc\n    - If network operator is N < 21 , then moved to **medium risk**\n- User can\u2019t self sequence, but operator set is N > 21 - **medium risk**\n    - If operator set is N > 100 then move to **low risk**\n    - Designs include Federated, Auction, PoS, DPoS, PoW, etc\n- Federated operator set: Transactions are sequenced by an honest majority of participants in a permissioned, offchain consensus protocol/network - **high risk**\n- Centralized operator with no self-sequencing - **high risk**\n#### Settlement assurance\n- Bitcoin-equivalent: Settlement happens on, or is enforced by, Bitcoin script and/or consensus participants - **low risk**\n- Onchain, optimistic settlement: Settlement happens through an onchain challenge response protocol (BitVM2, Lightning) - **low risk**\n    - Note: BitVM2 sees challenger/verifier role be permissionless\n    - If permissioned, **medium risk** (Citrea\u2019s zk-verifier, SNARKnado)\n- Offchain via alternative, permissionless consensus mechanism: Settlement is managed offchain by a permissionless consensus protocol and/or network of nodes  - **medium risk**\n- Federated: Settlement for the layer is finalized by an honest majority of participants in a permissioned, offchain consensus protocol/network - **high risk**\n- Offchain via single server: Settlement for the layer is finalized by one party - **high risk**\n- Edge case:\n    - If the protocol has no fraud proofs, then it is **high risk**\n#### Bridge Custody\n- No custody with unilateral exit enforced by an L1 transaction - **low risk**\n- No custody with optimistic settlement - **low risk**\n- One of the BTC bridges is secured by a federated two-way peg, but anyone can participate as a watchtower/challenger and stop malicious withdrawals - **low risk**\n- The two-way peg is managed by a federated two-way peg where 1-N operators is required to be honest - **medium risk**\n- The two-way peg is governed by an alternative, consensus mechanism - **medium risk**\n    - If there is no slashing mechanism then **high risk**\n- The protocol has an honest-majority federation securing its two way peg - **high risk**\n- The protocol doesn\u2019t enable unilateral exit, and its two way peg is managed by centralized parties - **high risk**\n- Edge case:\n    - Users can unilaterally exit, but network operators can collude with other network participants to steal funds, and there is no way to challenge fraud - **medium risk**\n#### Additional security-related questions\n##### Bitcoin security\n- Can users unilaterally exit the l2 and/or bridge that is custodying their funds?\n    - Yes/no\n    - Insert how\n- Does the protocol inherit security from Bitcoin miners, full nodes or BTC the asset?\n    - Yes/no\n    - Insert how\n- Does an alternative token play a role in network security/permitting withdrawals?\n    - Yes/no\n    - Insert how\n- Does the protocol create risks for MEV at the protocol, and base layer, level?\n    - Yes/no\n    - Insert how\n- Does the protocol pay fees to Bitcoin miners?\n    - Yes/no\n    - Insert how\n\n### Customization\nThis framework can be easier to customize and provide more nuance given the number of scaling solutions that are present in Bitcoin today. For example, related to block production/network operators, we can add even more scoring mechanisms based on how decentralized the network is. E.g. A network with 200 validators is better than a network with 10, and we can customize the assessment to highlight this.\n\n### Summary\n\nThis risk assessment is an initial starting point to analyze Bitcoin scaling protocols. It is a living document and is subject to change based on community feedback and development efforts around Bitcoin scaling.\n\nBitcoin does not have a unified scaling roadmap. There are tradeoffs with every protocol being implemented to support Bitcoin scaling. This framework hopes to capture some of the nuance related to the various designs being proposed.\n\nIf you have comments on this framework, please consider adding them below and/or joining our [community chat](https://t.me/+8rv-1I2gkmQ4ZmJh) to discuss.\n\n### Clarifying point(s)\nWe define permissionless as meaning anyone with sufficient capital and resources can participate in consensus, operating a node, block production, etc.",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 454,
  "hidden": false,
  "trust_level": 0,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false
}