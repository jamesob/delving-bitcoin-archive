{
  "id": 6438,
  "name": "Jan-Philipp",
  "username": "jpjuni0r",
  "avatar_template": "/user_avatar/delvingbitcoin.org/jpjuni0r/{size}/1719_2.png",
  "created_at": "2025-12-16T15:18:32.572Z",
  "cooked": "<p>Without derailing your discussion about the protocol specifics, I would like to understand exactly which problem the messaging based on sketches solves, and which will persist compared to the gossip approach.</p>\n<aside class=\"quote no-group\" data-username=\"jonhbit\" data-post=\"2\" data-topic=\"2105\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/jonhbit/48/1661_2.png\" class=\"avatar\"> jonhbit:</div>\n<blockquote>\n<p>A related subject is how we could switch the LN P2P network from message flooding to something closer to the design outlined in the Erlay paper and BIP.</p>\n</blockquote>\n</aside>\n<p>Based on my understanding, the approach based on minisketch (only) reduces the bandwidth required to synchronize channel graphs. Is that correct? If so, what would be an \u201cacceptable\u201d amount of bandwidth?</p>\n<p>Bandwidth usage certainly is certainly one point worth looking at. Others could be:</p>\n<ul>\n<li>\n<p><strong>Reducing message delays</strong>: Based on measurements from <a class=\"mention\" href=\"/u/jonhbit\">@jonhbit</a>, about 95% of nodes receive a message after 600 sec.</p>\n<p>Note that this measurement includes only those nodes that <em>do</em> forward a given gossip message to the observer node. Furthermore, the observer node had 900 concurrent connections at peak time. However, there are around 1,250 nodes in the channel graph with known IP socket addresses. This raises the question why 28% of IP nodes were not reachable.</p>\n</li>\n<li>\n<p><strong>Increasing reliability of sending messages</strong>: Based on the results from the <a href=\"https://github.com/jharveyb/gossip_observer/blob/54320cca572afbf78873749e0f5d2f3c997d379a/README.md#how-many-peers-sent-us-the-same-message\" rel=\"noopener nofollow ugc\">gossip_observer repo</a>, there are only very few messages that &gt;500 nodes forward to the observer node. In the graph, there are various peaks in the ranges of 0, 100, 700 and 900 nodes. Importantly, most messages are only received by &lt;500 of nodes whereas in a perfect network, each of the 900 nodes receives every message.</p>\n</li>\n</ul>\n<p>My goal is to understand the practical side, how much optimizations in the latter two points are warranted and what would be considered \u201cgood enough\u201d for the network.</p>",
  "post_number": 17,
  "post_type": 1,
  "posts_count": 20,
  "updated_at": "2025-12-16T15:18:32.572Z",
  "reply_count": 2,
  "reply_to_post_number": null,
  "quote_count": 1,
  "incoming_link_count": 0,
  "reads": 16,
  "readers_count": 15,
  "score": 13.2,
  "yours": false,
  "topic_id": 2105,
  "topic_slug": "gossip-observer-new-project-to-monitor-the-lightning-p2p-network",
  "topic_title": "Gossip Observer: New project to monitor the Lightning P2P network",
  "topic_html_title": "Gossip Observer: New project to monitor the Lightning P2P network",
  "category_id": 7,
  "display_username": "Jan-Philipp",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "badges_granted": [],
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "Without derailing your discussion about the protocol specifics, I would like to understand exactly which problem the messaging based on sketches solves, and which will persist compared to the gossip approach.\n\n[quote=\"jonhbit, post:2, topic:2105\"]\nA related subject is how we could switch the LN P2P network from message flooding to something closer to the design outlined in the Erlay paper and BIP.\n[/quote]\n\nBased on my understanding, the approach based on minisketch (only) reduces the bandwidth required to synchronize channel graphs. Is that correct? If so, what would be an \u201cacceptable\u201d amount of bandwidth?\n\nBandwidth usage certainly is certainly one point worth looking at. Others could be:\n\n* **Reducing message delays**: Based on measurements from @jonhbit, about 95% of nodes receive a message after 600 sec.\n\n  Note that this measurement includes only those nodes that *do* forward a given gossip message to the observer node. Furthermore, the observer node had 900 concurrent connections at peak time. However, there are around 1,250 nodes in the channel graph with known IP socket addresses. This raises the question why 28% of IP nodes were not reachable.\n\n* **Increasing reliability of sending messages**: Based on the results from the [gossip_observer repo](https://github.com/jharveyb/gossip_observer/blob/54320cca572afbf78873749e0f5d2f3c997d379a/README.md#how-many-peers-sent-us-the-same-message), there are only very few messages that >500 nodes forward to the observer node. In the graph, there are various peaks in the ranges of 0, 100, 700 and 900 nodes. Importantly, most messages are only received by <500 of nodes whereas in a perfect network, each of the 900 nodes receives every message.\n\nMy goal is to understand the practical side, how much optimizations in the latter two points are warranted and what would be considered \u201cgood enough\u201d for the network.",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 749,
  "hidden": false,
  "trust_level": 1,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "excerpt": "Without derailing your discussion about the protocol specifics, I would like to understand exactly which problem the messaging based on sketches solves, and which will persist compared to the gossip approach. \n\nBased on my understanding, the approach based on minisketch (only) reduces the bandwidth &hellip;",
  "truncated": true,
  "post_url": "/t/gossip-observer-new-project-to-monitor-the-lightning-p2p-network/2105/17",
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false,
  "can_accept_answer": false,
  "can_unaccept_answer": false,
  "accepted_answer": false,
  "topic_accepted_answer": null
}