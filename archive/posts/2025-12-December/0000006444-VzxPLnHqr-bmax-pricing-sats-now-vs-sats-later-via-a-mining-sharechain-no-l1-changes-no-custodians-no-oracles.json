{
  "id": 6444,
  "name": "VzxPLnHqr",
  "username": "VzxPLnHqr",
  "avatar_template": "/user_avatar/delvingbitcoin.org/vzxplnhqr/{size}/121_2.png",
  "created_at": "2025-12-16T19:00:26.190Z",
  "cooked": "<p>I am not sure whether this is better posted in <a class=\"hashtag-cooked\" href=\"/c/protocol-design/7\" data-type=\"category\" data-slug=\"protocol-design\" data-id=\"7\" data-style-type=\"square\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>Protocol Design</span></a> or here. I generally tend to view Bitcoin first more from an economic lens such that all the technical underpinnings (while very important to get right too!) are more of a necessary side effect of <strong>trying to achieve an economic goal of: long lived, self-consistent and decentralized base money for civilization.</strong> So I am posting it here.</p>\n<p>In that vain, I have been trying to solve the \u201csats now\u201d vs the \u201csats later\u201d problem in the most bitcoin-aligned way I can think of. It is a bit of a moonshot, but here is what I have come up with so far. I welcome any feedback.</p>\n<h1><a name=\"p-6444-bmax-1\" class=\"anchor\" href=\"#p-6444-bmax-1\"></a>BMAX</h1>\n<h2><a name=\"p-6444-introduction-and-motivation-2\" class=\"anchor\" href=\"#p-6444-introduction-and-motivation-2\"></a>Introduction and Motivation</h2>\n<p>Bitcoiners like to say \u201c1 sat = 1 sat.\u201d In a narrow, protocol sense, that is true: the rules do not distinguish one satoshi from another. But economically, it is obviously false. A sat you can spend in the next block is not the same good as a sat that is unspendable for ten years. Time, and the ability (or inability) to act in time, is part of what you are holding.</p>\n<p>Markets notice what we would sometimes prefer to ignore. Even if Bitcoin were perfectly fungible on\u2011chain (it is not), the time value of money makes <strong>\u201ca future sat\u201d</strong> a different economic object from <strong>\u201ca present sat.\u201d</strong> Today, Bitcoin gives us a very rough expression of this: newly mined coins are timelocked for 100 blocks, so miner rewards are, in effect, 17\u2011hour zero\u2011coupon bonds backed by Bitcoin consensus. After that brief delay, all sats become \u201cfungible enough,\u201d and the protocol ceases to care about time as a distinct economic dimension.</p>\n<p>The rest of global finance does not stop there. It runs on <em>term structures</em>: 3\u2011month, 2\u2011year, 10\u2011year, 30\u2011year instruments and their corresponding yields. These imperfect, politically distorted yield curves still perform a real function: they let people compare <strong>\u201c1 unit of money now\u201d</strong> with <strong>\u201c1 unit of money later\u201d</strong> in a common language. Long\u2011lived infrastructure, capital budgeting, insurance, pensions, and even basic corporate planning are all, at bottom, about mapping future cash flows into present decisions via some discount function.</p>\n<p><strong>Bitcoin, if it is to be the monetary base for civilization, cannot forever outsource this role to fiat credit systems and central banks.</strong></p>\n<p>What is missing is <strong>a Bitcoin\u2011native way to discover a discount curve for sats themselves</strong>\u2014a way to price <em>time</em> in Bitcoin terms\u2014without:</p>\n<ul>\n<li>requiring any changes to Bitcoin,</li>\n<li>introducing custodians who issue IOUs,</li>\n<li>relying on oracles, interest\u2011bearing stablecoins, or fiat yield curves as inputs.</li>\n</ul>\n<p>In other words, we want a mechanism that lets the market say, in sats, <em>\u201cthis is what 1 BTC delivered in 5 years is worth today\u201d</em>\u2014and we want that mechanism to be as trust\u2011minimized and Bitcoin\u2011aligned as possible.</p>\n<p>BMAX is an attempt to get as close as we can to that ideal, <em>without touching Bitcoin at all.</em></p>\n<hr>\n<p>At a purely mechanical level, BMAX is \u201cjust\u201d a p2pool\u2011style, proof\u2011of\u2011work sharechain that mines Bitcoin blocks. From Bitcoin\u2019s perspective, BMAX is a normal mining pool that:</p>\n<ul>\n<li>produces fully valid block templates,</li>\n<li>sometimes wins the coinbase,</li>\n<li>and splits that coinbase according to its own off\u2011chain rules.</li>\n</ul>\n<p>Inside BMAX, however, we deliberately structure those off\u2011chain rules to surface what Bitcoin currently hides:</p>\n<ul>\n<li><strong>Shares</strong> are perpetual, equity\u2011like claims on future BMAX\u2011mined Bitcoin rewards. Each share has a probabilistic chance, via a deterministic random selection (p2share), of receiving a full coinbase when BMAX finds a block.</li>\n<li><strong>Bonds</strong> are created by <strong>burning</strong> shares to enter a FIFO queue that is serviced by future coinbases. When a bond is redeemed, its principal shares are destroyed (and no longer eligible for selection in the random-share mechanism), permanently shrinking share supply.</li>\n</ul>\n<p>If you accept that \u201c1 sat now\u201d and \u201c1 sat in ten years\u201d are different economic goods, BMAX is a proposal for letting Bitcoiners <em>price that difference in Bitcoin terms</em>, without asking anything more of Bitcoin than what it already provides.</p>\n<h2><a name=\"p-6444-abstract-3\" class=\"anchor\" href=\"#p-6444-abstract-3\"></a>Abstract</h2>\n<p>BMAX is a p2pool\u2011style, proof\u2011of\u2011work sharechain that coordinates decentralized Bitcoin mining without any changes to Bitcoin. BMAX issues two instruments\u2014probabilistic equity\u2011like <strong>shares</strong> and FIFO queue\u2011based <strong>bonds</strong>\u2014that determine how the Bitcoin coinbase is allocated when the pool finds a valid block. A deterministic random selection mechanism (<strong>p2share</strong>) picks one share and constrains the Bitcoin coinbase: if chosen share is <strong>unbonded</strong>, its owner receives the full coinbase; if it is <strong>bonded</strong>, the full coinbase is used to redeem up to <span class=\"math\">M</span> bonds from the head of the queue. Bonds are created by burning unbonded shares and redeemed in FIFO order, burning their principal shares at redemption and making share supply deflationary over time. A difficulty\u2011style control loop adjusts the share cost of creating new bonds so that the expected time to redeem half the current bond queue tracks a target horizon. The purpose is to let the market discover a Bitcoin\u2011native term structure for sats funded solely by actual Bitcoin block rewards.</p>\n<h2><a name=\"p-6444-protocol-summary-4\" class=\"anchor\" href=\"#p-6444-protocol-summary-4\"></a>Protocol summary</h2>\n<p>BMAX nodes are, by definition, also full Bitcoin nodes.</p>\n<h3><a name=\"p-6444-core-state-at-sharechain-height-k-5\" class=\"anchor\" href=\"#p-6444-core-state-at-sharechain-height-k-5\"></a>Core state (at sharechain height <span class=\"math\">k</span>)</h3>\n<p>Difficulties:</p>\n<ul>\n<li><span class=\"math\">D_{S,k}</span>: sharechain difficulty (in units of <span class=\"math\">2^{32}</span> hashes).</li>\n<li><span class=\"math\">D_{B,k}</span>: Bitcoin difficulty (same units), taken from validated Bitcoin headers.</li>\n</ul>\n<p>Share supply:</p>\n<ul>\n<li><span class=\"math\">U_k^*</span>: total <strong>unbonded</strong> shares outstanding.</li>\n<li><span class=\"math\">V_k^*</span>: total <strong>bonded</strong> shares outstanding (principals of all unredeemed bonds).</li>\n<li><span class=\"math\">S_k^* = U_k^* + V_k^*</span>: total shares outstanding.</li>\n<li><span class=\"math\">\\alpha_k = \\dfrac{V_k^*}{S_k^*}</span>: bonded fraction.</li>\n</ul>\n<p>Bond queue:</p>\n<ul>\n<li><span class=\"math\">Q_k</span>: number of outstanding bonds (FIFO).</li>\n<li>Each bond has a principal <span class=\"math\">\\pi</span> measured in shares (set at creation).</li>\n<li><span class=\"math\">M \\ge 1</span>: max number of bonds redeemed per redemption event (genesis constant).</li>\n<li>Optional <span class=\"math\">B_{\\text{per\\_block\\_max}}</span>: cap on newly created bonds per sharechain block.</li>\n</ul>\n<p>Bitcoin reward:</p>\n<ul>\n<li><span class=\"math\">R_k</span>: sats paid by the Bitcoin coinbase in a Bitcoin win (subsidy + fees).</li>\n</ul>\n<p>Share issuance:</p>\n<ul>\n<li>Per sharechain block, the miner receives newly issued unbonded shares<div class=\"math\">\nU_k = c \\cdot D_{S,k}\n</div>\nwhere <span class=\"math\">c</span> is a genesis constant.</li>\n</ul>\n<p>Fees:</p>\n<ul>\n<li>Sharechain transaction fees are paid in <strong>unbonded shares</strong> and collected by sharechain miners.</li>\n</ul>\n<h3><a name=\"p-6444-p2share-deterministic-random-selection-on-bitcoin-wins-6\" class=\"anchor\" href=\"#p-6444-p2share-deterministic-random-selection-on-bitcoin-wins-6\"></a>p2share: deterministic random selection on Bitcoin wins</h3>\n<p>When a sharechain block at height <span class=\"math\">k</span> is also a Bitcoin\u2011valid block:</p>\n<ol>\n<li>\n<p>All nodes deterministically compute a selected share index</p>\n<div class=\"math\">\nq = \\text{sha256}(\\text{\"q selector\"} \\,\\|\\, H_{k-1}) \\bmod S_k\n</div>\n<p>where <span class=\"math\">H_{k-1}</span> is the previous sharechain block hash and the state used for <span class=\"math\">S_k</span> is fixed by consensus (e.g., \u201cpre\u2011block state\u201d).</p>\n</li>\n<li>\n<p>Coinbase allocation rule:</p>\n</li>\n</ol>\n<ul>\n<li>If the selected share is <strong>unbonded</strong>: pay the full <span class=\"math\">R_k</span> to that share\u2019s owner.</li>\n<li>If the selected share is <strong>bonded</strong>: treat this win as a <strong>redemption event</strong> and allocate the full <span class=\"math\">R_k</span> to the bond queue as follows:\n<ul>\n<li>Let <span class=\"math\">m = \\min(M, Q_k)</span>.</li>\n<li>Redeem the first <span class=\"math\">m</span> bonds in FIFO order.</li>\n<li>Each redeemed bond receives<div class=\"math\">\n\\frac{R_k}{m} \\text{ sats.}\n</div>\n</li>\n<li>For each redeemed bond with principal <span class=\"math\">\\pi_{\\text{bond}}</span>, burn its principal shares (these shares become ineligible for future random selection):<div class=\"math\">\nV_{k^+}^* = V_k^* - \\pi_{\\text{bond}},\\quad S_{k^+} = S_k - \\pi_{\\text{bond}}.\n</div>\n</li>\n</ul>\n</li>\n</ul>\n<h3><a name=\"p-6444-bond-creation-bonding-7\" class=\"anchor\" href=\"#p-6444-bond-creation-bonding-7\"></a>Bond creation (bonding)</h3>\n<p>To create a bond at sharechain block <span class=\"math\">k</span>, the creator pays a bonding price <span class=\"math\">\\pi_k</span> in unbonded shares.</p>\n<p>Consensus effects per bond created:</p>\n<ul>\n<li><span class=\"math\">U_{k^+}^* = U_k^* - \\pi_k</span></li>\n<li><span class=\"math\">V_{k^+}^* = V_k^* + \\pi_k</span></li>\n<li><span class=\"math\">Q_{k^+} = Q_k + 1</span></li>\n</ul>\n<p>All bonds created within the same sharechain block use the same <span class=\"math\">\\pi_k</span>. Optionally enforce <span class=\"math\">B_{\\text{per\\_block\\_max}}</span>.</p>\n<h2><a name=\"p-6444-control-loop-dynamic-bonding-price-pi_k-8\" class=\"anchor\" href=\"#p-6444-control-loop-dynamic-bonding-price-pi_k-8\"></a>Control loop: dynamic bonding price <span class=\"math\">\\pi_k</span></h2>\n<p>Goal: steer the expected number of sharechain blocks needed to redeem <strong>half</strong> of the current bond queue toward a target <span class=\"math\">T_{\\text{target}} &gt; 0</span>.</p>\n<h3><a name=\"p-6444-expected-halfclear-time-t_k-9\" class=\"anchor\" href=\"#p-6444-expected-halfclear-time-t_k-9\"></a>Expected half\u2011clear time <span class=\"math\">T_k</span></h3>\n<p>Define:</p>\n<ol>\n<li>\n<p>Expected sharechain blocks per Bitcoin win:</p>\n<div class=\"math\">\n\\theta_k = \\frac{D_{B,k}}{D_{S,k}}.\n</div>\n</li>\n<li>\n<p>Redemption events needed to redeem half the queue (by count):</p>\n<div class=\"math\">\nN_k^{(1/2)} =\n   \\begin{cases}\n     0, &amp; Q_k = 0,\\\\[4pt]\n     \\left\\lceil \\dfrac{Q_k}{2M} \\right\\rceil, &amp; Q_k &gt; 0.\n   \\end{cases}\n</div>\n</li>\n<li>\n<p>A Bitcoin win is a redemption event with probability <span class=\"math\">\\alpha_k</span> (a uniformly selected share is bonded with probability <span class=\"math\">\\alpha_k</span>).</p>\n</li>\n</ol>\n<p>Thus:</p>\n<div class=\"math\">\nT_k =\n\\begin{cases}\n  0, &amp; Q_k = 0,\\\\[6pt]\n  \\dfrac{D_{B,k}}{D_{S,k}} \\cdot \\dfrac{N_k^{(1/2)}}{\\alpha_k}, &amp; Q_k &gt; 0.\n\\end{cases}\n</div>\n<h3><a name=\"p-6444-update-rule-for-pi_k-10\" class=\"anchor\" href=\"#p-6444-update-rule-for-pi_k-10\"></a>Update rule for <span class=\"math\">\\pi_k</span></h3>\n<p>Genesis parameters:</p>\n<ul>\n<li><span class=\"math\">T_{\\text{target}} &gt; 0</span>: target expected half\u2011clear time (in sharechain blocks).</li>\n<li><span class=\"math\">\\phi_{\\text{up}} \\ge 1</span>: max multiplicative increase per block.</li>\n<li><span class=\"math\">\\phi_{\\text{down}} \\in (0,1]</span>: max multiplicative decrease per block.</li>\n<li><span class=\"math\">\\pi_{\\text{init}} \\ge 1</span>: initial bond price (shares per bond).</li>\n</ul>\n<p>Per sharechain block <span class=\"math\">k&gt;0</span>:</p>\n<ol>\n<li>\n<p>Compute</p>\n<div class=\"math\">\nr_k = \\frac{T_k}{T_{\\text{target}}}.\n</div>\n</li>\n<li>\n<p>Clamp</p>\n<div class=\"math\">\nf_k =\n   \\begin{cases}\n     \\phi_{\\text{down}}, &amp; r_k &lt; \\phi_{\\text{down}},\\\\[4pt]\n     r_k, &amp; \\phi_{\\text{down}} \\le r_k \\le \\phi_{\\text{up}},\\\\[4pt]\n     \\phi_{\\text{up}}, &amp; r_k &gt; \\phi_{\\text{up}}.\n   \\end{cases}\n</div>\n</li>\n<li>\n<p>Update</p>\n<div class=\"math\">\n\\pi_k = \\pi_{k-1} \\cdot f_k.\n</div>\n</li>\n<li>\n<p>Round deterministically to an integer number of shares and enforce bounds:</p>\n<div class=\"math\">\n\\pi_k =\n   \\min\\left(\n     U_k^*,\\;\n     \\max\\left(\n       1,\\;\n       \\left\\lfloor \\pi_k \\right\\rceil\n     \\right)\n   \\right).\n</div>\n</li>\n</ol>\n<p>Properties:</p>\n<ul>\n<li><span class=\"math\">\\pi_k \\ge 1</span> and <span class=\"math\">\\pi_k \\le U_k^*</span>.</li>\n<li>Per\u2011block multiplicative change is bounded (except where clipped by 1 or <span class=\"math\">U_k^*</span>):<div class=\"math\">\n\\phi_{\\text{down}} \\le \\frac{\\pi_k}{\\pi_{k-1}} \\le \\phi_{\\text{up}}.\n</div>\n</li>\n<li>If <span class=\"math\">Q_k = 0</span>, then <span class=\"math\">T_k = 0</span> and the rule pushes <span class=\"math\">\\pi_k</span> down (bounded by <span class=\"math\">\\phi_{\\text{down}}</span>) toward 1.</li>\n</ul>\n<h2><a name=\"p-6444-security-notes-11\" class=\"anchor\" href=\"#p-6444-security-notes-11\"></a>Security notes</h2>\n<p>BMAX is an external sharechain, so deep sharechain reorgs must be made expensive and visible.</p>\n<ul>\n<li><strong>Bitcoin anchoring (optional but recommended)</strong>: participants periodically commit sharechain headers into Bitcoin via compact timestamp commitments. Nodes treat history before the most recent sufficiently confirmed anchor as final for practical purposes (reject reorgs that would cross it).</li>\n<li><strong>BMAX\u2011mined Bitcoin blocks as checkpoints</strong>: when BMAX wins a Bitcoin block, the coinbase outputs encode a specific allocation consistent with the sharechain state. Rewriting that allocation would require rewriting Bitcoin, which is outside BMAX\u2019s threat model.</li>\n</ul>\n<h2><a name=\"p-6444-economic-interpretation-12\" class=\"anchor\" href=\"#p-6444-economic-interpretation-12\"></a>Economic interpretation</h2>\n<p>The intended economics of BMAX rely on several layers working well together. The protocol itself only defines shares, bonds, and the control loop; markets decide prices.</p>\n<ul>\n<li><strong>Unbonded shares <span class=\"math\">\\approx</span> solo mining</strong>: perpetual probabilistic claim. When selected on a Bitcoin win, they receive the full <span class=\"math\">R_k</span>.</li>\n<li><strong>Bonds</strong>: created by burning <span class=\"math\">\\pi_k</span> shares to enter a FIFO queue. When a bonded share is selected on a Bitcoin win, the full <span class=\"math\">R_k</span> is paid to redeem up to <span class=\"math\">M</span> bonds; redeemed bonds burn their principal shares.</li>\n<li><strong>Term structure</strong>: the market prices shares and bonds against BTC; the protocol\u2019s only \u201cknob\u201d is <span class=\"math\">\\pi_k</span>, adjusted mechanically to keep the bond queue\u2019s expected half\u2011clear time near <span class=\"math\">T_{\\text{target}}</span>, using only <span class=\"math\">D_{B,k}</span>, <span class=\"math\">D_{S,k}</span>, <span class=\"math\">Q_k</span>, and <span class=\"math\">\\alpha_k</span>.</li>\n</ul>\n<p>While such markets cannot be guaranteed by protocol design alone, both Bitcoin and BMAX are permissionless and L2-capable (i.e. Lightning) networks, so it <strong>is plausible that atomic swap markets will emerge</strong> to support trading between BTC, shares, and bonds.</p>\n<h2><a name=\"p-6444-conclusion-13\" class=\"anchor\" href=\"#p-6444-conclusion-13\"></a>Conclusion</h2>\n<p>If Bitcoin is going to stand alone as global base money, something like this\u2014<em>Bitcoin\u2011native time pricing</em>\u2014needs to exist somewhere. BMAX is one concrete, implementable proposal for how to get there, without asking the base layer to change at all.</p>",
  "post_number": 1,
  "post_type": 1,
  "posts_count": 7,
  "updated_at": "2025-12-16T19:00:26.190Z",
  "reply_count": 1,
  "reply_to_post_number": null,
  "quote_count": 0,
  "incoming_link_count": 5,
  "reads": 25,
  "readers_count": 24,
  "score": 35.0,
  "yours": false,
  "topic_id": 2165,
  "topic_slug": "bmax-pricing-sats-now-vs-sats-later-via-a-mining-sharechain-no-l1-changes-no-custodians-no-oracles",
  "topic_title": "BMAX: pricing \u201csats now vs sats later\u201d via a mining sharechain (no L1 changes, no custodians, no oracles)",
  "topic_html_title": "BMAX: pricing \u201csats now vs sats later\u201d via a mining sharechain (no L1 changes, no custodians, no oracles)",
  "category_id": 6,
  "display_username": "VzxPLnHqr",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "badges_granted": [],
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "I am not sure whether this is better posted in #protocol-design or here. I generally tend to view Bitcoin first more from an economic lens such that all the technical underpinnings (while very important to get right too!) are more of a necessary side effect of **trying to achieve an economic goal of: long lived, self-consistent and decentralized base money for civilization.** So I am posting it here.\n\nIn that vain, I have been trying to solve the \"sats now\" vs the \"sats later\" problem in the most bitcoin-aligned way I can think of. It is a bit of a moonshot, but here is what I have come up with so far. I welcome any feedback. \n\n# BMAX\n\n## Introduction and Motivation\n\nBitcoiners like to say \"1 sat = 1 sat.\" In a narrow, protocol sense, that is true: the rules do not distinguish one satoshi from another. But economically, it is obviously false. A sat you can spend in the next block is not the same good as a sat that is unspendable for ten years. Time, and the ability (or inability) to act in time, is part of what you are holding.\n\nMarkets notice what we would sometimes prefer to ignore. Even if Bitcoin were perfectly fungible on\u2011chain (it is not), the time value of money makes **\"a future sat\"** a different economic object from **\"a present sat.\"** Today, Bitcoin gives us a very rough expression of this: newly mined coins are timelocked for 100 blocks, so miner rewards are, in effect, 17\u2011hour zero\u2011coupon bonds backed by Bitcoin consensus. After that brief delay, all sats become \"fungible enough,\" and the protocol ceases to care about time as a distinct economic dimension.\n\nThe rest of global finance does not stop there. It runs on *term structures*: 3\u2011month, 2\u2011year, 10\u2011year, 30\u2011year instruments and their corresponding yields. These imperfect, politically distorted yield curves still perform a real function: they let people compare **\"1 unit of money now\"** with **\"1 unit of money later\"** in a common language. Long\u2011lived infrastructure, capital budgeting, insurance, pensions, and even basic corporate planning are all, at bottom, about mapping future cash flows into present decisions via some discount function.\n\n**Bitcoin, if it is to be the monetary base for civilization, cannot forever outsource this role to fiat credit systems and central banks.**\n\nWhat is missing is **a Bitcoin\u2011native way to discover a discount curve for sats themselves**\u2014a way to price *time* in Bitcoin terms\u2014without:\n\n- requiring any changes to Bitcoin,\n- introducing custodians who issue IOUs,\n- relying on oracles, interest\u2011bearing stablecoins, or fiat yield curves as inputs.\n\nIn other words, we want a mechanism that lets the market say, in sats, *\"this is what 1 BTC delivered in 5 years is worth today\"*\u2014and we want that mechanism to be as trust\u2011minimized and Bitcoin\u2011aligned as possible.\n\nBMAX is an attempt to get as close as we can to that ideal, *without touching Bitcoin at all.*\n\n---\n\nAt a purely mechanical level, BMAX is \u201cjust\u201d a p2pool\u2011style, proof\u2011of\u2011work sharechain that mines Bitcoin blocks. From Bitcoin\u2019s perspective, BMAX is a normal mining pool that:\n\n- produces fully valid block templates,\n- sometimes wins the coinbase,\n- and splits that coinbase according to its own off\u2011chain rules.\n\nInside BMAX, however, we deliberately structure those off\u2011chain rules to surface what Bitcoin currently hides:\n\n- **Shares** are perpetual, equity\u2011like claims on future BMAX\u2011mined Bitcoin rewards. Each share has a probabilistic chance, via a deterministic random selection (p2share), of receiving a full coinbase when BMAX finds a block.\n- **Bonds** are created by **burning** shares to enter a FIFO queue that is serviced by future coinbases. When a bond is redeemed, its principal shares are destroyed (and no longer eligible for selection in the random-share mechanism), permanently shrinking share supply.\n\nIf you accept that \"1 sat now\" and \"1 sat in ten years\" are different economic goods, BMAX is a proposal for letting Bitcoiners *price that difference in Bitcoin terms*, without asking anything more of Bitcoin than what it already provides.\n\n## Abstract\n\nBMAX is a p2pool\u2011style, proof\u2011of\u2011work sharechain that coordinates decentralized Bitcoin mining without any changes to Bitcoin. BMAX issues two instruments\u2014probabilistic equity\u2011like **shares** and FIFO queue\u2011based **bonds**\u2014that determine how the Bitcoin coinbase is allocated when the pool finds a valid block. A deterministic random selection mechanism (**p2share**) picks one share and constrains the Bitcoin coinbase: if chosen share is **unbonded**, its owner receives the full coinbase; if it is **bonded**, the full coinbase is used to redeem up to $M$ bonds from the head of the queue. Bonds are created by burning unbonded shares and redeemed in FIFO order, burning their principal shares at redemption and making share supply deflationary over time. A difficulty\u2011style control loop adjusts the share cost of creating new bonds so that the expected time to redeem half the current bond queue tracks a target horizon. The purpose is to let the market discover a Bitcoin\u2011native term structure for sats funded solely by actual Bitcoin block rewards.\n\n## Protocol summary\n\nBMAX nodes are, by definition, also full Bitcoin nodes.\n\n### Core state (at sharechain height $k$)\n\nDifficulties:\n\n- $D_{S,k}$: sharechain difficulty (in units of $2^{32}$ hashes).\n- $D_{B,k}$: Bitcoin difficulty (same units), taken from validated Bitcoin headers.\n\nShare supply:\n\n- $U_k^*$: total **unbonded** shares outstanding.\n- $V_k^*$: total **bonded** shares outstanding (principals of all unredeemed bonds).\n- $S_k^* = U_k^* + V_k^*$: total shares outstanding.\n- $\\alpha_k = \\dfrac{V_k^*}{S_k^*}$: bonded fraction.\n\nBond queue:\n\n- $Q_k$: number of outstanding bonds (FIFO).\n- Each bond has a principal $\\pi$ measured in shares (set at creation).\n- $M \\ge 1$: max number of bonds redeemed per redemption event (genesis constant).\n- Optional $B_{\\text{per\\_block\\_max}}$: cap on newly created bonds per sharechain block.\n\nBitcoin reward:\n\n- $R_k$: sats paid by the Bitcoin coinbase in a Bitcoin win (subsidy + fees).\n\nShare issuance:\n\n- Per sharechain block, the miner receives newly issued unbonded shares\n  $$\n  U_k = c \\cdot D_{S,k}\n  $$\n  where $c$ is a genesis constant.\n\nFees:\n\n- Sharechain transaction fees are paid in **unbonded shares** and collected by sharechain miners.\n\n### p2share: deterministic random selection on Bitcoin wins\n\nWhen a sharechain block at height $k$ is also a Bitcoin\u2011valid block:\n\n1. All nodes deterministically compute a selected share index\n   $$\n   q = \\text{sha256}(\\text{\"q selector\"} \\,\\|\\, H_{k-1}) \\bmod S_k\n   $$\n   where $H_{k-1}$ is the previous sharechain block hash and the state used for $S_k$ is fixed by consensus (e.g., \u201cpre\u2011block state\u201d).\n\n2. Coinbase allocation rule:\n\n- If the selected share is **unbonded**: pay the full $R_k$ to that share\u2019s owner.\n- If the selected share is **bonded**: treat this win as a **redemption event** and allocate the full $R_k$ to the bond queue as follows:\n  - Let $m = \\min(M, Q_k)$.\n  - Redeem the first $m$ bonds in FIFO order.\n  - Each redeemed bond receives\n    $$\n    \\frac{R_k}{m} \\text{ sats.}\n    $$\n  - For each redeemed bond with principal $\\pi_{\\text{bond}}$, burn its principal shares (these shares become ineligible for future random selection):\n    $$\n    V_{k^+}^* = V_k^* - \\pi_{\\text{bond}},\\quad S_{k^+} = S_k - \\pi_{\\text{bond}}.\n    $$\n\n### Bond creation (bonding)\n\nTo create a bond at sharechain block $k$, the creator pays a bonding price $\\pi_k$ in unbonded shares.\n\nConsensus effects per bond created:\n\n- $U_{k^+}^* = U_k^* - \\pi_k$\n- $V_{k^+}^* = V_k^* + \\pi_k$\n- $Q_{k^+} = Q_k + 1$\n\nAll bonds created within the same sharechain block use the same $\\pi_k$. Optionally enforce $B_{\\text{per\\_block\\_max}}$.\n\n## Control loop: dynamic bonding price $\\pi_k$\n\nGoal: steer the expected number of sharechain blocks needed to redeem **half** of the current bond queue toward a target $T_{\\text{target}} > 0$.\n\n### Expected half\u2011clear time $T_k$\n\nDefine:\n\n1. Expected sharechain blocks per Bitcoin win:\n   $$\n   \\theta_k = \\frac{D_{B,k}}{D_{S,k}}.\n   $$\n\n2. Redemption events needed to redeem half the queue (by count):\n   $$\n   N_k^{(1/2)} =\n   \\begin{cases}\n     0, & Q_k = 0,\\\\[4pt]\n     \\left\\lceil \\dfrac{Q_k}{2M} \\right\\rceil, & Q_k > 0.\n   \\end{cases}\n   $$\n\n3. A Bitcoin win is a redemption event with probability $\\alpha_k$ (a uniformly selected share is bonded with probability $\\alpha_k$).\n\nThus:\n$$\nT_k =\n\\begin{cases}\n  0, & Q_k = 0,\\\\[6pt]\n  \\dfrac{D_{B,k}}{D_{S,k}} \\cdot \\dfrac{N_k^{(1/2)}}{\\alpha_k}, & Q_k > 0.\n\\end{cases}\n$$\n\n### Update rule for $\\pi_k$\n\nGenesis parameters:\n\n- $T_{\\text{target}} > 0$: target expected half\u2011clear time (in sharechain blocks).\n- $\\phi_{\\text{up}} \\ge 1$: max multiplicative increase per block.\n- $\\phi_{\\text{down}} \\in (0,1]$: max multiplicative decrease per block.\n- $\\pi_{\\text{init}} \\ge 1$: initial bond price (shares per bond).\n\nPer sharechain block $k>0$:\n\n1. Compute\n   $$\n   r_k = \\frac{T_k}{T_{\\text{target}}}.\n   $$\n\n2. Clamp\n   $$\n   f_k =\n   \\begin{cases}\n     \\phi_{\\text{down}}, & r_k < \\phi_{\\text{down}},\\\\[4pt]\n     r_k, & \\phi_{\\text{down}} \\le r_k \\le \\phi_{\\text{up}},\\\\[4pt]\n     \\phi_{\\text{up}}, & r_k > \\phi_{\\text{up}}.\n   \\end{cases}\n   $$\n\n3. Update\n   $$\n   \\pi_k = \\pi_{k-1} \\cdot f_k.\n   $$\n\n4. Round deterministically to an integer number of shares and enforce bounds:\n   $$\n   \\pi_k =\n   \\min\\left(\n     U_k^*,\\;\n     \\max\\left(\n       1,\\;\n       \\left\\lfloor \\pi_k \\right\\rceil\n     \\right)\n   \\right).\n   $$\n\nProperties:\n\n- $\\pi_k \\ge 1$ and $\\pi_k \\le U_k^*$.\n- Per\u2011block multiplicative change is bounded (except where clipped by 1 or $U_k^*$):\n  $$\n  \\phi_{\\text{down}} \\le \\frac{\\pi_k}{\\pi_{k-1}} \\le \\phi_{\\text{up}}.\n  $$\n- If $Q_k = 0$, then $T_k = 0$ and the rule pushes $\\pi_k$ down (bounded by $\\phi_{\\text{down}}$) toward 1.\n\n## Security notes\n\nBMAX is an external sharechain, so deep sharechain reorgs must be made expensive and visible.\n\n- **Bitcoin anchoring (optional but recommended)**: participants periodically commit sharechain headers into Bitcoin via compact timestamp commitments. Nodes treat history before the most recent sufficiently confirmed anchor as final for practical purposes (reject reorgs that would cross it).\n- **BMAX\u2011mined Bitcoin blocks as checkpoints**: when BMAX wins a Bitcoin block, the coinbase outputs encode a specific allocation consistent with the sharechain state. Rewriting that allocation would require rewriting Bitcoin, which is outside BMAX\u2019s threat model.\n\n## Economic interpretation\n\nThe intended economics of BMAX rely on several layers working well together. The protocol itself only defines shares, bonds, and the control loop; markets decide prices.\n\n- **Unbonded shares $\\approx$ solo mining**: perpetual probabilistic claim. When selected on a Bitcoin win, they receive the full $R_k$.\n- **Bonds**: created by burning $\\pi_k$ shares to enter a FIFO queue. When a bonded share is selected on a Bitcoin win, the full $R_k$ is paid to redeem up to $M$ bonds; redeemed bonds burn their principal shares.\n- **Term structure**: the market prices shares and bonds against BTC; the protocol\u2019s only \u201cknob\u201d is $\\pi_k$, adjusted mechanically to keep the bond queue\u2019s expected half\u2011clear time near $T_{\\text{target}}$, using only $D_{B,k}$, $D_{S,k}$, $Q_k$, and $\\alpha_k$.\n\nWhile such markets cannot be guaranteed by protocol design alone, both Bitcoin and BMAX are permissionless and L2-capable (i.e. Lightning) networks, so it **is plausible that atomic swap markets will emerge** to support trading between BTC, shares, and bonds.\n\n## Conclusion\n\nIf Bitcoin is going to stand alone as global base money, something like this\u2014*Bitcoin\u2011native time pricing*\u2014needs to exist somewhere. BMAX is one concrete, implementable proposal for how to get there, without asking the base layer to change at all.",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 125,
  "hidden": false,
  "trust_level": 1,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "excerpt": "I am not sure whether this is better posted in <a class=\"hashtag-cooked\" href=\"/c/protocol-design/7\" data-type=\"category\" data-slug=\"protocol-design\" data-id=\"7\" data-style-type=\"square\"><span class=\"hashtag-icon-placeholder\"></span>Protocol Design</span></a> or here. I generally tend to view Bitcoin first more from an economic lens such that all the technical underpinnings (while very important to get right too!) are more of a necessary side effect of trying to achieve an economic goal of: l&hellip;",
  "truncated": true,
  "post_url": "/t/bmax-pricing-sats-now-vs-sats-later-via-a-mining-sharechain-no-l1-changes-no-custodians-no-oracles/2165/1",
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false,
  "can_accept_answer": false,
  "can_unaccept_answer": false,
  "accepted_answer": false,
  "topic_accepted_answer": null,
  "can_vote": false
}