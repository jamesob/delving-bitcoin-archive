{
  "id": 3213,
  "name": "ProofOfKeags",
  "username": "ProofOfKeags",
  "avatar_template": "/user_avatar/delvingbitcoin.org/proofofkeags/{size}/813_2.png",
  "created_at": "2024-09-17T17:37:58.737Z",
  "cooked": "<p>One of the things I find odd about the approach to reputation described in the <a href=\"https://gist.github.com/carlaKC/02251cd061260bbb149f361c65fc9f2f\" rel=\"noopener nofollow ugc\">original doc</a> is that it is the downstream that is fundamentally responsible for preimage release, and, by extension, the delayed resolution. This occurred to me after reading your description of the Sink Attack.</p>\n<p>Consider the sub-route <code>... &lt;-&gt; B &lt;-&gt; C &lt;-&gt; D &lt;-&gt; ...</code>found on some route with unknown extensions on both sides. C is trying to make a forwarding decision based on B\u2019s endorsement of the HTLC. Let\u2019s assume for the sake of simplicity that B believes it has a heuristic that genuinely warrants an endorsement. C is faced with the decision of forwarding given the raw set of data that is on some level comprised of the following raw information:</p>\n<ol>\n<li>B is the upstream</li>\n<li>D is the downstream</li>\n<li>The HTLC size</li>\n<li>the full lifecycle history of every htlc originating from B</li>\n<li>the full lifecycle history of every htlc traveling to D</li>\n<li>the endorsement signal from B</li>\n</ol>\n<p>Note that despite the fact that B has made the endorsement, B \u2013 in general \u2013 lacks any ability to <em>control</em> the prompt resolution of the HTLC. Any control it has is coincidental such as the case of a circular route. The downstream nodes each have the opportunity to delay resolution. Further, if B is a forwarding hop it is unaware of D\u2019s identity entirely and thus cannot use the identity of D in its own judgement as to whether or not to make the endorsement in the first place.</p>\n<p>It occurs to me that the primary risk that C is trying to avoid is that D or any node downstream of D holds the HTLC for a long period of time. I am not sure how B is supposed to make even a slightly educated guess about this which impacts its ability to accurately endorse an HTLC. The only thing I can see here is that if we exclude route blinding, then the source knows the whole route and can therefore endorse it based off of all of its payment lifecycle data and that endorsement of the HTLC by the upstream implies that it should be endorsed downstream unless there is a sufficiently good reason not to. In this case if C knows something that B didn\u2019t about the route it may choose to drop the endorsement.</p>\n<p>Still, while I think reputation is a fine way to try and deal with jamming mitigations, I\u2019m now skeptical that endorsement can be successfully correlated with any sort of probability of prompt resolution. B would have to be able to build up an accurate model for when it believes an HTLC will resolve quickly, and this mirrors the exact problem C is trying to solve. B and C are effectively equally underequipped to solve this.</p>\n<p>I have always imagined endorsement as a statement that approximates the following: \u201cI am personally staking my own reputation on the outcome of this risk I am asking you to take\u201d. In order for this to make sense, the endorser must know something that the forwarder does not. However, in <em>most</em> cases, the endorser knows <em>less</em>.</p>\n<p>Please tell me I\u2019m wrong. I would love to be.</p>",
  "post_number": 2,
  "post_type": 1,
  "updated_at": "2024-09-17T17:37:58.737Z",
  "reply_count": 0,
  "reply_to_post_number": null,
  "quote_count": 0,
  "incoming_link_count": 10,
  "reads": 16,
  "readers_count": 15,
  "score": 53.0,
  "yours": false,
  "topic_id": 1147,
  "topic_slug": "hybrid-jamming-mitigation-results-and-updates",
  "topic_title": "Hybrid Jamming Mitigation: Results and Updates",
  "topic_html_title": "Hybrid Jamming Mitigation: Results and Updates",
  "category_id": 7,
  "display_username": "ProofOfKeags",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "One of the things I find odd about the approach to reputation described in the [original doc](https://gist.github.com/carlaKC/02251cd061260bbb149f361c65fc9f2f) is that it is the downstream that is fundamentally responsible for preimage release, and, by extension, the delayed resolution. This occurred to me after reading your description of the Sink Attack.\n\nConsider the sub-route `... <-> B <-> C <-> D <-> ...`found on some route with unknown extensions on both sides. C is trying to make a forwarding decision based on B's endorsement of the HTLC. Let's assume for the sake of simplicity that B believes it has a heuristic that genuinely warrants an endorsement. C is faced with the decision of forwarding given the raw set of data that is on some level comprised of the following raw information:\n1. B is the upstream\n2. D is the downstream\n3. The HTLC size\n4. the full lifecycle history of every htlc originating from B\n5. the full lifecycle history of every htlc traveling to D\n6. the endorsement signal from B\n\nNote that despite the fact that B has made the endorsement, B -- in general -- lacks any ability to *control* the prompt resolution of the HTLC. Any control it has is coincidental such as the case of a circular route. The downstream nodes each have the opportunity to delay resolution. Further, if B is a forwarding hop it is unaware of D's identity entirely and thus cannot use the identity of D in its own judgement as to whether or not to make the endorsement in the first place.\n\nIt occurs to me that the primary risk that C is trying to avoid is that D or any node downstream of D holds the HTLC for a long period of time. I am not sure how B is supposed to make even a slightly educated guess about this which impacts its ability to accurately endorse an HTLC. The only thing I can see here is that if we exclude route blinding, then the source knows the whole route and can therefore endorse it based off of all of its payment lifecycle data and that endorsement of the HTLC by the upstream implies that it should be endorsed downstream unless there is a sufficiently good reason not to. In this case if C knows something that B didn't about the route it may choose to drop the endorsement.\n\nStill, while I think reputation is a fine way to try and deal with jamming mitigations, I'm now skeptical that endorsement can be successfully correlated with any sort of probability of prompt resolution. B would have to be able to build up an accurate model for when it believes an HTLC will resolve quickly, and this mirrors the exact problem C is trying to solve. B and C are effectively equally underequipped to solve this.\n\nI have always imagined endorsement as a statement that approximates the following: \"I am personally staking my own reputation on the outcome of this risk I am asking you to take\". In order for this to make sense, the endorser must know something that the forwarder does not. However, in *most* cases, the endorser knows *less*.\n\nPlease tell me I'm wrong. I would love to be.",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 138,
  "hidden": false,
  "trust_level": 2,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false
}