{
  "id": 3260,
  "name": "Johan T. Halseth",
  "username": "halseth",
  "avatar_template": "/user_avatar/delvingbitcoin.org/halseth/{size}/198_2.png",
  "created_at": "2024-09-24T19:57:04.162Z",
  "cooked": "<blockquote>\n<p>As already pointed out, the <code>utreexo</code> accumulator is dynamic and needs to be computed from all blocks. Just as a heads-up, you can use <a href=\"https://github.com/utreexo/utreexod\" rel=\"noopener nofollow ugc\">utreexod </a> or <a href=\"https://github.com/Davidson-Souza/Floresta\" rel=\"noopener nofollow ugc\">floresta </a> if you want to get the current roots and prove a given utxo. Furthermore, the commitment scheme used in utreexo is <a href=\"https://github.com/vinteumorg/Floresta/blob/5fa8c546ef4aa25eda8a929c443a189d49e04530/crates/floresta-chain/src/pruned_utreexo/udata.rs#L50-L58\" rel=\"noopener nofollow ugc\">a bit different </a> (I keep pondering if I should add this to <code>rustreexo</code> or keep it as \u201cwe only have the accumulator algorithms\u201d).</p>\n</blockquote>\n<p>Thanks, I\u2019ll update it to use the dynamic accumulator <img src=\"https://delvingbitcoin.org/images/emoji/twitter/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>\n<blockquote>\n<p>Pretty cool to see someone looking at this. I did <a href=\"https://github.com/Davidson-Souza/zktreexo\" rel=\"noopener nofollow ugc\">start </a> something similar, but never finished. My goal was to commit the private key by hashing it at the end, so it couldn\u2019t be replayed. I also commit to the current accumulator, so you can know exactly up to which height it is valid.</p>\n</blockquote>\n<p>I added the private key hash at the end as well, as an attempt to create a private identifier for the output: <a href=\"https://github.com/halseth/utxozkp/commit/6fd00e2077dc82a46074a81b6f01ede316631a39\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Use priv key hash as identifier \u00b7 halseth/utxozkp@6fd00e2 \u00b7 GitHub</a></p>\n<p>This should work since we are checking that the private key used as a preimage to the hash function also gives us the public key that is proven to be in the UTXO set.</p>",
  "post_number": 11,
  "post_type": 1,
  "updated_at": "2024-09-24T20:08:00.590Z",
  "reply_count": 0,
  "reply_to_post_number": 8,
  "quote_count": 0,
  "incoming_link_count": 0,
  "reads": 11,
  "readers_count": 10,
  "score": 2.2,
  "yours": false,
  "topic_id": 1142,
  "topic_slug": "proving-utxo-set-inclusion-in-zero-knowledge",
  "topic_title": "Proving UTXO set inclusion in zero-knowledge",
  "topic_html_title": "Proving UTXO set inclusion in zero-knowledge",
  "category_id": 8,
  "display_username": "Johan T. Halseth",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "version": 2,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "reply_to_user": {
    "username": "Davidson",
    "name": "Davidson",
    "avatar_template": "/letter_avatar_proxy/v4/letter/d/9d8465/{size}.png"
  },
  "bookmarked": false,
  "raw": "> As already pointed out, the `utreexo` accumulator is dynamic and needs to be computed from all blocks. Just as a heads-up, you can use [utreexod ](https://github.com/utreexo/utreexod) or [floresta ](https://github.com/Davidson-Souza/Floresta) if you want to get the current roots and prove a given utxo. Furthermore, the commitment scheme used in utreexo is [a bit different ](https://github.com/vinteumorg/Floresta/blob/5fa8c546ef4aa25eda8a929c443a189d49e04530/crates/floresta-chain/src/pruned_utreexo/udata.rs#L50-L58) (I keep pondering if I should add this to `rustreexo` or keep it as \u201cwe only have the accumulator algorithms\u201d).\n\nThanks, I'll update it to use the dynamic accumulator :slight_smile:\n\n> Pretty cool to see someone looking at this. I did [start ](https://github.com/Davidson-Souza/zktreexo) something similar, but never finished. My goal was to commit the private key by hashing it at the end, so it couldn\u2019t be replayed. I also commit to the current accumulator, so you can know exactly up to which height it is valid.\n\nI added the private key hash at the end as well, as an attempt to create a private identifier for the output: https://github.com/halseth/utxozkp/commit/6fd00e2077dc82a46074a81b6f01ede316631a39\n\nThis should work since we are checking that the private key used as a preimage to the hash function also gives us the public key that is proven to be in the UTXO set.",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 163,
  "hidden": false,
  "trust_level": 2,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false
}