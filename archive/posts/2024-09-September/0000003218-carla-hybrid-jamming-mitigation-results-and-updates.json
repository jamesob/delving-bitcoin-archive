{
  "id": 3218,
  "name": "Carla Kirk-Cohen",
  "username": "carla",
  "avatar_template": "/user_avatar/delvingbitcoin.org/carla/{size}/119_2.png",
  "created_at": "2024-09-18T15:39:02.786Z",
  "cooked": "<p>Adding in A to the above example: <code>.. --&gt; A --&gt; B --&gt; C -- D --&gt; ...</code></p>\n<p>It\u2019s certainly correct that <code>C</code> will always have more\ninformation than <code>B</code> about <code>D</code>; as our history with our peers gives us\ninformation to base our forwarding decisions on. Likewise, <code>B</code> will\nalways have more information than <code>C</code> about its incoming edge <code>A</code>.</p>\n<p>I see this as happening in two parts, with each node responsible for the\ndirection that they are most informed about:</p>\n<ol>\n<li><code>B</code> decides to forward the HTLC as endorsed to <code>C</code> because they have\nlocal information about <code>A</code>, and have decided that it has sufficient\nincoming reputation to take the risk.</li>\n<li><code>C</code> decides to forward the HTLC to <code>D</code> only if they have sufficient\noutgoing reputation for an endorsed payment (dropping it otherwise).</li>\n</ol>\n<p>This happens transitively down the route:</p>\n<ul>\n<li>Incoming nodes only endorse, tracing all the way back to the sender\nif outgoing reputation holds.</li>\n<li>Forwarding nodes only proceed with outgoing endorsed HTLCs, all the\nway to the eventual recipient, if outgoing reputation holds.</li>\n</ul>\n<p>Of course, none of this applied to unendorsed HTLCs where there\u2019s no risk of channels being fully jammed!</p>\n<blockquote>\n<p>I am not sure how B is supposed to make even a slightly educated\nguess about this which impacts its ability to accurately endorse an\nHTLC.</p>\n</blockquote>\n<p>You\u2019re absolutely correct that B can only provide input about the\nincoming direction. This is still very valuable information, as it\nprovides C with information about the direction that they otherwise are\ntotally in the dark about.</p>\n<p>Without this signal, any node can show up and saturate a channel with\nfailing payments. This is more efficient with the collaboration of a\ndownstream peer, but also possible without it by just spraying payments\nto any node in the network.</p>\n<p>The key insight from running through this attack is that we need to\naccount for <em>both</em> directions to close any gaps that an attacker may\nabuse. Endorsement + reputation does this for the incoming direction,\nand forwarding nodes are individually responsible for doing so in the\noutgoing direction based on reputation.</p>\n<blockquote>\n<p>I am personally staking my own reputation on the outcome of this\nrisk I am asking you to take.</p>\n</blockquote>\n<p>I agree with this, perhaps only adding:</p>\n<p>I am staking my own reputation on the outcome of this risk I am asking\nyou to take, informed by your locally available information.</p>",
  "post_number": 3,
  "post_type": 1,
  "updated_at": "2024-09-18T15:39:02.786Z",
  "reply_count": 0,
  "reply_to_post_number": null,
  "quote_count": 0,
  "incoming_link_count": 0,
  "reads": 10,
  "readers_count": 9,
  "score": 32.0,
  "yours": false,
  "topic_id": 1147,
  "topic_slug": "hybrid-jamming-mitigation-results-and-updates",
  "topic_title": "Hybrid Jamming Mitigation: Results and Updates",
  "topic_html_title": "Hybrid Jamming Mitigation: Results and Updates",
  "category_id": 7,
  "display_username": "Carla Kirk-Cohen",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": "",
  "bookmarked": false,
  "raw": "Adding in A to the above example: `.. --> A --> B --> C -- D --> ...`\n\nIt's certainly correct that `C` will always have more\ninformation than `B` about `D`; as our history with our peers gives us\ninformation to base our forwarding decisions on. Likewise, `B` will \nalways have more information than `C` about its incoming edge `A`.\n\nI see this as happening in two parts, with each node responsible for the\ndirection that they are most informed about:\n1. `B` decides to forward the HTLC as endorsed to `C` because they have\n   local information about `A`, and have decided that it has sufficient\n   incoming reputation to take the risk.\n2. `C` decides to forward the HTLC to `D` only if they have sufficient\n   outgoing reputation for an endorsed payment (dropping it otherwise).\n\nThis happens transitively down the route: \n- Incoming nodes only endorse, tracing all the way back to the sender\n  if outgoing reputation holds.\n- Forwarding nodes only proceed with outgoing endorsed HTLCs, all the \n  way to the eventual recipient, if outgoing reputation holds.\n\nOf course, none of this applied to unendorsed HTLCs where there's no risk of channels being fully jammed!\n\n> I am not sure how B is supposed to make even a slightly educated \n  guess about this which impacts its ability to accurately endorse an \n  HTLC.\n\nYou're absolutely correct that B can only provide input about the \nincoming direction. This is still very valuable information, as it \nprovides C with information about the direction that they otherwise are\ntotally in the dark about. \n\nWithout this signal, any node can show up and saturate a channel with \nfailing payments. This is more efficient with the collaboration of a\ndownstream peer, but also possible without it by just spraying payments\nto any node in the network. \n\nThe key insight from running through this attack is that we need to\naccount for *both* directions to close any gaps that an attacker may\nabuse. Endorsement + reputation does this for the incoming direction,\nand forwarding nodes are individually responsible for doing so in the\noutgoing direction based on reputation.\n\n> I am personally staking my own reputation on the outcome of this \n  risk I am asking you to take.\n\nI agree with this, perhaps only adding:\n\nI am staking my own reputation on the outcome of this risk I am asking\nyou to take, informed by your locally available information.",
  "actions_summary": [
    {
      "id": 2,
      "count": 2
    }
  ],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 124,
  "hidden": false,
  "trust_level": 1,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "reactions": [
    {
      "id": "+1",
      "type": "emoji",
      "count": 2
    }
  ],
  "current_user_reaction": null,
  "reaction_users_count": 2,
  "current_user_used_main_reaction": false
}