{
  "id": 6698,
  "name": "Oleks",
  "username": "olkurbatov",
  "avatar_template": "/user_avatar/delvingbitcoin.org/olkurbatov/{size}/299_2.png",
  "created_at": "2026-01-28T15:25:28.684Z",
  "cooked": "<p>The policy <code>(and (or A B) (or C D))</code> has exactly 4 coalitions that can produce a valid signature: <span class=\"math\">\\{A,C\\}, \\{A,D\\}, \\{B,C\\}, \\{B,D\\}</span>.</p>\n<p>We can represent this policy in the form of the following PK tree:</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://delvingbitcoin.org/uploads/default/original/2X/c/c642fddf2284fd31baee92c10e98300196ecd92e.png\" data-download-href=\"https://delvingbitcoin.org/uploads/default/c642fddf2284fd31baee92c10e98300196ecd92e\" title=\"Screenshot 2026-01-28 at 17.07.28\"><img src=\"https://delvingbitcoin.org/uploads/default/optimized/2X/c/c642fddf2284fd31baee92c10e98300196ecd92e_2_690x259.png\" alt=\"Screenshot 2026-01-28 at 17.07.28\" data-base62-sha1=\"shU4e3PImM1jTVW5bd0YyvkvIHI\" width=\"690\" height=\"259\" srcset=\"https://delvingbitcoin.org/uploads/default/optimized/2X/c/c642fddf2284fd31baee92c10e98300196ecd92e_2_690x259.png, https://delvingbitcoin.org/uploads/default/optimized/2X/c/c642fddf2284fd31baee92c10e98300196ecd92e_2_1035x388.png 1.5x, https://delvingbitcoin.org/uploads/default/optimized/2X/c/c642fddf2284fd31baee92c10e98300196ecd92e_2_1380x518.png 2x\" data-dominant-color=\"F7F8F8\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">Screenshot 2026-01-28 at 17.07.28</span><span class=\"informations\">1504\u00d7566 20.1 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>The verification key <code>P</code> is <strong>not</strong> a MuSig2 aggregation of all four parties. Instead, it\u2019s a MuSig2 aggregation of <code>P_left</code> and <code>P_right</code>, where:</p>\n<pre><code class=\"lang-auto\">\nP_left = hash(ECDH(P_A, P_B)) * G\n\nP_right = hash(ECDH(P_C, P_D)) * G\n\n</code></pre>\n<p>so <code>P = MuSig2_KeyAgg(P_left, P_right)</code>.</p>\n<p>To produce a valid under <code>P</code> signature, we need two parties who can access <code>ECDH(P_A, P_B)</code> and <code>ECDH(P_C, P_D)</code>, respectively. Either A or B can compute the left ECDH (using their private key with the other\u2019s public key), and either C or D can compute the right one. So, the set <span class=\"math\">\\{B,D\\}</span> <strong>can</strong> produce a valid signature, but <span class=\"math\">\\{A,B\\}</span> <strong>cannot</strong> because they both belong to the same <code>P_left </code> branch, leaving the right branch unsatisfied.</p>\n<aside class=\"quote no-group quote-modified\" data-username=\"evd0kim\" data-post=\"2\" data-topic=\"2217\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/evd0kim/48/1111_2.png\" class=\"avatar\"> evd0kim:</div>\n<blockquote>\n<p>However, only A and C are co-signers in Musig2, which spends on-chain.</p>\n</blockquote>\n</aside>\n<p>In the code example, Alice and Carol are the active signers, but this is just one of the four valid coalitions. Bob and Dave (or any other valid pair) can sign in exactly the same way.</p>",
  "post_number": 3,
  "post_type": 1,
  "posts_count": 3,
  "updated_at": "2026-01-28T15:25:28.684Z",
  "reply_count": 0,
  "reply_to_post_number": null,
  "quote_count": 1,
  "incoming_link_count": 1,
  "reads": 8,
  "readers_count": 7,
  "score": 21.6,
  "yours": false,
  "topic_id": 2217,
  "topic_slug": "blisk-boolean-circuit-logic-integrated-into-the-single-key",
  "topic_title": "BLISK: Boolean circuit Logic Integrated into the Single Key",
  "topic_html_title": "BLISK: Boolean circuit Logic Integrated into the Single Key",
  "category_id": 7,
  "display_username": "Oleks",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "badges_granted": [],
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": "",
  "bookmarked": false,
  "raw": "The policy `(and (or A B) (or C D))` has exactly 4 coalitions that can produce a valid signature: $\\{A,C\\}, \\{A,D\\}, \\{B,C\\}, \\{B,D\\}$.\n\nWe can represent this policy in the form of the following PK tree:\n\n![Screenshot 2026-01-28 at 17.07.28|690x259, 100%](upload://shU4e3PImM1jTVW5bd0YyvkvIHI.png)\n\nThe verification key `P` is **not** a MuSig2 aggregation of all four parties. Instead, it's a MuSig2 aggregation of `P_left` and `P_right`, where:\n\n```\n\nP_left = hash(ECDH(P_A, P_B)) * G\n\nP_right = hash(ECDH(P_C, P_D)) * G\n\n```\n\nso `P = MuSig2_KeyAgg(P_left, P_right)`.\n\nTo produce a valid under `P` signature, we need two parties who can access `ECDH(P_A, P_B)` and `ECDH(P_C, P_D)`, respectively. Either A or B can compute the left ECDH (using their private key with the other's public key), and either C or D can compute the right one. So, the set $\\{B,D\\}$ **can** produce a valid signature, but $\\{A,B\\}$ **cannot** because they both belong to the same `P_left ` branch, leaving the right branch unsatisfied.\n\n[quote=\"evd0kim, post:2, topic:2217\"]\n\nHowever, only A and C are co-signers in Musig2, which spends on-chain.\n\n[/quote]\n\nIn the code example, Alice and Carol are the active signers, but this is just one of the four valid coalitions. Bob and Dave (or any other valid pair) can sign in exactly the same way.",
  "actions_summary": [
    {
      "id": 2,
      "count": 1
    }
  ],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 246,
  "hidden": false,
  "trust_level": 1,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "excerpt": "The policy (and (or A B) (or C D)) has exactly 4 coalitions that can produce a valid signature: \\{A,C\\}, \\{A,D\\}, \\{B,C\\}, \\{B,D\\}. \nWe can represent this policy in the form of the following PK tree: \n <a class=\"lightbox\" href=\"https://delvingbitcoin.org/uploads/default/original/2X/c/c642fddf2284fd31baee92c10e98300196ecd92e.png\" data-download-href=\"https://delvingbitcoin.org/uploads/default/c642fddf2284fd31baee92c10e98300196ecd92e\" title=\"Screenshot 2026-01-28 at 17.07.28\">[Screenshot 2026-01-28 at 17.07.28]</a> \nThe verification key P is not a MuSig2 aggregation of all fou&hellip;",
  "truncated": true,
  "post_url": "/t/blisk-boolean-circuit-logic-integrated-into-the-single-key/2217/3",
  "reactions": [
    {
      "id": "+1",
      "type": "emoji",
      "count": 1
    }
  ],
  "current_user_reaction": null,
  "reaction_users_count": 1,
  "current_user_used_main_reaction": false,
  "can_accept_answer": false,
  "can_unaccept_answer": false,
  "accepted_answer": false,
  "topic_accepted_answer": null
}