{
  "id": 6679,
  "name": null,
  "username": "ArmchairCryptologist",
  "avatar_template": "/letter_avatar_proxy/v4/letter/a/8e8cbc/{size}.png",
  "created_at": "2026-01-24T09:09:58.466Z",
  "cooked": "<p>I think the biggest gotcha here is that nLockTime will leak the time of transaction creation time with high confidence. For Core in particular, there is a 10% chance that transactions have a nLockTime set to a random value within 100 blocks of the current height (see DiscourageFeeSniping in wallet/spend.cpp), but that still leaves a 90% chance for a transaction to reveal the true block height at the time it was created, and you will generally be able to tell it\u2019s a delayed transaction if nLockTime is older than 17 hours or so. So I\u2019m not sure this really is more useful than just doing <code>sleep 3600; ./bitcoin-cli sendrawtransaction\u2026</code></p>\n<p>I suppose you could set nLockTime to 0 for any transactions you want to do this for, or set it to the block height you want to send the transaction at. Unfortunately, Bitcoin Core does not provide this functionality in most transaction creation functions, which makes this somewhat complicated - I believe you need to use <code>createrawtransaction</code> or <code>walletcreatefundedpsbt</code>to do that.</p>\n<p>I could see this being useful if a) it was easier to create a transaction with a provided nLockTime, and b) the schedule function had the ability to send the transaction at the corresponding block height rather than (or in addition to) at a given time.</p>",
  "post_number": 7,
  "post_type": 1,
  "posts_count": 7,
  "updated_at": "2026-01-24T09:09:58.466Z",
  "reply_count": 0,
  "reply_to_post_number": 6,
  "quote_count": 0,
  "incoming_link_count": 1,
  "reads": 7,
  "readers_count": 6,
  "score": 1.4,
  "yours": false,
  "topic_id": 2148,
  "topic_slug": "scheduled-delayed-transaction-broadcast",
  "topic_title": "Scheduled (Delayed) Transaction Broadcast",
  "topic_html_title": "Scheduled (Delayed) Transaction Broadcast",
  "category_id": 8,
  "display_username": null,
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "badges_granted": [],
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "reply_to_user": {
    "id": 1001,
    "username": "optout",
    "name": "Opt Out",
    "avatar_template": "/user_avatar/delvingbitcoin.org/optout/{size}/1693_2.png"
  },
  "bookmarked": false,
  "raw": "I think the biggest gotcha here is that nLockTime will leak the time of transaction creation time with high confidence. For Core in particular, there is a 10% chance that transactions have a nLockTime set to a random value within 100 blocks of the current height (see DiscourageFeeSniping in wallet/spend.cpp), but that still leaves a 90% chance for a transaction to reveal the true block height at the time it was created, and you will generally be able to tell it\u2019s a delayed transaction if nLockTime is older than 17 hours or so. So I\u2019m not sure this really is more useful than just doing `sleep 3600; ./bitcoin-cli sendrawtransaction\u2026`\n\nI suppose you could set nLockTime to 0 for any transactions you want to do this for, or set it to the block height you want to send the transaction at. Unfortunately, Bitcoin Core does not provide this functionality in most transaction creation functions, which makes this somewhat complicated - I believe you need to use `createrawtransaction` or `walletcreatefundedpsbt`to do that.\n\nI could see this being useful if a) it was easier to create a transaction with a provided nLockTime, and b) the schedule function had the ability to send the transaction at the corresponding block height rather than (or in addition to) at a given time.",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 888,
  "hidden": false,
  "trust_level": 1,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "excerpt": "I think the biggest gotcha here is that nLockTime will leak the time of transaction creation time with high confidence. For Core in particular, there is a 10% chance that transactions have a nLockTime set to a random value within 100 blocks of the current height (see DiscourageFeeSniping in wallet/s&hellip;",
  "truncated": true,
  "post_url": "/t/scheduled-delayed-transaction-broadcast/2148/7",
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false,
  "can_accept_answer": false,
  "can_unaccept_answer": false,
  "accepted_answer": false,
  "topic_accepted_answer": null
}