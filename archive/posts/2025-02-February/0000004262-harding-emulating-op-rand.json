{
  "id": 4262,
  "name": "David A. Harding",
  "username": "harding",
  "avatar_template": "/user_avatar/delvingbitcoin.org/harding/{size}/925_2.png",
  "created_at": "2025-02-10T14:36:42.611Z",
  "cooked": "<aside class=\"quote no-group\" data-username=\"ajtowns\" data-post=\"3\" data-topic=\"1409\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/ajtowns/48/417_2.png\" class=\"avatar\"> ajtowns:</div>\n<blockquote>\n<p>Having to transmit 1000 hashed pubkeys and a zkp for every dusty-HTLC for every update is also probably prohibitive.</p>\n</blockquote>\n</aside>\n<p>Prohibitive for who?  If the data can be mostly computed, transmitted, and verified in advance, then it might be possible to use CPU and bandwidth that would otherwise sit idle.  That said, I can easily believe it\u2019s not worth LN developer time to study and implement a sub-protocol solely for moving tiny values.</p>\n<p>However, I\u2019m not sure probabilistic HTLCs would only be useful for tiny values.  Imagine Alice and Bob are channel partners deep within a channel factory.  They want to relay a $100 HTLC, but the cost of fanning out their part of the factory onchain would be $1,000 in transaction fees.  Should they use a trimmed HTLC, where one of them risks losing $100?  Or maybe <a href=\"https://delvingbitcoin.org/t/a-fast-scalable-protocol-for-resolving-lightning-payments/1233\">OPR</a> where they each risk losing $100?  I think a probabilistic HTLC might be better where the risk of loss is, on average, 0.  Admittedly, there\u2019s still problems with probabilistic HTLCs: for a $100 payment and $1,000 expected transaction fee to resolve onchain, one party might need to put up $10,000 in capital for the duration of the HTLC in order to make onchain settlement economic; I think that might be solvable in &gt;2-party channels where one of the parties is a speculator, but I haven\u2019t really thought that through.</p>",
  "post_number": 8,
  "post_type": 1,
  "updated_at": "2025-02-10T14:36:42.611Z",
  "reply_count": 1,
  "reply_to_post_number": 3,
  "quote_count": 1,
  "incoming_link_count": 0,
  "reads": 10,
  "readers_count": 9,
  "score": 7.0,
  "yours": false,
  "topic_id": 1409,
  "topic_slug": "emulating-op-rand",
  "topic_title": "Emulating OP_RAND",
  "topic_html_title": "Emulating OP_RAND",
  "category_id": 7,
  "display_username": "David A. Harding",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "badges_granted": [],
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "[quote=\"ajtowns, post:3, topic:1409\"]\nHaving to transmit 1000 hashed pubkeys and a zkp for every dusty-HTLC for every update is also probably prohibitive.\n[/quote]\n\nProhibitive for who?  If the data can be mostly computed, transmitted, and verified in advance, then it might be possible to use CPU and bandwidth that would otherwise sit idle.  That said, I can easily believe it's not worth LN developer time to study and implement a sub-protocol solely for moving tiny values.\n\nHowever, I'm not sure probabilistic HTLCs would only be useful for tiny values.  Imagine Alice and Bob are channel partners deep within a channel factory.  They want to relay a $100 HTLC, but the cost of fanning out their part of the factory onchain would be $1,000 in transaction fees.  Should they use a trimmed HTLC, where one of them risks losing $100?  Or maybe [OPR](https://delvingbitcoin.org/t/a-fast-scalable-protocol-for-resolving-lightning-payments/1233) where they each risk losing $100?  I think a probabilistic HTLC might be better where the risk of loss is, on average, 0.  Admittedly, there's still problems with probabilistic HTLCs: for a $100 payment and $1,000 expected transaction fee to resolve onchain, one party might need to put up $10,000 in capital for the duration of the HTLC in order to make onchain settlement economic; I think that might be solvable in >2-party channels where one of the parties is a speculator, but I haven't really thought that through.",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 6,
  "hidden": false,
  "trust_level": 3,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false
}