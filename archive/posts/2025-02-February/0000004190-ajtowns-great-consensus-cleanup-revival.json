{
  "id": 4190,
  "name": "Anthony Towns",
  "username": "ajtowns",
  "avatar_template": "/user_avatar/delvingbitcoin.org/ajtowns/{size}/417_2.png",
  "created_at": "2025-02-06T02:19:22.801Z",
  "cooked": "<p>I think it would be helpful if we could have distinct names for the two limits here \u2013 keep \u201csigop\u201d for signatures that appear in the p2sh, p2wsh and the output scriptPubKey, and use something new for the new limit (\u201csigchecked\u201d? \u201clegacysig\u201d?)</p>\n<aside class=\"quote no-group\" data-username=\"AntoineP\" data-post=\"68\" data-topic=\"710\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/antoinep/48/483_2.png\" class=\"avatar\"> AntoineP:</div>\n<blockquote>\n<p>The number of sigops in a CMS is the number of keys if it\u2019s inferior or equal to 16, and 20 otherwise.</p>\n</blockquote>\n</aside>\n<p>The condition is whether the script is <code>OP_1</code> \u2026 <code>OP_16</code> immediately followed by CMS, versus anything else, not strictly the number of keys. So eg <code>1 1 ADD CMS</code> will be treated as 20 sigops, not 2, and <code>0 0 0 CHECKMULTISIG</code> also counts as 20 sigops, rather than 0. It also counts CHECK*SIG opcodes from unexecuted branches, so <code>IF &lt;P&gt; CHECKSIG ELSE &lt;Q&gt; CHECKSIG ENDIF</code> counts as 2 sigops while  <code>IF &lt;P&gt; ELSE &lt;Q&gt; ENDIF CHECKSIG</code> counts as 1.</p>",
  "post_number": 69,
  "post_type": 1,
  "updated_at": "2025-02-06T02:19:58.081Z",
  "reply_count": 0,
  "reply_to_post_number": 68,
  "quote_count": 1,
  "incoming_link_count": 0,
  "reads": 15,
  "readers_count": 14,
  "score": 3.0,
  "yours": false,
  "topic_id": 710,
  "topic_slug": "great-consensus-cleanup-revival",
  "topic_title": "Great Consensus Cleanup Revival",
  "topic_html_title": "Great Consensus Cleanup Revival",
  "category_id": 7,
  "display_username": "Anthony Towns",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "badges_granted": [],
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "I think it would be helpful if we could have distinct names for the two limits here -- keep \"sigop\" for signatures that appear in the p2sh, p2wsh and the output scriptPubKey, and use something new for the new limit (\"sigchecked\"? \"legacysig\"?)\n\n[quote=\"AntoineP, post:68, topic:710\"]\nThe number of sigops in a CMS is the number of keys if it\u2019s inferior or equal to 16, and 20 otherwise.\n[/quote]\n\nThe condition is whether the script is `OP_1` .. `OP_16` immediately followed by CMS, versus anything else, not strictly the number of keys. So eg `1 1 ADD CMS` will be treated as 20 sigops, not 2, and `0 0 0 CHECKMULTISIG` also counts as 20 sigops, rather than 0. It also counts CHECK*SIG opcodes from unexecuted branches, so `IF <P> CHECKSIG ELSE <Q> CHECKSIG ENDIF` counts as 2 sigops while  `IF <P> ELSE <Q> ENDIF CHECKSIG` counts as 1.",
  "actions_summary": [],
  "moderator": true,
  "admin": true,
  "staff": true,
  "user_id": 3,
  "hidden": false,
  "trust_level": 4,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false
}