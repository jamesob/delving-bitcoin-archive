{
  "id": 4317,
  "name": "David A. Harding",
  "username": "harding",
  "avatar_template": "/user_avatar/delvingbitcoin.org/harding/{size}/925_2.png",
  "created_at": "2025-02-18T14:31:14.930Z",
  "cooked": "<aside class=\"quote no-group\" data-username=\"t-bast\" data-post=\"1\" data-topic=\"1453\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/t-bast/48/98_2.png\" class=\"avatar\"> t-bast:</div>\n<blockquote>\n<p>A very simple proposal to fix that is to have the peer always sign two versions of HTLC transactions:</p>\n<ul>\n<li>the default one that doesn\u2019t pay any fee and needs additional on-chain inputs</li>\n<li>and another one in a custom TLV of <code>commitment_signed</code> at a high feerate that matches the currently observed feerate</li>\n</ul>\n</blockquote>\n</aside>\n<p>This seems pretty clever.  Am I understanding correctly that the fees for the high feerate will be deducted from the balance of the channel opener in the current way?  Since we would always expect the mobile wallet to be the channel opener, that means (1) it costs the peer nothing to offer the mobile wallet a high feerate option and (2) the mobile wallet has an incentive to not use the high-feerate option unless it\u2019s actually necessary for safety or recovering liquidity from a stale channel.</p>",
  "post_number": 2,
  "post_type": 1,
  "updated_at": "2025-02-18T14:31:14.930Z",
  "reply_count": 1,
  "reply_to_post_number": null,
  "quote_count": 1,
  "incoming_link_count": 0,
  "reads": 16,
  "readers_count": 15,
  "score": 8.2,
  "yours": false,
  "topic_id": 1453,
  "topic_slug": "zero-fee-commitments-for-mobile-wallets",
  "topic_title": "Zero-fee commitments for mobile wallets",
  "topic_html_title": "Zero-fee commitments for mobile wallets",
  "category_id": 7,
  "display_username": "David A. Harding",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "badges_granted": [],
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "[quote=\"t-bast, post:1, topic:1453\"]\nA very simple proposal to fix that is to have the peer always sign two versions of HTLC transactions:\n\n* the default one that doesn\u2019t pay any fee and needs additional on-chain inputs\n* and another one in a custom TLV of `commitment_signed` at a high feerate that matches the currently observed feerate\n[/quote]\n\nThis seems pretty clever.  Am I understanding correctly that the fees for the high feerate will be deducted from the balance of the channel opener in the current way?  Since we would always expect the mobile wallet to be the channel opener, that means (1) it costs the peer nothing to offer the mobile wallet a high feerate option and (2) the mobile wallet has an incentive to not use the high-feerate option unless it's actually necessary for safety or recovering liquidity from a stale channel.",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 6,
  "hidden": false,
  "trust_level": 3,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false
}