{
  "id": 4206,
  "name": "Matt Morehouse",
  "username": "morehouse",
  "avatar_template": "/letter_avatar_proxy/v4/letter/m/df705f/{size}.png",
  "created_at": "2025-02-06T18:31:50.485Z",
  "cooked": "<aside class=\"quote no-group\" data-username=\"ajtowns\" data-post=\"9\" data-topic=\"1412\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/ajtowns/48/417_2.png\" class=\"avatar\"> ajtowns:</div>\n<blockquote>\n<p>Isn\u2019t the channel counterparty doing fee griefing more of a concern? If a random person does it, they risk losing a bunch of fees, and get no benefit; if a miner does it, either they mine your original tx (delaying it slightly because other miners didn\u2019t see it) and everything\u2019s still fine, or they risk losing funds and get no benefit; but if your counterparty does it, they may get to claim a htlc payment back via the timeout path, and actually make a profit.</p>\n</blockquote>\n</aside>\n<p>When the channel counterparty does it, yes they might be able to steal HTLCs if the victim isn\u2019t willing to fee bump high enough.</p>\n<p>A random person indeed can\u2019t steal funds via this attack, but they <em>can</em> grief the victim.  They don\u2019t need to risk much in fees either if they already have a low-priority ~1000vB transaction they want to get mined anyway.  In fact we\u2019ve already seen a similar kind of <a href=\"https://x.com/peterktodd/status/1793380279018803208\" rel=\"noopener nofollow ugc\">accidental pinning</a> in the wild with expired anchor outputs.  Are you sure that <em>no one</em> on the network will ever want to grief in this way?</p>\n<p>A mining pool may stand to profit nicely if the victim pays 50% more in fees than they normally would.  The EV depends on:</p>\n<ul>\n<li>the probability of the pinned transaction confirming before the victim fee bumps enough to escape the pin, and</li>\n<li>the percentage of hash rate controlled by the pool.</li>\n</ul>\n<p>By using a keyed anchor, we can limit our exposure to such attacks to <em>just</em> the channel counterparty, instead of allowing anyone on the network to do it.</p>",
  "post_number": 10,
  "post_type": 1,
  "updated_at": "2025-02-06T18:31:50.485Z",
  "reply_count": 2,
  "reply_to_post_number": 9,
  "quote_count": 1,
  "incoming_link_count": 0,
  "reads": 9,
  "readers_count": 8,
  "score": 11.8,
  "yours": false,
  "topic_id": 1412,
  "topic_slug": "which-ephemeral-anchor-script-should-lightning-use",
  "topic_title": "Which ephemeral anchor script should lightning use?",
  "topic_html_title": "Which ephemeral anchor script should lightning use?",
  "category_id": 7,
  "display_username": "Matt Morehouse",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "badges_granted": [],
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "[quote=\"ajtowns, post:9, topic:1412\"]\nIsn\u2019t the channel counterparty doing fee griefing more of a concern? If a random person does it, they risk losing a bunch of fees, and get no benefit; if a miner does it, either they mine your original tx (delaying it slightly because other miners didn\u2019t see it) and everything\u2019s still fine, or they risk losing funds and get no benefit; but if your counterparty does it, they may get to claim a htlc payment back via the timeout path, and actually make a profit.\n[/quote]\n\nWhen the channel counterparty does it, yes they might be able to steal HTLCs if the victim isn't willing to fee bump high enough.\n\nA random person indeed can't steal funds via this attack, but they *can* grief the victim.  They don't need to risk much in fees either if they already have a low-priority ~1000vB transaction they want to get mined anyway.  In fact we've already seen a similar kind of [accidental pinning](https://x.com/peterktodd/status/1793380279018803208) in the wild with expired anchor outputs.  Are you sure that *no one* on the network will ever want to grief in this way? \n\nA mining pool may stand to profit nicely if the victim pays 50% more in fees than they normally would.  The EV depends on:\n\n- the probability of the pinned transaction confirming before the victim fee bumps enough to escape the pin, and\n- the percentage of hash rate controlled by the pool.\n\n\nBy using a keyed anchor, we can limit our exposure to such attacks to *just* the channel counterparty, instead of allowing anyone on the network to do it.",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 47,
  "hidden": false,
  "trust_level": 2,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false
}