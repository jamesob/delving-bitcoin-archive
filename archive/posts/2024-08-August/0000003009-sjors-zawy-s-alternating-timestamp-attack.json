{
  "id": 3009,
  "name": "Sjors Provoost",
  "username": "sjors",
  "avatar_template": "/user_avatar/delvingbitcoin.org/sjors/{size}/59_2.png",
  "created_at": "2024-08-20T18:55:31.368Z",
  "cooked": "<aside class=\"quote no-group\" data-username=\"AntoineP\" data-post=\"3\" data-topic=\"1062\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/antoinep/48/483_2.png\" class=\"avatar\"> AntoineP:</div>\n<blockquote>\n<p>Your suggested fix makes sense.</p>\n</blockquote>\n</aside>\n<p>Are you referring to <a class=\"mention\" href=\"/u/murch\">@murch</a> solution?</p>\n<aside class=\"quote no-group\" data-username=\"murch\" data-post=\"1\" data-topic=\"1062\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/murch/48/139_2.png\" class=\"avatar\"> murch:</div>\n<blockquote>\n<p>requires that the last block in a difficulty period N has a higher timestamp than the first block in the same difficulty period</p>\n</blockquote>\n</aside>\n<p>Or to <a class=\"mention\" href=\"/u/zawy\">@zawy</a>\u2019s comment after that?</p>\n<p>Can someone explain why the attack needs to alternate and can\u2019t just use a constant low difficulty?</p>\n<aside class=\"quote no-group\" data-username=\"zawy\" data-post=\"5\" data-topic=\"1062\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/zawy/48/750_2.png\" class=\"avatar\"> zawy:</div>\n<blockquote>\n<ol>\n<li>monotonic, +/- 10 sec \u201carrival\u201d rule,</li>\n</ol>\n</blockquote>\n</aside>\n<p>I suspect that would cause a mess. It could potentially introduce new attack vectors by messing with (node connections to) NTP servers. The current two hour margin is so wide you could set your computer clock with a sundial.</p>\n<p>Block propagation throughout the whole network is probably in the order of seconds, but sometimes it seems take half minute: <a href=\"https://b10c.me/blog/014-mining-pool-behavior-during-forks/\" class=\"inline-onebox\">Mining Pool Behavior during Forks</a></p>\n<p>Slowly validating blocks, poor internet connections and having to use Tor can all add many seconds to when you receive a block.</p>\n<p>Later on:</p>\n<aside class=\"quote no-group\" data-username=\"murch\" data-post=\"16\" data-topic=\"1062\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/murch/48/139_2.png\" class=\"avatar\"> murch:</div>\n<blockquote>\n<p>I gather now that your suggestion would be to</p>\n<ul>\n<li>Enforce a 2h FTL</li>\n<li>Enforce that no block may be dated older than 2h before <em>any</em> of its predecessors\u2019 timestamps</li>\n</ul>\n</blockquote>\n</aside>\n<p>With FTL meaning \u201cFuture Time Limit\u201d. So do you mean just the existing rule that when we see a block it can\u2019t be more than 2 hours in the future? Or do you mean the timestamp can\u2019t be more than 2 hours ahead of that in the previous block?</p>\n<aside class=\"quote no-group\" data-username=\"zawy\" data-post=\"5\" data-topic=\"1062\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://delvingbitcoin.org/user_avatar/delvingbitcoin.org/zawy/48/750_2.png\" class=\"avatar\"> zawy:</div>\n<blockquote>\n<p>Testnet is different because of the absence of the profit motive. Someone might do it for fun. Or there might be a reason to get a lot of blocks. It needs it more than mainnet.</p>\n</blockquote>\n</aside>\n<p>It\u2019s probably impossible to make testnet safe against all abuse, without making it permissioned. Otherwise we would have invented an actual alternative to proof-of-work. So in practice we should probably only:</p>\n<ol>\n<li>Fix attacks that actually happened and caused, or continue to cause, significant problems. E.g. the loppocapse blockstorms.</li>\n<li>Deployment things we want to see on mainnet, to see if they have bugs and to see if anyone comes up with an attack that wasn\u2019t foreseen and could_be used on mainnet.</li>\n</ol>",
  "post_number": 22,
  "post_type": 1,
  "updated_at": "2024-08-20T18:55:31.368Z",
  "reply_count": 2,
  "reply_to_post_number": 3,
  "quote_count": 4,
  "incoming_link_count": 0,
  "reads": 10,
  "readers_count": 9,
  "score": 12.0,
  "yours": false,
  "topic_id": 1062,
  "topic_slug": "zawy-s-alternating-timestamp-attack",
  "topic_title": "Zawy\u2019s Alternating Timestamp Attack",
  "topic_html_title": "Zawy\u2019s Alternating Timestamp Attack",
  "category_id": 7,
  "display_username": "Sjors Provoost",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "version": 1,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "[quote=\"AntoineP, post:3, topic:1062\"]\nYour suggested fix makes sense.\n[/quote]\n\nAre you referring to @murch solution?\n\n[quote=\"murch, post:1, topic:1062\"]\nrequires that the last block in a difficulty period N has a higher timestamp than the first block in the same difficulty period\n[/quote]\n\n\nOr to @zawy's comment after that?\n\n\nCan someone explain why the attack needs to alternate and can't just use a constant low difficulty?\n\n[quote=\"zawy, post:5, topic:1062\"]\n1. monotonic, +/- 10 sec \u201carrival\u201d rule,\n[/quote]\n\nI suspect that would cause a mess. It could potentially introduce new attack vectors by messing with (node connections to) NTP servers. The current two hour margin is so wide you could set your computer clock with a sundial. \n\nBlock propagation throughout the whole network is probably in the order of seconds, but sometimes it seems take half minute: https://b10c.me/blog/014-mining-pool-behavior-during-forks/\n\nSlowly validating blocks, poor internet connections and having to use Tor can all add many seconds to when you receive a block.\n\nLater on:\n\n[quote=\"murch, post:16, topic:1062\"]\nI gather now that your suggestion would be to\n\n* Enforce a 2h FTL\n* Enforce that no block may be dated older than 2h before *any* of its predecessors\u2019 timestamps\n[/quote]\n\nWith FTL meaning \"Future Time Limit\". So do you mean just the existing rule that when we see a block it can't be more than 2 hours in the future? Or do you mean the timestamp can't be more than 2 hours ahead of that in the previous block?\n\n[quote=\"zawy, post:5, topic:1062\"]\nTestnet is different because of the absence of the profit motive. Someone might do it for fun. Or there might be a reason to get a lot of blocks. It needs it more than mainnet.\n[/quote]\n\nIt's probably impossible to make testnet safe against all abuse, without making it permissioned. Otherwise we would have invented an actual alternative to proof-of-work. So in practice we should probably only:\n\n1. Fix attacks that actually happened and caused, or continue to cause, significant problems. E.g. the loppocapse blockstorms.\n2. Deployment things we want to see on mainnet, to see if they have bugs and to see if anyone comes up with an attack that wasn't foreseen and could_be used on mainnet.",
  "actions_summary": [],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 71,
  "hidden": false,
  "trust_level": 3,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "reactions": [],
  "current_user_reaction": null,
  "reaction_users_count": 0,
  "current_user_used_main_reaction": false
}