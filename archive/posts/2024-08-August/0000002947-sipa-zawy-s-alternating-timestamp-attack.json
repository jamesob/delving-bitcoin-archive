{
  "id": 2947,
  "name": "Pieter Wuille",
  "username": "sipa",
  "avatar_template": "/user_avatar/delvingbitcoin.org/sipa/{size}/102_2.png",
  "created_at": "2024-08-12T21:13:02.238Z",
  "cooked": "<p><a class=\"mention\" href=\"/u/murch\">@murch</a> I believe you\u2019re right. I cannot find a way to exploit the 4x limit rule when each window is required to have a positive duration.</p>\n<p>Interestingly, if the limit were less than <span class=\"math\">e</span> (so say, it were a 2x or even 2.5x max upward difficulty adjustment), then I think it would be exploitable still. Say it is 2x:</p>\n<ul>\n<li>First window takes <span class=\"math\">\\sqrt{2}</span> times two weeks</li>\n<li>Second window takes <span class=\"math\">\\sqrt{2}</span> times two weeks</li>\n<li>Third window takes minimum legal time (i.e. 2016/6 seconds).</li>\n</ul>\n<p>Overall the operation takes <span class=\"math\">2\\sqrt{2} + \\epsilon \\approx 2.83</span> windows\u2019 worth of time, but produced <span class=\"math\">3</span> windows\u2019 worth of blocks, without ever raising the difficulty above the starting one.</p>\n<p>More elaborate (and increasingly less impactful) variations of this are possible with strictly monotonic timestamps even, as the max upward adjustment factor approaches <span class=\"math\">e</span>, but above that it no longer works.</p>\n<p>EDIT: more generally, if <span class=\"math\">m</span> is the minimum duration of a window (expressed as a multiple of two weeks) then the upward difficulty adjustment factor needs to be at least <span class=\"math\">e^{1-m}</span>.</p>",
  "post_number": 9,
  "post_type": 1,
  "updated_at": "2024-08-13T14:43:39.686Z",
  "reply_count": 0,
  "reply_to_post_number": null,
  "quote_count": 0,
  "incoming_link_count": 1,
  "reads": 17,
  "readers_count": 16,
  "score": 23.4,
  "yours": false,
  "topic_id": 1062,
  "topic_slug": "zawy-s-alternating-timestamp-attack",
  "topic_title": "Zawy\u2019s Alternating Timestamp Attack",
  "topic_html_title": "Zawy\u2019s Alternating Timestamp Attack",
  "category_id": 7,
  "display_username": "Pieter Wuille",
  "primary_group_name": null,
  "flair_name": null,
  "flair_url": null,
  "flair_bg_color": null,
  "flair_color": null,
  "flair_group_id": null,
  "version": 6,
  "can_edit": false,
  "can_delete": false,
  "can_recover": false,
  "can_see_hidden_post": false,
  "can_wiki": false,
  "user_title": null,
  "bookmarked": false,
  "raw": "@murch I believe you're right. I cannot find a way to exploit the 4x limit rule when each window is required to have a positive duration.\n\nInterestingly, if the limit were less than $e$ (so say, it were a 2x or even 2.5x max upward difficulty adjustment), then I think it would be exploitable still. Say it is 2x:\n* First window takes $\\sqrt{2}$ times two weeks\n* Second window takes $\\sqrt{2}$ times two weeks\n* Third window takes minimum legal time (i.e. 2016/6 seconds).\n\nOverall the operation takes $2\\sqrt{2} + \\epsilon \\approx 2.83$ windows' worth of time, but produced $3$ windows' worth of blocks, without ever raising the difficulty above the starting one.\n\nMore elaborate (and increasingly less impactful) variations of this are possible with strictly monotonic timestamps even, as the max upward adjustment factor approaches $e$, but above that it no longer works.\n\nEDIT: more generally, if $m$ is the minimum duration of a window (expressed as a multiple of two weeks) then the upward difficulty adjustment factor needs to be at least $e^{1-m}$.",
  "actions_summary": [
    {
      "id": 2,
      "count": 1
    }
  ],
  "moderator": false,
  "admin": false,
  "staff": false,
  "user_id": 96,
  "hidden": false,
  "trust_level": 3,
  "deleted_at": null,
  "user_deleted": false,
  "edit_reason": null,
  "can_view_edit_history": true,
  "wiki": false,
  "reactions": [
    {
      "id": "+1",
      "type": "emoji",
      "count": 1
    }
  ],
  "current_user_reaction": null,
  "reaction_users_count": 1,
  "current_user_used_main_reaction": false
}